Library {
  Name			  "marine_gnc"
  Version		  7.4
  MdlSubVersion		  0
  SavedCharacterEncoding  "windows-1252"
  LibraryType		  "BlockLibrary"
  SaveDefaultBlockParams  on
  ScopeRefreshTime	  0.035000
  OverrideScopeRefreshTime on
  DisableAllScopes	  off
  MaxMDLFileLineLength	  120
  Created		  "Fri Sep 03 12:06:35 2004"
  Creator		  "tristan"
  UpdateHistory		  "UpdateHistoryNever"
  ModifiedByFormat	  "%<Auto>"
  LastModifiedBy	  "Thor"
  ModifiedDateFormat	  "%<Auto>"
  LastModifiedDate	  "Tue Sep 08 18:23:42 2009"
  RTWModifiedTimeStamp	  174334998
  ModelVersionFormat	  "1.%<AutoIncrement:171>"
  ConfigurationManager	  "None"
  SampleTimeColors	  off
  SampleTimeAnnotations	  off
  LibraryLinkDisplay	  "none"
  WideLines		  off
  ShowLineDimensions	  off
  ShowPortDataTypes	  off
  ShowLoopsOnError	  on
  IgnoreBidirectionalLines off
  ShowStorageClass	  off
  ShowTestPointIcons	  on
  ShowSignalResolutionIcons on
  ShowViewerIcons	  on
  SortedOrder		  off
  ExecutionContextIcon	  off
  ShowLinearizationAnnotations on
  BlockNameDataTip	  off
  BlockParametersDataTip  off
  BlockDescriptionStringDataTip	off
  ToolBar		  on
  StatusBar		  on
  BrowserShowLibraryLinks on
  BrowserLookUnderMasks	  on
  SimulationMode	  "normal"
  LinearizationMsg	  "none"
  Profile		  off
  ParamWorkspaceSource	  "MATLABWorkspace"
  CovSaveName		  "covdata"
  CovMetricSettings	  "dw"
  CovNameIncrementing	  off
  CovHtmlReporting	  on
  CovForceBlockReductionOff on
  covSaveCumulativeToWorkspaceVar on
  CovSaveSingleToWorkspaceVar on
  CovCumulativeReport	  off
  CovReportOnPause	  on
  CovModelRefEnable	  "Off"
  CovExternalEMLEnable	  off
  ExtModeBatchMode	  off
  ExtModeEnableFloating	  on
  ExtModeTrigType	  "manual"
  ExtModeTrigMode	  "normal"
  ExtModeTrigPort	  "1"
  ExtModeTrigElement	  "any"
  ExtModeTrigDuration	  1000
  ExtModeTrigDurationFloating "auto"
  ExtModeTrigHoldOff	  0
  ExtModeTrigDelay	  0
  ExtModeTrigDirection	  "rising"
  ExtModeTrigLevel	  0
  ExtModeArchiveMode	  "off"
  ExtModeAutoIncOneShot	  off
  ExtModeIncDirWhenArm	  off
  ExtModeAddSuffixToVar	  off
  ExtModeWriteAllDataToWs off
  ExtModeArmWhenConnect	  on
  ExtModeSkipDownloadWhenConnect off
  ExtModeLogAll		  on
  ExtModeAutoUpdateStatusClock on
  ShowModelReferenceBlockVersion off
  ShowModelReferenceBlockIO off
  Array {
    Type		    "Handle"
    Dimension		    1
    Simulink.ConfigSet {
      $ObjectID		      1
      Version		      "1.6.0"
      Array {
	Type			"Handle"
	Dimension		8
	Simulink.SolverCC {
	  $ObjectID		  2
	  Version		  "1.6.0"
	  StartTime		  "0.0"
	  StopTime		  "10.0"
	  AbsTol		  "auto"
	  FixedStep		  "auto"
	  InitialStep		  "auto"
	  MaxNumMinSteps	  "-1"
	  MaxOrder		  5
	  ZcThreshold		  "auto"
	  ConsecutiveZCsStepRelTol "10*128*eps"
	  MaxConsecutiveZCs	  "1000"
	  ExtrapolationOrder	  4
	  NumberNewtonIterations  1
	  MaxStep		  "auto"
	  MinStep		  "auto"
	  MaxConsecutiveMinStep	  "1"
	  RelTol		  "1e-3"
	  SolverMode		  "SingleTasking"
	  Solver		  "ode45"
	  SolverName		  "ode45"
	  ShapePreserveControl	  "DisableAll"
	  ZeroCrossControl	  "UseLocalSettings"
	  ZeroCrossAlgorithm	  "Nonadaptive"
	  AlgebraicLoopSolver	  "TrustRegion"
	  SolverResetMethod	  "Fast"
	  PositivePriorityOrder	  off
	  AutoInsertRateTranBlk	  off
	  SampleTimeConstraint	  "Unconstrained"
	  InsertRTBMode		  "Whenever possible"
	}
	Simulink.DataIOCC {
	  $ObjectID		  3
	  Version		  "1.6.0"
	  Decimation		  "1"
	  ExternalInput		  "[t, u]"
	  FinalStateName	  "xFinal"
	  InitialState		  "xInitial"
	  LimitDataPoints	  on
	  MaxDataPoints		  "1000"
	  LoadExternalInput	  off
	  LoadInitialState	  off
	  SaveFinalState	  off
	  SaveCompleteFinalSimState off
	  SaveFormat		  "Array"
	  SaveOutput		  on
	  SaveState		  off
	  SignalLogging		  on
	  InspectSignalLogs	  off
	  SaveTime		  on
	  ReturnWorkspaceOutputs  off
	  StateSaveName		  "xout"
	  TimeSaveName		  "tout"
	  OutputSaveName	  "yout"
	  SignalLoggingName	  "logsout"
	  OutputOption		  "RefineOutputTimes"
	  OutputTimes		  "[]"
	  ReturnWorkspaceOutputsName "out"
	  Refine		  "1"
	}
	Simulink.OptimizationCC {
	  $ObjectID		  4
	  Version		  "1.6.0"
	  Array {
	    Type		    "Cell"
	    Dimension		    4
	    Cell		    "ZeroExternalMemoryAtStartup"
	    Cell		    "ZeroInternalMemoryAtStartup"
	    Cell		    "OptimizeModelRefInitCode"
	    Cell		    "NoFixptDivByZeroProtection"
	    PropName		    "DisabledProps"
	  }
	  BlockReduction	  off
	  BooleanDataType	  off
	  ConditionallyExecuteInputs on
	  InlineParams		  off
	  UseIntDivNetSlope	  off
	  InlineInvariantSignals  off
	  OptimizeBlockIOStorage  on
	  BufferReuse		  on
	  EnhancedBackFolding	  off
	  StrengthReduction	  off
	  EnforceIntegerDowncast  on
	  ExpressionFolding	  on
	  BooleansAsBitfields	  off
	  EnableMemcpy		  on
	  MemcpyThreshold	  64
	  PassReuseOutputArgsAs	  "Structure reference"
	  ExpressionDepthLimit	  2147483647
	  FoldNonRolledExpr	  on
	  LocalBlockOutputs	  on
	  RollThreshold		  5
	  SystemCodeInlineAuto	  off
	  StateBitsets		  off
	  DataBitsets		  off
	  UseTempVars		  off
	  ZeroExternalMemoryAtStartup on
	  ZeroInternalMemoryAtStartup on
	  InitFltsAndDblsToZero	  off
	  NoFixptDivByZeroProtection off
	  EfficientFloat2IntCast  off
	  EfficientMapNaN2IntZero on
	  OptimizeModelRefInitCode off
	  LifeSpan		  "inf"
	  BufferReusableBoundary  on
	  SimCompilerOptimization "Off"
	  AccelVerboseBuild	  off
	}
	Simulink.DebuggingCC {
	  $ObjectID		  5
	  Version		  "1.6.0"
	  RTPrefix		  "error"
	  ConsistencyChecking	  "none"
	  ArrayBoundsChecking	  "none"
	  SignalInfNanChecking	  "none"
	  SignalRangeChecking	  "none"
	  ReadBeforeWriteMsg	  "UseLocalSettings"
	  WriteAfterWriteMsg	  "UseLocalSettings"
	  WriteAfterReadMsg	  "UseLocalSettings"
	  AlgebraicLoopMsg	  "warning"
	  ArtificialAlgebraicLoopMsg "warning"
	  SaveWithDisabledLinksMsg "warning"
	  SaveWithParameterizedLinksMsg	"none"
	  CheckSSInitialOutputMsg on
	  UnderspecifiedInitializationDetection	"Classic"
	  MergeDetectMultiDrivingBlocksExec "none"
	  CheckExecutionContextPreStartOutputMsg off
	  CheckExecutionContextRuntimeOutputMsg	off
	  SignalResolutionControl "TryResolveAllWithWarning"
	  BlockPriorityViolationMsg "warning"
	  MinStepSizeMsg	  "warning"
	  TimeAdjustmentMsg	  "none"
	  MaxConsecutiveZCsMsg	  "error"
	  SolverPrmCheckMsg	  "none"
	  InheritedTsInSrcMsg	  "warning"
	  DiscreteInheritContinuousMsg "warning"
	  MultiTaskDSMMsg	  "error"
	  MultiTaskCondExecSysMsg "error"
	  MultiTaskRateTransMsg	  "error"
	  SingleTaskRateTransMsg  "none"
	  TasksWithSamePriorityMsg "warning"
	  SigSpecEnsureSampleTimeMsg "warning"
	  CheckMatrixSingularityMsg "none"
	  IntegerOverflowMsg	  "warning"
	  Int32ToFloatConvMsg	  "warning"
	  ParameterDowncastMsg	  "error"
	  ParameterOverflowMsg	  "error"
	  ParameterUnderflowMsg	  "none"
	  ParameterPrecisionLossMsg "warning"
	  ParameterTunabilityLossMsg "warning"
	  FixptConstUnderflowMsg  "none"
	  FixptConstOverflowMsg	  "none"
	  FixptConstPrecisionLossMsg "none"
	  UnderSpecifiedDataTypeMsg "none"
	  UnnecessaryDatatypeConvMsg "none"
	  VectorMatrixConversionMsg "none"
	  InvalidFcnCallConnMsg	  "error"
	  FcnCallInpInsideContextMsg "Use local settings"
	  SignalLabelMismatchMsg  "none"
	  UnconnectedInputMsg	  "warning"
	  UnconnectedOutputMsg	  "warning"
	  UnconnectedLineMsg	  "warning"
	  SFcnCompatibilityMsg	  "none"
	  UniqueDataStoreMsg	  "none"
	  BusObjectLabelMismatch  "warning"
	  RootOutportRequireBusObject "warning"
	  AssertControl		  "UseLocalSettings"
	  EnableOverflowDetection off
	  ModelReferenceIOMsg	  "none"
	  ModelReferenceVersionMismatchMessage "none"
	  ModelReferenceIOMismatchMessage "none"
	  ModelReferenceCSMismatchMessage "none"
	  UnknownTsInhSupMsg	  "warning"
	  ModelReferenceDataLoggingMessage "warning"
	  ModelReferenceSymbolNameMessage "warning"
	  ModelReferenceExtraNoncontSigs "error"
	  StateNameClashWarn	  "warning"
	  SimStateInterfaceChecksumMismatchMsg "warning"
	  StrictBusMsg		  "Warning"
	  LoggingUnavailableSignals "error"
	  BlockIODiagnostic	  "none"
	}
	Simulink.HardwareCC {
	  $ObjectID		  6
	  Version		  "1.6.0"
	  ProdBitPerChar	  8
	  ProdBitPerShort	  16
	  ProdBitPerInt		  32
	  ProdBitPerLong	  32
	  ProdIntDivRoundTo	  "Undefined"
	  ProdEndianess		  "Unspecified"
	  ProdWordSize		  32
	  ProdShiftRightIntArith  on
	  ProdHWDeviceType	  "32-bit Generic"
	  TargetBitPerChar	  8
	  TargetBitPerShort	  16
	  TargetBitPerInt	  32
	  TargetBitPerLong	  32
	  TargetShiftRightIntArith on
	  TargetIntDivRoundTo	  "Undefined"
	  TargetEndianess	  "Unspecified"
	  TargetWordSize	  32
	  TargetTypeEmulationWarnSuppressLevel 0
	  TargetPreprocMaxBitsSint 32
	  TargetPreprocMaxBitsUint 32
	  TargetHWDeviceType	  "Specified"
	  TargetUnknown		  on
	  ProdEqTarget		  on
	}
	Simulink.ModelReferenceCC {
	  $ObjectID		  7
	  Version		  "1.6.0"
	  UpdateModelReferenceTargets "IfOutOfDateOrStructuralChange"
	  CheckModelReferenceTargetMessage "error"
	  ModelReferenceNumInstancesAllowed "Multi"
	  ModelReferencePassRootInputsByReference on
	  ModelReferenceMinAlgLoopOccurrences off
	}
	Simulink.SFSimCC {
	  $ObjectID		  8
	  Version		  "1.6.0"
	  SFSimEnableDebug	  on
	  SFSimOverflowDetection  on
	  SFSimEcho		  on
	  SimBlas		  on
	  SimCtrlC		  on
	  SimExtrinsic		  on
	  SimIntegrity		  on
	  SimUseLocalCustomCode	  off
	  SimBuildMode		  "sf_incremental_build"
	}
	Simulink.RTWCC {
	  $BackupClass		  "Simulink.RTWCC"
	  $ObjectID		  9
	  Version		  "1.6.0"
	  Array {
	    Type		    "Cell"
	    Dimension		    6
	    Cell		    "IncludeHyperlinkInReport"
	    Cell		    "GenerateTraceInfo"
	    Cell		    "GenerateTraceReport"
	    Cell		    "GenerateTraceReportSl"
	    Cell		    "GenerateTraceReportSf"
	    Cell		    "GenerateTraceReportEml"
	    PropName		    "DisabledProps"
	  }
	  SystemTargetFile	  "grt.tlc"
	  GenCodeOnly		  off
	  MakeCommand		  "make_rtw"
	  GenerateMakefile	  on
	  TemplateMakefile	  "grt_default_tmf"
	  GenerateReport	  off
	  SaveLog		  off
	  RTWVerbose		  on
	  RetainRTWFile		  off
	  ProfileTLC		  off
	  TLCDebug		  off
	  TLCCoverage		  off
	  TLCAssert		  off
	  ProcessScriptMode	  "Default"
	  ConfigurationMode	  "Optimized"
	  ConfigAtBuild		  off
	  RTWUseLocalCustomCode	  off
	  RTWUseSimCustomCode	  off
	  IncludeHyperlinkInReport off
	  LaunchReport		  off
	  TargetLang		  "C"
	  IncludeBusHierarchyInRTWFileBlockHierarchyMap	off
	  IncludeERTFirstTime	  off
	  GenerateTraceInfo	  off
	  GenerateTraceReport	  off
	  GenerateTraceReportSl	  off
	  GenerateTraceReportSf	  off
	  GenerateTraceReportEml  off
	  GenerateCodeInfo	  off
	  RTWCompilerOptimization "Off"
	  CheckMdlBeforeBuild	  "Off"
	  Array {
	    Type		    "Handle"
	    Dimension		    2
	    Simulink.CodeAppCC {
	      $ObjectID		      10
	      Version		      "1.6.0"
	      Array {
		Type			"Cell"
		Dimension		17
		Cell			"IgnoreCustomStorageClasses"
		Cell			"IgnoreTestpoints"
		Cell			"InsertBlockDesc"
		Cell			"SFDataObjDesc"
		Cell			"SimulinkDataObjDesc"
		Cell			"DefineNamingRule"
		Cell			"SignalNamingRule"
		Cell			"ParamNamingRule"
		Cell			"InlinedPrmAccess"
		Cell			"CustomSymbolStr"
		Cell			"CustomSymbolStrGlobalVar"
		Cell			"CustomSymbolStrType"
		Cell			"CustomSymbolStrField"
		Cell			"CustomSymbolStrFcn"
		Cell			"CustomSymbolStrBlkIO"
		Cell			"CustomSymbolStrTmpVar"
		Cell			"CustomSymbolStrMacro"
		PropName		"DisabledProps"
	      }
	      ForceParamTrailComments off
	      GenerateComments	      on
	      IgnoreCustomStorageClasses on
	      IgnoreTestpoints	      off
	      IncHierarchyInIds	      off
	      MaxIdLength	      31
	      PreserveName	      off
	      PreserveNameWithParent  off
	      ShowEliminatedStatement off
	      IncAutoGenComments      off
	      SimulinkDataObjDesc     off
	      SFDataObjDesc	      off
	      IncDataTypeInIds	      off
	      MangleLength	      1
	      CustomSymbolStrGlobalVar "$R$N$M"
	      CustomSymbolStrType     "$N$R$M"
	      CustomSymbolStrField    "$N$M"
	      CustomSymbolStrFcn      "$R$N$M$F"
	      CustomSymbolStrFcnArg   "rt$I$N$M"
	      CustomSymbolStrBlkIO    "rtb_$N$M"
	      CustomSymbolStrTmpVar   "$N$M"
	      CustomSymbolStrMacro    "$R$N$M"
	      DefineNamingRule	      "None"
	      ParamNamingRule	      "None"
	      SignalNamingRule	      "None"
	      InsertBlockDesc	      off
	      SimulinkBlockComments   on
	      EnableCustomComments    off
	      InlinedPrmAccess	      "Literals"
	      ReqsInCode	      off
	      UseSimReservedNames     off
	    }
	    Simulink.GRTTargetCC {
	      $BackupClass	      "Simulink.TargetCC"
	      $ObjectID		      11
	      Version		      "1.6.0"
	      Array {
		Type			"Cell"
		Dimension		16
		Cell			"IncludeMdlTerminateFcn"
		Cell			"CombineOutputUpdateFcns"
		Cell			"SuppressErrorStatus"
		Cell			"ERTCustomFileBanners"
		Cell			"GenerateSampleERTMain"
		Cell			"GenerateTestInterfaces"
		Cell			"ModelStepFunctionPrototypeControlCompliant"
		Cell			"CPPClassGenCompliant"
		Cell			"MultiInstanceERTCode"
		Cell			"PurelyIntegerCode"
		Cell			"SupportNonFinite"
		Cell			"SupportComplex"
		Cell			"SupportAbsoluteTime"
		Cell			"SupportContinuousTime"
		Cell			"SupportNonInlinedSFcns"
		Cell			"PortableWordSizes"
		PropName		"DisabledProps"
	      }
	      TargetFcnLib	      "ansi_tfl_table_tmw.mat"
	      TargetLibSuffix	      ""
	      TargetPreCompLibLocation ""
	      TargetFunctionLibrary   "ANSI_C"
	      UtilityFuncGeneration   "Auto"
	      ERTMultiwordTypeDef     "System defined"
	      ERTMultiwordLength      256
	      MultiwordLength	      2048
	      GenerateFullHeader      on
	      GenerateSampleERTMain   off
	      GenerateTestInterfaces  off
	      IsPILTarget	      off
	      ModelReferenceCompliant on
	      ParMdlRefBuildCompliant on
	      CompOptLevelCompliant   on
	      IncludeMdlTerminateFcn  on
	      GeneratePreprocessorConditionals "Disable all"
	      CombineOutputUpdateFcns off
	      SuppressErrorStatus     off
	      ERTFirstTimeCompliant   off
	      IncludeFileDelimiter    "Auto"
	      ERTCustomFileBanners    off
	      SupportAbsoluteTime     on
	      LogVarNameModifier      "rt_"
	      MatFileLogging	      on
	      MultiInstanceERTCode    off
	      SupportNonFinite	      on
	      SupportComplex	      on
	      PurelyIntegerCode	      off
	      SupportContinuousTime   on
	      SupportNonInlinedSFcns  on
	      SupportVariableSizeSignals off
	      EnableShiftOperators    on
	      ParenthesesLevel	      "Nominal"
	      PortableWordSizes	      off
	      ModelStepFunctionPrototypeControlCompliant off
	      CPPClassGenCompliant    off
	      AutosarCompliant	      off
	      UseMalloc		      off
	      ExtMode		      off
	      ExtModeStaticAlloc      off
	      ExtModeTesting	      off
	      ExtModeStaticAllocSize  1000000
	      ExtModeTransport	      0
	      ExtModeMexFile	      "ext_comm"
	      ExtModeIntrfLevel	      "Level1"
	      RTWCAPISignals	      off
	      RTWCAPIParams	      off
	      RTWCAPIStates	      off
	      GenerateASAP2	      off
	    }
	    PropName		    "Components"
	  }
	}
	PropName		"Components"
      }
      Name		      "Configuration"
      CurrentDlgPage	      "Solver"
      ConfigPrmDlgPosition    " [ 520, 285, 1400, 915 ] "
    }
    PropName		    "ConfigurationSets"
  }
  BlockDefaults {
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    NamePlacement	    "normal"
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    ShowName		    on
    BlockRotation	    0
    BlockMirror		    off
  }
  AnnotationDefaults {
    HorizontalAlignment	    "center"
    VerticalAlignment	    "middle"
    ForegroundColor	    "black"
    BackgroundColor	    "white"
    DropShadow		    off
    FontName		    "Helvetica"
    FontSize		    10
    FontWeight		    "normal"
    FontAngle		    "normal"
    UseDisplayTextAsClickCallback off
  }
  LineDefaults {
    FontName		    "Helvetica"
    FontSize		    9
    FontWeight		    "normal"
    FontAngle		    "normal"
  }
  BlockParameterDefaults {
    Block {
      BlockType		      Abs
      ZeroCross		      on
      SampleTime	      "-1"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
    }
    Block {
      BlockType		      ActionPort
      InitializeStates	      "held"
      PropagateVarSize	      "Only when execution is resumed"
      ActionType	      "unset"
    }
    Block {
      BlockType		      Backlash
      BacklashWidth	      "1"
      InitialOutput	      "0"
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      BusCreator
      Inputs		      "4"
      DisplayOption	      "none"
      UseBusObject	      off
      BusObject		      "BusObject"
      NonVirtualBus	      off
    }
    Block {
      BlockType		      BusSelector
      OutputAsBus	      off
    }
    Block {
      BlockType		      Clock
      DisplayTime	      off
    }
    Block {
      BlockType		      Concatenate
      NumInputs		      "2"
      ConcatenateDimension    "1"
    }
    Block {
      BlockType		      Constant
      Value		      "1"
      VectorParams1D	      on
      SamplingMode	      "Sample based"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Inherit from 'Constant value'"
      OutDataType	      "fixdt(1,16,0)"
      ConRadixGroup	      "Use specified scaling"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Inherit from 'Constant value'"
      LockScale		      off
      SampleTime	      "inf"
      FramePeriod	      "inf"
    }
    Block {
      BlockType		      Demux
      Outputs		      "4"
      DisplayOption	      "none"
      BusSelectionMode	      off
    }
    Block {
      BlockType		      Display
      Format		      "short"
      Decimation	      "10"
      Floating		      off
      SampleTime	      "-1"
    }
    Block {
      BlockType		      EnablePort
      StatesWhenEnabling      "held"
      PropagateVarSize	      "Only when enabling"
      ShowOutputPort	      off
      ZeroCross		      on
    }
    Block {
      BlockType		      Fcn
      Expr		      "sin(u[1])"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      ForIterator
      ResetStates	      "held"
      IterationSource	      "internal"
      IterationLimit	      "5"
      ExternalIncrement	      off
      ShowIterationPort	      on
      IndexMode		      "One-based"
      IterationVariableDataType	"int32"
    }
    Block {
      BlockType		      Gain
      Gain		      "1"
      Multiplication	      "Element-wise(K.*u)"
      ParamMin		      "[]"
      ParamMax		      "[]"
      ParameterDataTypeMode   "Same as input"
      ParameterDataType	      "fixdt(1,16,0)"
      ParameterScalingMode    "Best Precision: Matrix-wise"
      ParameterScaling	      "[]"
      ParamDataTypeStr	      "Inherit: Same as input"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Ground
    }
    Block {
      BlockType		      If
      NumInputs		      "1"
      IfExpression	      "u1 > 0"
      ShowElse		      on
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Inport
      Port		      "1"
      UseBusObject	      off
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      DataType		      "auto"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      SignalType	      "auto"
      SamplingMode	      "auto"
      LatchByDelayingOutsideSignal off
      LatchByCopyingInsideSignal off
      Interpolate	      on
    }
    Block {
      BlockType		      Integrator
      ExternalReset	      "none"
      InitialConditionSource  "internal"
      InitialCondition	      "0"
      LimitOutput	      off
      UpperSaturationLimit    "inf"
      LowerSaturationLimit    "-inf"
      ShowSaturationPort      off
      ShowStatePort	      off
      AbsoluteTolerance	      "auto"
      IgnoreLimit	      off
      ZeroCross		      on
      ContinuousStateAttributes	"''"
    }
    Block {
      BlockType		      Lookup
      Table		      " rand(1,10)-0.5"
      LookUpMeth	      "Interpolation-Extrapolation"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
      LUTDesignTableMode      "Redesign Table"
      LUTDesignDataSource     "Block Dialog"
      LUTDesignFunctionName   "sqrt(x)"
      LUTDesignUseExistingBP  on
      LUTDesignRelError	      "0.01"
      LUTDesignAbsError	      "1e-6"
    }
    Block {
      BlockType		      Lookup2D
      RowIndex		      "[0 1]"
      ColumnIndex	      "[0 1]"
      Table		      "[0 0;0 0]"
      LookUpMeth	      "Interpolation-Extrapolation"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
      LUTDesignTableMode      "Redesign Table"
      LUTDesignDataSource     "Block Dialog"
      LUTDesignFunctionName   "sqrt(x)"
      LUTDesignUseExistingBP  on
      LUTDesignRelError	      "0.01"
      LUTDesignAbsError	      "1e-6"
    }
    Block {
      BlockType		      MATLABFcn
      MATLABFcn		      "sin"
      OutputDimensions	      "-1"
      OutputSignalType	      "auto"
      Output1D		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Math
      Operator		      "exp"
      OutputSignalType	      "auto"
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      IntermediateResultsDataTypeStr "Inherit: Inherit via internal rule"
      AlgorithmType	      "Newton-Raphson"
      Iterations	      "3"
    }
    Block {
      BlockType		      Memory
      X0		      "0"
      InheritSampleTime	      off
      LinearizeMemory	      off
      LinearizeAsDelay	      off
      StateMustResolveToSignalObject off
      RTWStateStorageClass    "Auto"
    }
    Block {
      BlockType		      Merge
      Inputs		      "2"
      InitialOutput	      "[]"
      AllowUnequalInputPortWidths off
      InputPortOffsets	      "[]"
    }
    Block {
      BlockType		      MinMax
      Function		      "min"
      Inputs		      "1"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Inherit via internal rule"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      MultiPortSwitch
      Inputs		      "3"
      zeroidx		      off
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Inherit via internal rule"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
      AllowDiffInputSizes     off
    }
    Block {
      BlockType		      Mux
      Inputs		      "4"
      DisplayOption	      "none"
      UseBusObject	      off
      BusObject		      "BusObject"
      NonVirtualBus	      off
    }
    Block {
      BlockType		      Outport
      Port		      "1"
      UseBusObject	      off
      BusObject		      "BusObject"
      BusOutputAsStruct	      off
      PortDimensions	      "-1"
      VarSizeSig	      "Inherit"
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      DataType		      "auto"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: auto"
      LockScale		      off
      SignalType	      "auto"
      SamplingMode	      "auto"
      SourceOfInitialOutputValue "Dialog"
      OutputWhenDisabled      "held"
      InitialOutput	      "[]"
    }
    Block {
      BlockType		      Product
      Inputs		      "2"
      Multiplication	      "Element-wise(.*)"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Zero"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Quantizer
      QuantizationInterval    "0.5"
      LinearizeAsGain	      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      RandomNumber
      Mean		      "0"
      Variance		      "1"
      Seed		      "0"
      SampleTime	      "-1"
      VectorParams1D	      on
    }
    Block {
      BlockType		      Rounding
      Operator		      "floor"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      "S-Function"
      FunctionName	      "system"
      SFunctionModules	      "''"
      PortCounts	      "[]"
      SFunctionDeploymentMode off
    }
    Block {
      BlockType		      Saturate
      UpperLimit	      "0.5"
      LowerLimit	      "-0.5"
      LinearizeAsGain	      on
      ZeroCross		      on
      SampleTime	      "-1"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as input"
      LockScale		      off
      RndMeth		      "Floor"
    }
    Block {
      BlockType		      Scope
      ModelBased	      off
      TickLabels	      "OneTimeTick"
      ZoomMode		      "on"
      Grid		      "on"
      TimeRange		      "auto"
      YMin		      "-5"
      YMax		      "5"
      SaveToWorkspace	      off
      SaveName		      "ScopeData"
      LimitDataPoints	      on
      MaxDataPoints	      "5000"
      Decimation	      "1"
      SampleInput	      off
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Selector
      NumberOfDimensions      "1"
      IndexMode		      "One-based"
      InputPortWidth	      "-1"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Signum
      ZeroCross		      on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Step
      Time		      "1"
      Before		      "0"
      After		      "1"
      SampleTime	      "-1"
      VectorParams1D	      on
      ZeroCross		      on
    }
    Block {
      BlockType		      Stop
    }
    Block {
      BlockType		      SubSystem
      ShowPortLabels	      "FromPortIcon"
      Permissions	      "ReadWrite"
      PermitHierarchicalResolution "All"
      TreatAsAtomicUnit	      off
      CheckFcnCallInpInsideContextMsg off
      SystemSampleTime	      "-1"
      RTWFcnNameOpts	      "Auto"
      RTWFileNameOpts	      "Auto"
      RTWMemSecFuncInitTerm   "Inherit from model"
      RTWMemSecFuncExecute    "Inherit from model"
      RTWMemSecDataConstants  "Inherit from model"
      RTWMemSecDataInternal   "Inherit from model"
      RTWMemSecDataParameters "Inherit from model"
      SimViewingDevice	      off
      DataTypeOverride	      "UseLocalSettings"
      MinMaxOverflowLogging   "UseLocalSettings"
    }
    Block {
      BlockType		      Sum
      IconShape		      "rectangular"
      Inputs		      "++"
      CollapseMode	      "All dimensions"
      CollapseDim	      "1"
      InputSameDT	      on
      AccumDataTypeStr	      "Inherit: Inherit via internal rule"
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Same as first input"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Same as first input"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Switch
      Criteria		      "u2 >= Threshold"
      Threshold		      "0"
      InputSameDT	      on
      OutMin		      "[]"
      OutMax		      "[]"
      OutDataTypeMode	      "Inherit via internal rule"
      OutDataType	      "fixdt(1,16,0)"
      OutScaling	      "[]"
      OutDataTypeStr	      "Inherit: Inherit via internal rule"
      LockScale		      off
      RndMeth		      "Floor"
      SaturateOnIntegerOverflow	on
      ZeroCross		      on
      SampleTime	      "-1"
      AllowDiffInputSizes     off
    }
    Block {
      BlockType		      Terminator
    }
    Block {
      BlockType		      TransferFcn
      Numerator		      "[1]"
      Denominator	      "[1 2 1]"
      AbsoluteTolerance	      "auto"
      ContinuousStateAttributes	"''"
      Realization	      "auto"
    }
    Block {
      BlockType		      TriggerPort
      TriggerType	      "rising"
      StatesWhenEnabling      "inherit"
      PropagateVarSize	      "During execution"
      ShowOutputPort	      off
      OutputDataType	      "auto"
      SampleTimeType	      "triggered"
      SampleTime	      "1"
      ZeroCross		      on
    }
    Block {
      BlockType		      Trigonometry
      Operator		      "sin"
      OutputSignalType	      "auto"
      SampleTime	      "-1"
    }
    Block {
      BlockType		      Width
      OutDataTypeMode	      "Choose intrinsic data type"
      DataType		      "double"
    }
  }
  System {
    Name		    "marine_gnc"
    Location		    [660, 253, 1728, 1158]
    Open		    on
    ModelBrowserVisibility  on
    ModelBrowserWidth	    200
    ScreenColor		    "white"
    PaperOrientation	    "landscape"
    PaperPositionMode	    "auto"
    PaperType		    "usletter"
    PaperUnits		    "inches"
    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
    TiledPageScale	    1
    ShowPageBoundaries	    off
    ZoomFactor		    "112"
    ReportName		    "simulink-default.rpt"
    SIDHighWatermark	    1230
    Block {
      BlockType		      SubSystem
      Name		      "Control"
      SID		      1
      Ports		      []
      Position		      [45, 274, 92, 325]
      BackgroundColor	      "yellow"
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"Control"
	Location		[339, 227, 1085, 973]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Autopilots"
	  SID			  2
	  Ports			  []
	  Position		  [20, 14, 67, 65]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Autopilots"
	    Location		    [601, 291, 1789, 862]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Heading autopilot"
	      SID		      3
	      Ports		      [5, 1]
	      Position		      [50, 35, 180, 115]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Course Autopilot"
	      MaskDescription	      "PID Autopilot with reference feedforward."
	      MaskHelp		      "INPUTS: (1)  desired position, (2) desired velocity, (3) desired acceleration, (4) heading ang"
	      "le, (5) heading rate: OUTPUTS: (1) rudder angle"
	      MaskPromptString	      "Nomoto Time Constant: T|Nomoto gain: K|Proportional Gain: Kp|Derivative Time: Td|Integr"
	      "al Time: Ti"
	      MaskStyleString	      "edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on"
	      MaskCallbackString      "||||"
	      MaskEnableString	      "on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on"
	      MaskVariables	      "T_nomoto=@1;K_nomoto=@2;Kp=@3;Td=@4;Ti=@5;"
	      MaskDisplay	      "disp('PID\\n tracking\\n controller')\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1|1|1|0|0"
	      System {
		Name			"Heading autopilot"
		Location		[601, 291, 1789, 862]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "psi_d"
		  SID			  4
		  Position		  [40, 90, 60, 110]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "r_d"
		  SID			  5
		  Position		  [155, 180, 175, 200]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "d/dt(r_d)"
		  SID			  6
		  Position		  [705, 360, 725, 380]
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "psi"
		  SID			  7
		  Position		  [420, 360, 440, 380]
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "r"
		  SID			  8
		  Position		  [410, 240, 430, 260]
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  Port			  "5"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "D-action"
		  SID			  9
		  Position		  [305, 172, 370, 208]
		  BackgroundColor	  "yellow"
		  Gain			  "Kp*Td"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "D-action1"
		  SID			  10
		  Position		  [545, 353, 630, 387]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Gain			  "T_nomoto"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "D-action2"
		  SID			  11
		  Position		  [536, 195, 644, 230]
		  BlockRotation		  270
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/K_nomoto"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "I-action  \n"
		  SID			  12
		  Position		  [305, 85, 360, 115]
		  BackgroundColor	  "yellow"
		  Gain			  "1/Ti"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  TransferFcn
		  Name			  "Integral"
		  SID			  13
		  Position		  [385, 82, 420, 118]
		  BackgroundColor	  "yellow"
		  Denominator		  "[1 0]"
		}
		Block {
		  BlockType		  Gain
		  Name			  "P-action"
		  SID			  14
		  Position		  [235, 84, 275, 116]
		  BackgroundColor	  "yellow"
		  Gain			  "Kp"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  15
		  Ports			  [4, 1]
		  Position		  [635, 87, 655, 123]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "++++"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  16
		  Ports			  [2, 1]
		  Position		  [90, 90, 110, 110]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "\n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  17
		  Ports			  [2, 1]
		  Position		  [240, 180, 260, 200]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "\n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  SID			  18
		  Ports			  [2, 1]
		  Position		  [500, 310, 520, 330]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "\n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  19
		  Ports			  [1, 1]
		  Position		  [130, 75, 215, 125]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tau_N"
		  SID			  20
		  Position		  [725, 95, 745, 115]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "P-action"
		  SrcPort		  1
		  Points		  [5, 0; -5, 0]
		  Branch {
		    Points		    [0, -40; 270, 0; 0, 30]
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "I-action  \n"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "I-action  \n"
		  SrcPort		  1
		  DstBlock		  "Integral"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "D-action"
		  SrcPort		  1
		  Points		  [80, 0; 0, -80]
		  DstBlock		  "Sum1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "tau_N"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integral"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  Name			  "\n"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "D-action"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "psi"
		  SrcPort		  1
		  Points		  [-315, 0]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "d/dt(r_d)"
		  SrcPort		  1
		  DstBlock		  "D-action1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "r"
		  SrcPort		  1
		  Points		  [-155, 0]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "r_d"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 130]
		    DstBlock		    "Sum4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "D-action1"
		  SrcPort		  1
		  Points		  [-30, 0]
		  DstBlock		  "Sum4"
		  DstPort		  2
		}
		Line {
		  Name			  "\n"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [65, 0]
		  DstBlock		  "D-action2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "D-action2"
		  SrcPort		  1
		  Points		  [0, -70]
		  DstBlock		  "Sum1"
		  DstPort		  4
		}
		Line {
		  Name			  "\n"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  DstBlock		  "P-action"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "psi_d"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Dynamic \nPositioning "
	  SID			  21
	  Ports			  []
	  Position		  [20, 94, 67, 145]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Dynamic \nPositioning "
	    Location		    [215, 452, 1193, 1111]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "DP controller"
	      SID		      22
	      Ports		      [3, 1]
	      Position		      [30, 36, 160, 114]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Nonlinear DP Controller"
	      MaskDescription	      "Nonlinear PID controller for Set-Point Reulation in Surge, Sway and Yaw"
	      MaskHelp		      "The nonlinear  PID controller uses the rotation matrix in yaw for proper scaling of the surge,"
	      " sway and yaw gains as a function of the yaw angle. \nINPUTS: (1) eta_ref, (2) eta, (3) nu. OUPUTS: (1) tau."
	      MaskPromptString	      "Proportional Gain Matrix: Kp|Derivative Gain Matrix: Kd|Integral Gain Matrix: Ki"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "Kp=@1;Kd=@2;Ki=@3;"
	      MaskDisplay	      "disp('Nonlinear PID\\n set-point controller')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "diag([1 1 1])|diag([1 1 1])|diag([1 1 1])"
	      System {
		Name			"DP controller"
		Location		[339, 227, 1085, 959]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "eta_ref"
		  SID			  23
		  Position		  [90, 70, 120, 85]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "eta"
		  SID			  24
		  Position		  [20, 122, 50, 138]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nu"
		  SID			  25
		  Position		  [20, 218, 50, 232]
		  BackgroundColor	  "green"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  26
		  Ports			  [1, 3]
		  Position		  [260, 71, 265, 109]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  27
		  Ports			  [1, 1]
		  Position		  [675, 130, 705, 160]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Kd"
		  SID			  28
		  Position		  [650, 220, 680, 250]
		  BackgroundColor	  "yellow"
		  Gain			  "Kd"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Ki"
		  SID			  29
		  Position		  [713, 80, 747, 115]
		  BlockRotation		  270
		  BackgroundColor	  "yellow"
		  Gain			  "Ki"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Kp"
		  SID			  30
		  Position		  [670, 33, 705, 67]
		  BackgroundColor	  "yellow"
		  Gain			  "Kp"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  31
		  Ports			  [3, 1]
		  Position		  [425, 71, 430, 109]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  32
		  Ports			  [2, 1]
		  Position		  [775, 40, 795, 60]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  33
		  Ports			  [2, 1]
		  Position		  [95, 120, 115, 140]
		  BackgroundColor	  "yellow"
		  IconShape		  "round"
		  Inputs		  "+-|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "regulation error"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  34
		  Ports			  [2, 1]
		  Position		  [720, 40, 740, 60]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  IconShape		  "round"
		  Inputs		  "|++"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Transposed rotation\n matrix in yaw1"
		  SID			  35
		  Ports			  [2, 1]
		  Position		  [535, 31, 620, 89]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Transposed rotation\n matrix in yaw"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  36
		  Ports			  [1, 1]
		  Position		  [295, 111, 395, 159]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]1"
		  SID			  37
		  Ports			  [1, 1]
		  Position		  [290, 16, 390, 64]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "yaw angle"
		  SID			  38
		  Position		  [110, 17, 145, 43]
		  BackgroundColor	  "yellow"
		  Expr			  "u(3)"
		  Port {
		    PortNumber		    1
		    Name		    "psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "tau"
		  SID			  39
		  Position		  [825, 43, 855, 57]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Transposed rotation\n matrix in yaw1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -10]
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "Integrator"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Kp"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Ki"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Kp"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Ki"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Kd"
		  SrcPort		  1
		  Points		  [100, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "nu"
		  SrcPort		  1
		  Points		  [580, 0]
		  DstBlock		  "Kd"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "eta"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -100]
		    DstBlock		    "yaw angle"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "tau"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "eta_ref"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  3
		  Points		  [0, 35]
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  Name			  "regulation error"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [10, 0; 0, -40]
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [60, 0; 0, -15]
		  DstBlock		  "Transposed rotation\n matrix in yaw1"
		  DstPort		  2
		}
		Line {
		  Name			  "psi"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "yaw angle"
		  SrcPort		  1
		  Points		  [70, 0; 0, 10]
		  DstBlock		  "[-inf inf] to [-pi pi]1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]1"
		  SrcPort		  1
		  Points		  [125, 0]
		  DstBlock		  "Transposed rotation\n matrix in yaw1"
		  DstPort		  1
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Thruster"
	  SID			  40
	  Ports			  []
	  Position		  [20, 194, 67, 245]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Thruster"
	    Location		    [433, 403, 931, 703]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Environment"
      SID		      41
      Ports		      []
      Position		      [390, 84, 437, 135]
      BackgroundColor	      "yellow"
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"Environment"
	Location		[602, 619, 1100, 775]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Current"
	  SID			  42
	  Ports			  []
	  Position		  [325, 50, 365, 110]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Current"
	    Location		    [855, 314, 1495, 719]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "North-East current"
	      SID		      43
	      Ports		      [2, 1]
	      Position		      [90, 43, 195, 107]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"North-East current"
		Location		[855, 314, 1495, 550]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "beta_c (deg)"
		  SID			  44
		  Position		  [25, 38, 55, 52]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "V_c (m/s)"
		  SID			  45
		  Position		  [335, 155, 365, 170]
		  BlockRotation		  270
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  46
		  Position		  [90, 26, 155, 64]
		  BackgroundColor	  "yellow"
		  Gain			  "pi/180"
		  ParameterDataTypeMode	  "Inherit via internal rule"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  ParamDataTypeStr	  "Inherit: Inherit via internal rule"
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  47
		  Ports			  [6, 1]
		  Position		  [555, 49, 560, 161]
		  ShowName		  off
		  Inputs		  "6"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  48
		  Ports			  [2, 1]
		  Position		  [405, 37, 435, 68]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  49
		  Ports			  [2, 1]
		  Position		  [405, 107, 435, 138]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "cos"
		  SID			  50
		  Ports			  [1, 1]
		  Position		  [275, 30, 305, 60]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "sin"
		  SID			  51
		  Ports			  [1, 1]
		  Position		  [225, 100, 255, 130]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Constant
		  Name			  "zero"
		  SID			  52
		  Position		  [405, 180, 435, 210]
		  BackgroundColor	  "green"
		  Value			  "0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu_c"
		  SID			  53
		  Position		  [585, 98, 615, 112]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "sin"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "cos"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "cos"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "V_c (m/s)"
		  SrcPort		  1
		  Points		  [0, -20]
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -70]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "sin"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [50, 0; 0, -50]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "zero"
		  SrcPort		  1
		  Points		  [65, 0; 0, -40]
		  Branch {
		    Points		    [0, -20]
		    Branch {
		    Points		    [0, -20]
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    5
		    }
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    6
		  }
		}
		Line {
		  SrcBlock		  "beta_c (deg)"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "nu_c"
		  DstPort		  1
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Waves"
	  SID			  54
	  Ports			  []
	  Position		  [140, 50, 180, 110]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Waves"
	    Location		    [660, 253, 1728, 1158]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      " Gaussian Random Process"
	      SID		      55
	      Ports		      [1, 1]
	      Position		      [55, 43, 185, 117]
	      BackgroundColor	      "yellow"
	      AncestorBlock	      "dcmv/Environmental\nDisturbances/Fourier representation of \na Gaussian Random Process"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Gaussian Random Process as a Sum of Sinusoids"
	      MaskDescription	      "y = Sum_i  Ai *cos(w_i*t+ Phi_i)\nInput:\n t --Simulation time from a clock block\nOutpu"
	      "t:\n y--Realization of the random process y(t) (time series)\nDependency: None\n\nCopyright (C), NTNU  2004 \nA"
	      "uthor: Tristan Perez \n"
	      MaskHelp		      "web(['file:///' which('Help_Gaussian_Random_Process.htm')]);\n"
	      MaskPromptString	      "Vector of Amplitudes [A1;A2;...]:|Vector of frequencies [W1;W2;...]  [rad/sec]:|Vector "
	      "of random phases [P1;P2;...]  [rad]:"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "areg=@1;freq=@2;phases=@3;"
	      MaskDisplay	      "\nplot([-ones(1,17)\n	0.6333\n     -1.5315\n   -0.5146\n    0.5573\n    1.2590\n    1.8899\n"
	      "    1.5451\n   -0.1055\n   -1.0617\n   -1.3645\n   -1.3826\n   -1.2742\n    0.3850\n    1.0225\n    1.1108\n   "
	      " 1.1270\n    0.3762\n   -0.6570\n   -1.1216\n   -0.2885\n    0.9176\n    0.7826\n   -0.3229\n   -1.2406\n   -0."
	      "9331\n   -0.2407\n    0.4134\n    0.8612\n    0.3025\n    0.2761\n    0.3856\n    0.3689\n   -0.0188\n    0.365"
	      "4\n   -0.4219\n   -1.0260\n   -1.3896\n   -0.6530\n    0.2512\n    1.0351\n    1.6496\n    0.8313\n   -1.2176\n"
	      "   -1.0937\n    0.0268\n    1.0361\n    1.1728\n   -0.2176\n   -0.6390\n   -1.1209\n   -1.0516\n   -0.4193\n   "
	      " 0.7858\n    0.8509\n    0.4288\n    0.0431\n    0.0587 -ones(1,15\n	)])\nport_label('input',1,'time')\nport_la"
	      "bel('output',1,'y')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "||"
	      System {
		Name			" Gaussian Random Process"
		Location		[375, 216, 1353, 875]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	10
		Block {
		  BlockType		  Inport
		  Name			  "In1"
		  SID			  1
		  Position		  [35, 148, 65, 162]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Amp Reg Comp. "
		  SID			  2
		  Position		  [20, 25, 70, 55]
		  BackgroundColor	  "yellow"
		  Value			  "areg"
		  VectorParams1D	  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Dot Product"
		  SID			  3
		  Ports			  [2, 1]
		  Position		  [290, 91, 320, 124]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "simulink/Math\nOperations/Dot Product"
		  SourceType		  "Dot Product"
		  InputSameDT		  "on"
		  OutputDataTypeScalingMode "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^-10"
		  LockScale		  "off"
		  RndMeth		  "Floor"
		  DoSatur		  "off"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Freq1"
		  SID			  4
		  Position		  [30, 91, 75, 119]
		  BackgroundColor	  "yellow"
		  Value			  "freq"
		  VectorParams1D	  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Model Info1"
		  SID			  5
		  Ports			  []
		  Position		  [139, 269, 326, 321]
		  DropShadow		  on
		  ShowName		  off
		  FontName		  "Arial"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/Model Info"
		  SourceType		  "CMBlock"
		  ShowPortLabels	  "on"
		  InitialBlockCM	  "None"
		  BlockCM		  "none"
		  Frame			  "on"
		  DisplayStringWithTags	  "Fourier Representation of a Gaussian Random Process\n(C) Copyright 2004 Tristan Perez\n"
		  MaskDisplayString	  "Fourier Representation of a Gaussian Random Process\\n(C) Copyright 2004 Tristan Perez\\n"
		  HorizontalTextAlignment "Center"
		  LeftAlignmentValue	  "0.5"
		  SourceBlockDiagram	  "marine_gnc"
		  TagMaxNumber		  "20"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  6
		  Ports			  [2, 1]
		  Position		  [135, 96, 180, 129]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Random Phases1"
		  SID			  7
		  Position		  [20, 191, 65, 219]
		  BackgroundColor	  "yellow"
		  Value			  "phases"
		  VectorParams1D	  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  8
		  Ports			  [2, 1]
		  Position		  [195, 105, 215, 125]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction"
		  SID			  9
		  Ports			  [1, 1]
		  Position		  [240, 100, 270, 130]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  SID			  10
		  Position		  [355, 103, 385, 117]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction"
		  SrcPort		  1
		  DstBlock		  "Dot Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Dot Product"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In1"
		  SrcPort		  1
		  Points		  [20, 0; 0, -35]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Freq1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Random Phases1"
		  SrcPort		  1
		  Points		  [135, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Amp Reg Comp. "
		  SrcPort		  1
		  Points		  [200, 0]
		  DstBlock		  "Dot Product"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Encounter frequency\ncorrection"
	      SID		      56
	      Ports		      [3, 1]
	      Position		      [55, 192, 190, 258]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Encounter frequency correction"
	      MaskDescription	      "This block transforms the frequencies and wave numbers in the Waves bus generated by the"
	      " MSS Waves block to encounter frequencies and encounter wave numbers using the transformation:\n\nOmega_e = Ome"
	      "ga - U*Omega^2*cos(Psi_r)/g \n\nwhere U is the vessel forward speed, Psi_r is the angle of the waves relative t"
	      "o the vessel.\n\nInputs:\nWaves - Bus of harmonic wave components generated by the MSS Waves block.\nU         "
	      " - Forward speed of the reference frame relative to NED (m/s) (Usually the low-frequency speed of the vessel)\n"
	      "Psi       - Yaw orientation of the reference frame relative to NED (rad) (Usually the low-frequency heading of "
	      "the vessel)\n\nOutputs:\nWaves - Bus of harmonic wave components with corrected wave frequencies and wave numbe"
	      "rs.\n\nCopyright (C) 2005, NTNU\nAuthor: yvind Notland Smogeli\n\n\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Encounter frequency\ncorrection"
		Location		[284, 152, 1360, 875]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	317
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Waves"
		  SID			  57
		  Position		  [25, 118, 55, 132]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "U"
		  SID			  58
		  Position		  [245, 28, 275, 42]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Psi"
		  SID			  59
		  Position		  [230, 118, 260, 132]
		  BackgroundColor	  "green"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  BusCreator
		  Name			  "Bus\nCreator"
		  SID			  60
		  Ports			  [5, 1]
		  Position		  [715, 28, 720, 172]
		  ShowName		  off
		  Inputs		  "5"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector"
		  SID			  61
		  Ports			  [1, 5]
		  Position		  [80, 54, 85, 196]
		  ShowName		  off
		  OutputSignals		  "Omega,Psi,Zeta_a,Wavenum,Phase"
		  Port {
		    PortNumber		    1
		    Name		    "<Omega>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "<Psi>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "<Zeta_a>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "<Wavenum>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "<Phase>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  62
		  Ports			  [2, 1]
		  Position		  [290, 85, 310, 105]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Terminator
		  Name			  "Terminator"
		  SID			  63
		  Position		  [160, 145, 180, 165]
		  BackgroundColor	  "red"
		}
		Block {
		  BlockType		  Reference
		  Name			  "W_wave 2 W_enc\n(no absolute value)"
		  SID			  64
		  Ports			  [3, 2]
		  Position		  [390, 17, 605, 113]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Environment/Waves/W_wave 2 W_enc\n(no absolute value)"
		  SourceType		  "Wave frequency to Encounter Frequency"
		  ShowPortLabels	  "on"
		  Port {
		    PortNumber		    1
		    Name		    "Omega"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "Wavenum"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "Waves "
		  SID			  65
		  Position		  [760, 93, 790, 107]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  Name			  "Wavenum"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "W_wave 2 W_enc\n(no absolute value)"
		  SrcPort		  2
		  Points		  [55, 0; 0, 40]
		  DstBlock		  "Bus\nCreator"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Bus\nCreator"
		  SrcPort		  1
		  DstBlock		  "Waves "
		  DstPort		  1
		}
		Line {
		  Name			  "Omega"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "W_wave 2 W_enc\n(no absolute value)"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Psi"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "<Phase>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  5
		  Points		  [600, 0; 0, -25]
		  DstBlock		  "Bus\nCreator"
		  DstPort		  5
		}
		Line {
		  Name			  "<Wavenum>"
		  Labels		  [0, 0; 1, 1]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  4
		  DstBlock		  "Terminator"
		  DstPort		  1
		}
		Line {
		  Name			  "<Zeta_a>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  3
		  Points		  [105, 0; 0, 45; 490, 0; 0, -70]
		  DstBlock		  "Bus\nCreator"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Waves"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector"
		  DstPort		  1
		}
		Line {
		  Name			  "<Psi>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  2
		  Points		  [115, 0]
		  Branch {
		    Points		    [0, 65; 475, 0; 0, -90]
		    DstBlock		    "Bus\nCreator"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "W_wave 2 W_enc\n(no absolute value)"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "U"
		  SrcPort		  1
		  DstBlock		  "W_wave 2 W_enc\n(no absolute value)"
		  DstPort		  1
		}
		Line {
		  Name			  "<Omega>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  1
		  DstBlock		  "W_wave 2 W_enc\n(no absolute value)"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Linear 2nd-order \nwave spectrum"
	      SID		      66
	      Ports		      [1, 1]
	      Position		      [615, 56, 690, 114]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Wave spectrum gain: sigma  (m)|Wave spectrum peak frequency: w_0  (rad/s)|Rrelative dam"
	      "ping ratio: lambda"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "sigma=@1;w_0=@2;lambda=@3;"
	      MaskInitialization      "w = 0.01:0.1:3*w_0;"
	      MaskDisplay	      "plot(w,4*w_0*sigma^2.*w.^2./((w_0^2-w.^2).^2+4*(lambda*w_0.*w).^2))\nport_label('input', 1, "
	      "'w')\nport_label('output', 1, 'y')\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1|1|0.1"
	      System {
		Name			"Linear 2nd-order \nwave spectrum"
		Location		[443, 294, 939, 426]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "white noise"
		  SID			  67
		  Position		  [15, 48, 45, 62]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  TransferFcn
		  Name			  "Linear 2nd-order wave spectrum"
		  SID			  68
		  Position		  [145, 27, 300, 83]
		  BackgroundColor	  "yellow"
		  Numerator		  "[2*lambda*w_0*sigma 0]"
		  Denominator		  "[1 2*lambda*w_0  w_0^2]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "wave amplitude"
		  SID			  69
		  Position		  [360, 48, 390, 62]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Linear 2nd-order wave spectrum"
		  SrcPort		  1
		  DstBlock		  "wave amplitude"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "white noise"
		  SrcPort		  1
		  DstBlock		  "Linear 2nd-order wave spectrum"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "W_wave 2 W_enc\n(no absolute value)"
	      SID		      70
	      Ports		      [3, 2]
	      Position		      [235, 51, 415, 119]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Wave frequency to Encounter Frequency"
	      MaskDescription	      "This block implements the transformation:   \n\nWe = W -U W^2 cos(Enc Aang) /g \n\nInput"
	      "s:\nU---forward speed of the reference frame (m/sec) (sually the speed of the vessel)\nW--vector of wave freque"
	      "ncies (rad/sec)\nEnc. Angle-- (rad) convention: 0-following seas; pi/2-port beam seas; pi-head seas\n\nOutputs:"
	      "\nWe--vector of encounter frequencies (rad/sec).\nKe-- vector of encounter wave numbers (Ke = We^2/g deep water"
	      " assumption)\nCopyright (C) 2005, NTNU\nAuthor: Tristan Perez \n\n\n"
	      MaskHelp		      "\n<p>This block implements the transformation: <br>\n<br>\nWe = W -U W^2 cos(Enc Ang) /g <br>\n"
	      "<br>\nInputs:<br>\nU---forward speed of the reference frame (m/sec) (Usually the speed of the \nvessel)<br>\nW-"
	      "-vector of wave frequencies (rad/sec)<br>\nEnc. Angle-- (rad) convention: 0-following seas; pi/2-port beam seas"
	      "; pi-head \nseas<br>\n<br>\nOutputs:<br>\nWe--vector of encounter frequencies (rad/sec).<br>\nKe-- vector of en"
	      "counter wave numbers (Ke = We^2/g deep water assumption)<br>\nCopyright (C) 2005, NTNU<br>\nAuthor: Tristan Per"
	      "ez </p>\n\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"W_wave 2 W_enc\n(no absolute value)"
		Location		[480, 103, 1209, 368]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	328
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "U"
		  SID			  71
		  Position		  [120, 138, 150, 152]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "W "
		  SID			  72
		  Position		  [120, 53, 150, 67]
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Enc. Angle "
		  SID			  73
		  Position		  [105, 183, 135, 197]
		  BackgroundColor	  "green"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  74
		  Position		  [340, 104, 420, 176]
		  BackgroundColor	  "yellow"
		  Gain			  "1/9.81"
		  ParameterDataTypeMode	  "Inherit via internal rule"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  ParamDataTypeStr	  "Inherit: Inherit via internal rule"
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  SID			  75
		  Position		  [635, 117, 700, 183]
		  BackgroundColor	  "yellow"
		  Gain			  "1/9.81"
		  ParameterDataTypeMode	  "Inherit via internal rule"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  ParamDataTypeStr	  "Inherit: Inherit via internal rule"
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  SID			  76
		  Ports			  [4, 1]
		  Position		  [260, 106, 305, 169]
		  BackgroundColor	  "yellow"
		  Inputs		  "4"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product5"
		  SID			  77
		  Ports			  [2, 1]
		  Position		  [550, 131, 595, 164]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  78
		  Ports			  [2, 1]
		  Position		  [445, 130, 465, 150]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+-|"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction"
		  SID			  79
		  Ports			  [1, 1]
		  Position		  [190, 175, 220, 205]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Outport
		  Name			  "We (rad/sec)"
		  SID			  80
		  Position		  [740, 63, 770, 77]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Ke"
		  SID			  81
		  Position		  [740, 143, 770, 157]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Enc. Angle "
		  SrcPort		  1
		  DstBlock		  "Trigonometric\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Product4"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "U"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  DstBlock		  "Ke"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "W "
		  SrcPort		  1
		  Points		  [75, 0]
		  Branch {
		    Points		    [225, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product4"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product4"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Product5"
		  SrcPort		  1
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, -70]
		    DstBlock		    "We (rad/sec)"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product5"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product5"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Wave velocitycalc"
	      SID		      82
	      Ports		      [2, 2]
	      Position		      [275, 188, 425, 312]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Wave velocitycalc"
	      MaskDescription	      "Caclulates the wave-induced water velocity in NED coordinates and surface elevation Zeta"
	      " at the point [x y z] in NED. The Waves bus generated by the Waves module is needed as input."
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Wave velocitycalc"
		Location		[284, 82, 1398, 1004]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "[x y z] NED"
		  SID			  83
		  Position		  [140, 253, 170, 267]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "p_ned"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "Waves"
		  SID			  84
		  Position		  [15, 335, 45, 345]
		  BackgroundColor	  "green"
		  FontName		  "Arial"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector"
		  SID			  85
		  Ports			  [1, 5]
		  Position		  [75, 78, 80, 602]
		  ShowName		  off
		  OutputSignals		  "Psi,Wavenum,Omega,Phase,Zeta_a"
		  Port {
		    PortNumber		    1
		    Name		    "<Psi>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "<Wavenum>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "<Omega>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "<Phase>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "<Zeta_a>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  SID			  86
		  Position		  [245, 355, 265, 375]
		  BackgroundColor	  "green"
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  87
		  Position		  [450, 590, 480, 620]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  88
		  Position		  [665, 770, 695, 800]
		  BackgroundColor	  "yellow"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  89
		  Ports			  [3, 1]
		  Position		  [870, 547, 875, 823]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  90
		  Ports			  [2, 1]
		  Position		  [295, 328, 340, 377]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  91
		  Ports			  [2, 1]
		  Position		  [295, 73, 340, 122]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  SID			  92
		  Ports			  [2, 1]
		  Position		  [395, 223, 440, 272]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "kz"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  SID			  93
		  Ports			  [3, 1]
		  Position		  [535, 598, 575, 712]
		  BackgroundColor	  "yellow"
		  Inputs		  "3"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product6"
		  SID			  94
		  Ports			  [2, 1]
		  Position		  [290, 163, 335, 212]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product7"
		  SID			  95
		  Ports			  [2, 1]
		  Position		  [430, 133, 475, 182]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "kx"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  SID			  96
		  Ports			  [1, 1]
		  Position		  [215, 181, 255, 219]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "1"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  SID			  97
		  Ports			  [1, 1]
		  Position		  [220, 91, 260, 129]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "2"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector2"
		  SID			  98
		  Ports			  [1, 1]
		  Position		  [285, 241, 325, 279]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "3"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  99
		  Ports			  [3, 1]
		  Position		  [485, 345, 505, 365]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  100
		  Ports			  [1, 1]
		  Position		  [825, 505, 845, 525]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "1"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  101
		  Ports			  [1, 1]
		  Position		  [825, 585, 845, 605]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "1"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  102
		  Ports			  [1, 1]
		  Position		  [830, 675, 850, 695]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "1"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  SID			  103
		  Ports			  [1, 1]
		  Position		  [830, 765, 850, 785]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "1"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  SID			  104
		  Ports			  [2, 1]
		  Position		  [350, 135, 370, 155]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "cos"
		  SID			  105
		  Ports			  [1, 1]
		  Position		  [145, 160, 175, 190]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "cos "
		  SID			  106
		  Ports			  [1, 1]
		  Position		  [665, 600, 695, 630]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "cos(wt-kx+phase)"
		  SID			  107
		  Ports			  [1, 1]
		  Position		  [545, 435, 575, 465]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Math
		  Name			  "e^(kz)"
		  SID			  108
		  Ports			  [1, 1]
		  Position		  [485, 640, 515, 670]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "sin"
		  SID			  109
		  Ports			  [1, 1]
		  Position		  [150, 70, 180, 100]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "sin "
		  SID			  110
		  Ports			  [1, 1]
		  Position		  [665, 690, 695, 720]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "sin(wt-kx+phase)"
		  SID			  111
		  Ports			  [1, 1]
		  Position		  [545, 340, 575, 370]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Product
		  Name			  "u"
		  SID			  112
		  Ports			  [3, 1]
		  Position		  [755, 562, 800, 628]
		  BackgroundColor	  "yellow"
		  Inputs		  "***"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "v"
		  SID			  113
		  Ports			  [3, 1]
		  Position		  [755, 652, 800, 718]
		  BackgroundColor	  "yellow"
		  Inputs		  "***"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "w"
		  SID			  114
		  Ports			  [2, 1]
		  Position		  [755, 748, 800, 797]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "zeta"
		  SID			  115
		  Ports			  [2, 1]
		  Position		  [755, 488, 800, 537]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Zeta"
		  SID			  116
		  Position		  [895, 508, 925, 522]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "V_w NED"
		  SID			  117
		  Position		  [900, 678, 930, 692]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "w"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "cos "
		  SrcPort		  1
		  DstBlock		  "u"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "sin "
		  SrcPort		  1
		  DstBlock		  "v"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Selector2"
		  SrcPort		  1
		  DstBlock		  "Product3"
		  DstPort		  2
		}
		Line {
		  Name			  "p_ned"
		  Labels		  [0, 0; 1, 1]
		  SrcBlock		  "[x y z] NED"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, -60]
		    Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Selector2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "Product7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product6"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum5"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "cos"
		  SrcPort		  1
		  DstBlock		  "Product6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "Product6"
		  DstPort		  2
		}
		Line {
		  Name			  "<Wavenum>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  2
		  Points		  [290, 0]
		  Branch {
		    DstBlock		    "Product3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -65]
		    DstBlock		    "Product7"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 30]
		  DstBlock		  "e^(kz)"
		  DstPort		  1
		}
		Line {
		  Name			  "<Zeta_a>"
		  Labels		  [0, 0; 0, 0; 1, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  5
		  Points		  [415, 0]
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Product4"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -25]
		    DstBlock		    "zeta"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "<Phase>"
		  Labels		  [0, 0; 0, 0; 1, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  4
		  Points		  [410, 0]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  Name			  "<Omega>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  3
		  Points		  [100, 0]
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, 355]
		    DstBlock		    "Product4"
		    DstPort		    3
		  }
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Waves"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "cos(wt-kx+phase)"
		  SrcPort		  1
		  Points		  [10, 0; 0, 335]
		  DstBlock		  "Gain1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  Points		  [15, 0; 5, 0]
		  Branch {
		    Points		    [0, 30]
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "w"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "v"
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "u"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "e^(kz)"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  2
		}
		Line {
		  Name			  "kx"
		  Labels		  [0, 0; 2, 0]
		  SrcBlock		  "Product7"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "zeta"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(wt-kx+phase)"
		  SrcPort		  1
		  Points		  [40, 0; 0, 145]
		  Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 90]
		    DstBlock		    "v"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "u"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "zeta"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 95]
		    DstBlock		    "cos(wt-kx+phase)"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "sin(wt-kx+phase)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "<Psi>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, -75; 525, 0; 0, 560]
		    Branch {
		    DstBlock		    "cos "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 90]
		    DstBlock		    "sin "
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "cos"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -45]
		    DstBlock		    "sin"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "kz"
		  Labels		  [0, 0; 2, 0]
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Zeta"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "w"
		  SrcPort		  1
		  DstBlock		  "Sum4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "u"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "v"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "V_w NED"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Waves"
	      SID		      118
	      Ports		      [0, 2]
	      Position		      [465, 48, 550, 112]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Waves"
	      MaskDescription	      "Calculate harmonic wave component parameters from a wave spectrum.\n- Input one wave dir"
	      "ection in the mask to get long-crested waves.\n- Input zero peak frequency to get an expectation value from nor"
	      "th sea statistical data. \n- Input an integer > 1 for energylim to set the number of wave components fixed to n"
	      "waves = energylim.\n\nCopyright (C) 2004 NTNU\nAuthor: Oyvind Notland Smogeli"
	      MaskHelp		      "<font face=\"Arial\">\n<b>Project:</b> Marine Systems Simulator: MSS<br>\n<br>\nDefine harmoni"
	      "c wave components describing the sea state by extracting \ncomponents from a given frequency and direction spec"
	      "trum. The output from the \nblock is a bus containing the following wave parameter vectors:</font></p>\n<p><fon"
	      "t face=\"Arial\"><b>Zeta_a</b>: Vector of harmonic wave amplitudes [m]<br>\n<b>Omega: </b>Vector of harmonic wa"
	      "ve frequencies [rad/s]<br>\n<b>Phase: </b>Vector of harmonic wave phases (random) [rad]<br>\n<b>Wavenum:</b> Ve"
	      "ctor of harmonic wave numbers [1/m]<br>\n<b>Psi: </b>Vector of harmonic wave directions [rad]</font></p>\n<p><f"
	      "ont face=\"Arial\">The time series of sea surface elevation Zeta(x,y,t) can \nbe obtained as</font></p>\n<p><fo"
	      "nt face=\"Arial\">Zeta(x,y,t) = Sum( Zeta_a(i)*cos(Omega(i)*t + Phase(i) - Wavenum(i)*(x*cos(Psi(i)) \n+ y*sin("
	      "Psi(i)))) )</font></p>\n<p><font face=\"Arial\">where the sum is taken from i = 1 to i = n and n is the number "
	      "of harmonic \nwave components.</font></p>\n<p>&nbsp;</p>\n<p><font face=\"Arial\">Input one wave direction to g"
	      "et long-crested waves.<br>\n<br>\nIf the peak frequency is set to zero, then the peak frequency is obtained fro"
	      "m \nthe sugnificant wave height usign a formula for the North Sea (Norsok):</font></p>\n<p><font face=\"Arial\""
	      ">w0 = 2*pi/(4.883 + 2.68*Hs^0.54);</font></p>\n\n<p>&nbsp;</p>\n<p><font face=\"Arial\">The energy limit (energ"
	      "ylim) should be defined either as a positive factor \nbetween 0 and 1, or as a positive integer. In the first c"
	      "ase it will \ndiscard all wave components with energy content less than this ratio of the \ntotal energy conten"
	      "t of the sea state. A recommended value is 0.005 or lower. In \nthe second case it will keep the nwaves = energ"
	      "ylim most significant waves.</font></p>\n<p>&nbsp;</p>\n<p><font face=\"Arial\">The wave elevation Zeta(x,y,t) "
	      "at time t and at the coordinate (x,y) is found from the output vectors as:</font></p>\n<p>&nbsp;</p>\n<p><font "
	      "face=\"Arial\" color=\"#800000\">References</font><ul>\n  <li><font face=\"Arial\">Srensen, A.J. (2005) Lectur"
	      "e notes of TMR4240 &quot;Marine Cybernetics - Modelling and Control&quot;</font>\n  <font face=\"Arial\">Dept o"
	      "f Marine Technology NTNU.</font></li>\n  <li><font face=\"Arial\">Johannessen, K., T. S. Meling, S. Haver. Join"
	      "t \n  Distribution for Wind and<br>\n  Waves in the Northern North Sea. IJOPE Vol. 12, No. 1, March 2002</font>"
	      "</li>\n  <li>&nbsp;</li>\n  </ul>\n<p><font face=\"Arial\">Johannessen, K., T. S. Meling, S. Haver. Joint \nDis"
	      "tribution for Wind and<br>\nWaves in the Northern North Sea. IJOPE Vol. 12, No. 1, March 2002</font><p>&nbsp;<p"
	      ">\n  <font face=\"Arial\"><b>Author:</b> yvind Smogeli, September 2004 </font>\n<p>&nbsp;</p>\n<p>&nbsp;</p>\n"
	      MaskPromptString	      "Spectrum type|Display initialization info in workspace window|Plot spectrum|Plot sea st"
	      "ate realization (time-consuming)|Significant wave height Hs (m)|Peak frequency omega_0 (rad/s)|Mean wave direct"
	      "ion (rad)|Spectrum peakedness factor [1,7], 3.3 default, 0 for using DNV value|Wave spreading factor (1,2,3,4,5"
	      ")|Average water depth (m), use inf for deep water|Number of frequencies in grid (recommended > 20)|Number of di"
	      "rections in grid, 1 for long-crested waves|Wave component energy limit [0 1] or number of waves (e.g. 50)|Frequ"
	      "ency cutoff factor [1.5, 5], default 3|Direction cutoff [0, 3pi/8], default 0|Random seed|Random frequencies|Ra"
	      "ndom directions|Amplitude vector 'Zeta_a' (m)|Frequency vector 'Omega' (rad/s)|Phase vector 'Phase' (rad)|Waven"
	      "umber vector 'Wavenum' (1/m)|Direction vector 'Psi'  (rad)"
	      MaskStyleString	      "popup(ITTC|Jonswap|Torsethaugen|Predefined waves),checkbox,checkbox,checkbox,edit,edit,e"
	      "dit,edit,edit,edit,edit,edit,edit,edit,edit,edit,checkbox,checkbox,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskCallbackString      "Wave_callback;||||||||||||||||||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,off,on,on,on,on,on,on,on,on,on,on,off,off,off,off,off"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVariables	      "spectrum_type=@1;disp_flag=@2;plot_spectrum=@3;plot_realization=@4;hs=@5;omega_peak=@6;psi"
	      "_mean=@7;gamma=@8;spread=@9;depth=@10;nfreq=@11;ndir=@12;energylim=@13;freq_cutoff=@14;dir_cutoff=@15;rand_seed"
	      "=@16;rand_freq=@17;rand_dir=@18;Zeta_a=@19;Omega=@20;Phase=@21;Wavenum=@22;Psi=@23;"
	      MaskInitialization      "if spectrum_type < 4\n	[Zeta_a, Omega, Phase, Wavenum, Psi] = Wave_init(spectrum_type,"
	      " hs, omega_peak, psi_mean,...\n	gamma, spread, depth, nfreq, ndir, energylim, freq_cutoff, dir_cutoff, rand_fre"
	      "q, rand_dir,...\n	rand_seed, plot_spectrum, plot_realization, disp_flag);\nend\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "ITTC|on|off|off|0.8|0|0|-1|2|inf|20|10|0.005|3|0|123|on|on|0|0|0|0|0"
	      System {
		Name			"Waves"
		Location		[202, 86, 1270, 982]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  BusCreator
		  Name			  "Bus\nCreator"
		  SID			  119
		  Ports			  [5, 1]
		  Position		  [560, 140, 565, 690]
		  ShowName		  off
		  Inputs		  "5"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Omega"
		  SID			  120
		  Position		  [375, 179, 430, 211]
		  BackgroundColor	  "green"
		  Value			  "Omega"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "Omega"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Phase"
		  SID			  121
		  Position		  [365, 619, 420, 651]
		  BackgroundColor	  "green"
		  Value			  "Phase"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "Phase"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Psi"
		  SID			  122
		  Position		  [375, 290, 430, 320]
		  BackgroundColor	  "green"
		  Value			  "Psi"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "Psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Wavenum"
		  SID			  123
		  Position		  [370, 508, 425, 542]
		  BackgroundColor	  "green"
		  Value			  "Wavenum"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "Wavenum"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Zeta_a"
		  SID			  124
		  Position		  [375, 398, 430, 432]
		  BackgroundColor	  "green"
		  Value			  "Zeta_a"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "Zeta_a"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "wave direction "
		  SID			  125
		  Position		  [370, 742, 465, 778]
		  BackgroundColor	  "green"
		  Value			  "psi_mean"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Waves"
		  SID			  126
		  Position		  [590, 408, 620, 422]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "wave direction"
		  SID			  127
		  Position		  [610, 752, 640, 768]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  Name			  "Phase"
		  Labels		  [0, 0]
		  SrcBlock		  "Phase"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  5
		}
		Line {
		  Name			  "Psi"
		  Labels		  [0, 0]
		  SrcBlock		  "Psi"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  2
		}
		Line {
		  Name			  "Omega"
		  Labels		  [0, 0]
		  SrcBlock		  "Omega"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Bus\nCreator"
		  SrcPort		  1
		  DstBlock		  "Waves"
		  DstPort		  1
		}
		Line {
		  Name			  "Zeta_a"
		  Labels		  [1, 0]
		  SrcBlock		  "Zeta_a"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  3
		}
		Line {
		  Name			  "Wavenum"
		  Labels		  [1, 0]
		  SrcBlock		  "Wavenum"
		  SrcPort		  1
		  DstBlock		  "Bus\nCreator"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "wave direction "
		  SrcPort		  1
		  DstBlock		  "wave direction"
		  DstPort		  1
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Wind"
	  SID			  128
	  Ports			  []
	  Position		  [230, 50, 270, 110]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Wind"
	    Location		    [660, 253, 1728, 1158]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Wind"
	      SID		      129
	      Ports		      [0, 2]
	      Position		      [35, 23, 180, 132]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Wind"
	      MaskDescription	      "Generates wind speed and direction based on the mean angle and mean wind speed at 10 met"
	      "ers height. The total velocity is composed of a slowly-varying mean superposed with gusts based on a chosen win"
	      "d spectrum. The direction is slowly-varying based on a random process.\n\nThe wind spectrum types are:\n\n1) Ha"
	      "rris         (based on measurements over land)\n2) NORSOK   (based on measurements from the North Sea)"
	      MaskHelp		      "\n<b>Part of the Marine Systems Simulator: MSS</b><p>Generate wind speed and direction based o"
	      "n the mean angle and mean wind \nspeed at 10 meters height. The total velocity is composed of a slowly-varying "
	      "\nmean superposed with gusts based on a chosen wind spectrum. The direction is \nslowly-varying based on a rand"
	      "om process.<br>\n<br>\nThe wind spectrum types are:<br>\n<br>\n1) Harris (based on measurements over land)<br>\n"
	      "2) NORSOK (based on measurements from the North Sea)</p>\n<p>The wind gust from the Harris spectrum is uniform "
	      "over the height, whereas \nthe wind gust from the NORSOK spectrum varies with the height.</p>\n<p>The random va"
	      "riation of the mean speed and angle can be limited by two saturation \nparameters, which define the maximum ran"
	      "dom deviation from the mean value.<p><b>Outputs: \n</b> </p>\n<p>angle: [rad] Wind angle in the n-frame<br>\nsp"
	      "eed: [m/s] Wind velocity in the n-frame<p>\n<b>Copyright NTNU 2005</b></p>\n<p><b>Author:</b> Oyvind N. Smogeli"
	      ", 2005-05-03</p>\n\n"
	      MaskPromptString	      "Page|Include slowly-varing wind velocity and direction|Include wind gust|Mean wind velo"
	      "city [m/s]|Mean wind angle [rad]|Wind gust spectrum type|Height over water surface [m (for NORSOK wind spectrum"
	      ")]|Wind sample time [s]|Wind speed time constant [s]|Wind angle time constant [s]|Wind speed noise power|Wind a"
	      "ngle noise power|Wind speed saturation [m/s] (max random variation about mean)|Wind angle saturation [rad] (max"
	      " random variation about mean)|Wind speed random seed|Wind angle random seed|Wind gust phase seed|Sea surface dr"
	      "ag coefficient for Harris wind spectrum (0.0026)|Scaling length for Harris wind spectrum (1800)|Minimum frequen"
	      "cy in gust [Hz] (1E-4)|Maximum frequency in gust [Hz] (0.1)|Number of frequency components"
	      MaskStyleString	      "popup(1|2),checkbox,checkbox,edit,edit,popup(1|2),edit,edit,edit,edit,edit,edit,edit,edi"
	      "t,edit,edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskCallbackString      "MSS_mask_page(12);|||||||||||||||||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on,on,on,on,on,off,off,off,off,off,off,off,off,off,off"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVariables	      "page=@1;Par_Wind_slowlyvar=@2;Par_Wind_gust=@3;Par_Wind_V=@4;Par_Wind_angle=@5;Par_Wind_sp"
	      "ectrum_type=@6;Par_Wind_z=@7;Par_Wind_sample_time=@8;Par_Wind_speed_T=@9;Par_Wind_angle_T=@10;Par_Wind_speed_no"
	      "ise_pow=@11;Par_Wind_angle_noise_pow=@12;Par_Wind_speed_rand_max=@13;Par_Wind_angle_rand_max=@14;Par_Wind_speed"
	      "_seed=@15;Par_Wind_angle_seed=@16;Par_Wind_phase_seed=@17;Par_Wind_kappa_H=@18;Par_Wind_L=@19;Par_Wind_minfreq="
	      "@20;Par_Wind_maxfreq=@21;Par_Wind_nfreq=@22;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1|off|off|10|0|1|10|0.1|10|10|1|0.01|1|pi/4|123|321|1532|0.0026|1800|1E-4|0.1|100"
	      System {
		Name			"Wind"
		Location		[204, 82, 1107, 985]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Constant
		  Name			  "Gust"
		  SID			  130
		  Position		  [430, 415, 460, 445]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  Value			  "Par_Wind_gust"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Mean angle"
		  SID			  131
		  Position		  [565, 225, 595, 255]
		  BackgroundColor	  "green"
		  Value			  "Par_Wind_angle"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Mean velocity"
		  SID			  132
		  Position		  [220, 500, 250, 530]
		  BackgroundColor	  "green"
		  Value			  "Par_Wind_V"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Slowly-varying wind"
		  SID			  133
		  Ports			  [0, 2, 1]
		  Position		  [395, 275, 515, 370]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "Slowly-varying wind"
		  MaskDescription	  "Generate slowly varying wind speed and direction based on random processes.\n\nstochastic = 0  "
		  "gives constant mean wind speed and direction\nstochastic = 1  gives stochastic mean wind speed and direction"
		  MaskHelp		  "Generate slowly varying wind speed and direction based on random processes.<br>\n<br>\nstochastic = 0"
		  " gives constant mean wind direction and speed,<br>\nstochastic = 1 gives stochastic mean wind direction and speed<"
		  "br>\n<br>\n<p>The randomness of the mean speed and angle can be limited by two saturation \nparameters, which defi"
		  "ne the maximum random deviation from the mean value.<br>\n"
		  MaskPromptString	  "Wind sample time [s]|Wind speed time constant [s]|Wind angle time constant [s]|Wind speed nois"
		  "e power|Wind angle noise power|Wind speed saturation [m/s] (max random variation about mean)|Wind angle saturation"
		  " [rad] (max random variation about mean)|Wind speed random seed|Wind angle random seed"
		  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
		  MaskCallbackString	  "||||||||"
		  MaskEnableString	  "on,on,on,on,on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on"
		  MaskToolTipString	  "on,on,on,on,on,on,on,on,on"
		  MaskVariables		  "Par_Wind_sample_time=@1;Par_Wind_speed_T=@2;Par_Wind_angle_T=@3;Par_Wind_speed_noise_pow=@4;Par_"
		  "Wind_angle_noise_pow=@5;Par_Wind_speed_rand_max=@6;Par_Wind_angle_rand_max=@7;Par_Wind_speed_seed=@8;Par_Wind_angl"
		  "e_seed=@9;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Par_Wind_sample_time|Par_Wind_speed_T|Par_Wind_angle_T|Par_Wind_speed_noise_pow|Par_Wind_angle_"
		  "noise_pow|Par_Wind_speed_rand_max|Par_Wind_angle_rand_max|Par_Wind_speed_seed|Par_Wind_angle_seed"
		  System {
		    Name		    "Slowly-varying wind"
		    Location		    [627, 143, 1695, 1061]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    SID			    134
		    Ports		    []
		    Position		    [35, 15, 55, 35]
		    BackgroundColor	    "gray"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Band-Limited\nWhite Noise"
		    SID			    135
		    Ports		    [0, 1]
		    Position		    [30, 95, 75, 135]
		    BackgroundColor	    "green"
		    SourceBlock		    "simulink/Sources/Band-Limited\nWhite Noise"
		    SourceType		    "Band-Limited White Noise."
		    ShowPortLabels	    "on"
		    Cov			    "Par_Wind_speed_noise_pow"
		    Ts			    "Par_Wind_sample_time"
		    seed		    "Par_Wind_speed_seed"
		    VectorParams1D	    "on"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Band-Limited\nWhite Noise "
		    SID			    136
		    Ports		    [0, 1]
		    Position		    [35, 230, 80, 270]
		    BackgroundColor	    "green"
		    SourceBlock		    "simulink/Sources/Band-Limited\nWhite Noise"
		    SourceType		    "Band-Limited White Noise."
		    ShowPortLabels	    "on"
		    Cov			    "Par_Wind_angle_noise_pow"
		    Ts			    "Par_Wind_sample_time"
		    seed		    "Par_Wind_angle_seed"
		    VectorParams1D	    "on"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    137
		    Position		    [205, 96, 255, 134]
		    BackgroundColor	    "yellow"
		    Gain		    "1/Par_Wind_speed_T"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain "
		    SID			    138
		    Position		    [210, 231, 260, 269]
		    BackgroundColor	    "yellow"
		    Gain		    "1/Par_Wind_angle_T"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    139
		    Ports		    [1, 1]
		    Position		    [305, 100, 340, 130]
		    BackgroundColor	    "yellow"
		    LimitOutput		    on
		    UpperSaturationLimit    "Par_Wind_speed_rand_max"
		    LowerSaturationLimit    "-Par_Wind_speed_rand_max"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator "
		    SID			    140
		    Ports		    [1, 1]
		    Position		    [310, 235, 345, 265]
		    BackgroundColor	    "yellow"
		    LimitOutput		    on
		    UpperSaturationLimit    "Par_Wind_angle_rand_max"
		    LowerSaturationLimit    "-Par_Wind_angle_rand_max"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    141
		    Ports		    [2, 1]
		    Position		    [130, 100, 160, 130]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    IconShape		    "round"
		    Inputs		    "|+-"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum       "
		    SID			    142
		    Ports		    [2, 1]
		    Position		    [135, 235, 165, 265]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    IconShape		    "round"
		    Inputs		    "|+-"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "angle"
		    SID			    143
		    Position		    [415, 243, 445, 257]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    InitialOutput	    "0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "speed"
		    SID			    144
		    Position		    [480, 108, 510, 122]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Band-Limited\nWhite Noise"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 55, 0]
		    Branch {
		    Points		    [0, 70; -255, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "speed"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Band-Limited\nWhite Noise "
		    SrcPort		    1
		    DstBlock		    "Sum       "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator "
		    SrcPort		    1
		    Points		    [0, 0; 30, 0]
		    Branch {
		    Points		    [0, 70; -230, 0]
		    DstBlock		    "Sum       "
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "angle"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Sum       "
		    SrcPort		    1
		    DstBlock		    "Gain "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain "
		    SrcPort		    1
		    DstBlock		    "Integrator "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Slowlyvar"
		  SID			  145
		  Position		  [440, 225, 470, 255]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  NamePlacement		  "alternate"
		  Value			  "Par_Wind_slowlyvar"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  146
		  Ports			  [2, 1]
		  Position		  [640, 290, 660, 310]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  147
		  Ports			  [3, 1]
		  Position		  [640, 505, 660, 525]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Wind gust"
		  SID			  148
		  Ports			  [1, 1, 1]
		  Position		  [390, 471, 505, 559]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "Wind gust"
		  MaskDescription	  "Calculate the wind gust according to one of two gust spectra:\n\n1) Harris (based on measuremen"
		  "ts over land)\n2) NORSOK (based on measurements from the North Sea)\n\nThe gust from the Harris spectrum is not in"
		  "fluenced by the heigth over the sea surface, whereas the gust from the NORSOK spectrum is.  "
		  MaskPromptString	  "Spectrum type|Wind gust phase seed|Sea surface drag coefficient for Harris wind spectrum (0.00"
		  "26)|Scaling length for Harris wind spectrum (1800)|Height over water surface, for NORSOK spectrum|Minimum frequenc"
		  "y in gust [Hz] (1E-4)|Maximum frequency in gust [Hz] (0.1)|Number of frequency components"
		  MaskStyleString	  "edit,edit,edit,edit,edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on,on,on,on,on"
		  MaskCallbackString	  "|||||||"
		  MaskEnableString	  "on,on,on,on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on,on,on,on"
		  MaskToolTipString	  "on,on,on,on,on,on,on,on"
		  MaskVariables		  "Par_Wind_spectrum_type=@1;Par_Wind_phase_seed=@2;Par_Wind_kappa_H=@3;Par_Wind_L=@4;Par_Wind_z=@5"
		  ";Par_Wind_minfreq=@6;Par_Wind_maxfreq=@7;Par_Wind_nfreq=@8;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "Par_Wind_spectrum_type|Par_Wind_phase_seed|Par_Wind_kappa_H|Par_Wind_L|Par_Wind_z|Par_Wind_minf"
		  "req|Par_Wind_maxfreq|Par_Wind_nfreq"
		  System {
		    Name		    "Wind gust"
		    Location		    [427, 164, 1286, 832]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "u10"
		    SID			    149
		    Position		    [25, 158, 55, 172]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    EnablePort
		    Name		    "Enable"
		    SID			    150
		    Ports		    []
		    Position		    [25, 15, 45, 35]
		    BackgroundColor	    "gray"
		    }
		    Block {
		    BlockType		    Clock
		    Name		    "Clock"
		    SID			    151
		    Position		    [380, 450, 400, 470]
		    BackgroundColor	    "green"
		    Decimation		    "10"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Dot Product"
		    SID			    152
		    Ports		    [2, 1]
		    Position		    [790, 361, 820, 394]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Math\nOperations/Dot Product"
		    SourceType		    "Dot Product"
		    InputSameDT		    "on"
		    OutputDataTypeScalingMode "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^-10"
		    LockScale		    "off"
		    RndMeth		    "Floor"
		    DoSatur		    "off"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Frequencies"
		    SID			    153
		    Position		    [30, 100, 165, 140]
		    BackgroundColor	    "green"
		    Value		    "Par_Wind_minfreq:(Par_Wind_maxfreq - Par_Wind_minfreq)/(Par_Wind_nfreq-1):Par_Wind_maxfreq"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    154
		    Position		    [465, 240, 505, 280]
		    BackgroundColor	    "yellow"
		    Gain		    "2"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    155
		    Position		    [295, 405, 335, 445]
		    BackgroundColor	    "yellow"
		    Gain		    "2*pi"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Harris spectrum"
		    SID			    156
		    Ports		    [2, 1]
		    Position		    [205, 98, 320, 187]
		    BackgroundColor	    "yellow"
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Harris spectrum"
		    Location		    [1597, 151, 2412, 702]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Freqs"
		    SID			    157
		    Position		    [120, 38, 150, 52]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "u10"
		    SID			    158
		    Position		    [200, 183, 230, 197]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    159
		    Position		    [270, 471, 315, 509]
		    BackgroundColor	    "green"
		    Value		    "4"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    160
		    Position		    [510, 211, 555, 249]
		    BackgroundColor	    "green"
		    Value		    "5/6"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn"
		    SID			    161
		    Position		    [280, 250, 340, 280]
		    BackgroundColor	    "yellow"
		    Expr		    "u^(8/3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    162
		    Position		    [355, 175, 415, 205]
		    BackgroundColor	    "yellow"
		    Expr		    "u^2"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    163
		    Position		    [450, 170, 490, 210]
		    BackgroundColor	    "yellow"
		    Gain		    "2"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "L"
		    SID			    164
		    Position		    [25, 318, 145, 362]
		    BackgroundColor	    "green"
		    Value		    "Par_Wind_L"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction"
		    SID			    165
		    Ports		    [1, 1]
		    Position		    [175, 30, 205, 60]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Operator		    "magnitude^2"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction1"
		    SID			    166
		    Ports		    [1, 1]
		    Position		    [195, 65, 225, 95]
		    BackgroundColor	    "yellow"
		    Operator		    "magnitude^2"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction2"
		    SID			    167
		    Ports		    [2, 1]
		    Position		    [620, 182, 650, 213]
		    BackgroundColor	    "yellow"
		    Operator		    "pow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    168
		    Ports		    [4, 1]
		    Position		    [380, 228, 405, 527]
		    BackgroundColor	    "yellow"
		    Inputs		    "4"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    169
		    Ports		    [2, 1]
		    Position		    [255, 28, 305, 97]
		    BackgroundColor	    "yellow"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    170
		    Ports		    [2, 1]
		    Position		    [685, 328, 735, 397]
		    BackgroundColor	    "yellow"
		    Inputs		    "/*"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    171
		    Ports		    [2, 1]
		    Position		    [525, 180, 545, 200]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "kappa_H"
		    SID			    172
		    Position		    [225, 393, 345, 437]
		    BackgroundColor	    "green"
		    Value		    "Par_Wind_kappa_H"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "S"
		    SID			    173
		    Position		    [760, 358, 790, 372]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "kappa_H"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Fcn"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "u10"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "Fcn"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "L"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -260]
		    DstBlock		    "Math\nFunction1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Math\nFunction"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [225, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [20, 0; 0, -25]
		    DstBlock		    "Math\nFunction2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Math\nFunction2"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Freqs"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "S"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction1"
		    SID			    174
		    Ports		    [1, 1]
		    Position		    [620, 265, 650, 295]
		    BackgroundColor	    "yellow"
		    Operator		    "sqrt"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "Amp"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    MultiPortSwitch
		    Name		    "Multiport\nSwitch"
		    SID			    175
		    Ports		    [3, 1]
		    Position		    [390, 237, 420, 283]
		    BackgroundColor	    "yellow"
		    Inputs		    "2"
		    InputSameDT		    off
		    RndMeth		    "Nearest"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "NORSOK spectrum"
		    SID			    176
		    Ports		    [2, 1]
		    Position		    [210, 227, 325, 318]
		    BackgroundColor	    "yellow"
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "NORSOK spectrum"
		    Location		    [1614, 78, 2678, 1004]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Freqs"
		    SID			    177
		    Position		    [90, 123, 120, 137]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "u10"
		    SID			    178
		    Position		    [85, 243, 115, 257]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "5/(3n) (NORSOK parameter)"
		    SID			    179
		    Position		    [575, 262, 655, 298]
		    BackgroundColor	    "green"
		    Value		    "5/(3*0.468)"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    180
		    Position		    [480, 96, 525, 134]
		    BackgroundColor	    "green"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn2"
		    SID			    181
		    Position		    [260, 175, 320, 205]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Expr		    "u^(2/3)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn3"
		    SID			    182
		    Position		    [275, 235, 335, 265]
		    BackgroundColor	    "yellow"
		    Expr		    "(u+1E-4)^(-3/4)"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn4"
		    SID			    183
		    Position		    [285, 370, 345, 400]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Expr		    "u^0.45"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    184
		    Position		    [205, 110, 245, 150]
		    BackgroundColor	    "yellow"
		    Gain		    "172"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    SID			    185
		    Position		    [140, 170, 180, 210]
		    BackgroundColor	    "yellow"
		    Gain		    "1/10"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain3"
		    SID			    186
		    Position		    [140, 230, 180, 270]
		    BackgroundColor	    "yellow"
		    Gain		    "1/10"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain4"
		    SID			    187
		    Position		    [520, 365, 560, 405]
		    BackgroundColor	    "yellow"
		    Gain		    "320"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction3"
		    SID			    188
		    Ports		    [1, 1]
		    Position		    [300, 545, 330, 575]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Operator		    "magnitude^2"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction4"
		    SID			    189
		    Ports		    [2, 1]
		    Position		    [570, 182, 600, 213]
		    BackgroundColor	    "yellow"
		    Operator		    "pow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction5"
		    SID			    190
		    Ports		    [2, 1]
		    Position		    [690, 192, 720, 223]
		    BackgroundColor	    "yellow"
		    Operator		    "pow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    191
		    Ports		    [3, 1]
		    Position		    [395, 103, 425, 277]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "x"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product4"
		    SID			    192
		    Ports		    [3, 1]
		    Position		    [785, 121, 820, 649]
		    BackgroundColor	    "yellow"
		    Inputs		    "/**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    193
		    Ports		    [2, 1]
		    Position		    [635, 190, 655, 210]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "n (NORSOK parameter)"
		    SID			    194
		    Position		    [450, 207, 530, 243]
		    BackgroundColor	    "green"
		    Value		    "0.468"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "z (height)"
		    SID			    195
		    Position		    [35, 172, 115, 208]
		    BackgroundColor	    "green"
		    Value		    "Par_Wind_z"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "S"
		    SID			    196
		    Position		    [900, 378, 930, 392]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Freqs"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "z (height)"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    Points		    [0, 0; 40, 0]
		    Branch {
		    DstBlock		    "Fcn2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 195]
		    DstBlock		    "Fcn4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn2"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u10"
		    SrcPort		    1
		    DstBlock		    "Gain3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain3"
		    SrcPort		    1
		    Points		    [0, 0; 25, 0]
		    Branch {
		    DstBlock		    "Fcn3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 310]
		    DstBlock		    "Math\nFunction3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Fcn3"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    3
		    }
		    Line {
		    Name		    "x"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "n (NORSOK parameter)"
		    SrcPort		    1
		    Points		    [10, 0; 0, -20]
		    DstBlock		    "Math\nFunction4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Math\nFunction4"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [115, 0]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction5"
		    SrcPort		    1
		    DstBlock		    "Product4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Fcn4"
		    SrcPort		    1
		    DstBlock		    "Gain4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction3"
		    SrcPort		    1
		    DstBlock		    "Product4"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain4"
		    SrcPort		    1
		    DstBlock		    "Product4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product4"
		    SrcPort		    1
		    DstBlock		    "S"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "5/(3n) (NORSOK parameter)"
		    SrcPort		    1
		    Points		    [0, -65]
		    DstBlock		    "Math\nFunction5"
		    DstPort		    2
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "Phase generator"
		    SID			    197
		    Ports		    [0, 1, 0, 1]
		    Position		    [395, 549, 470, 611]
		    BackgroundColor	    "yellow"
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    System {
		    Name		    "Phase generator"
		    Location		    [202, 82, 1270, 978]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    TriggerPort
		    Name		    "Trigger"
		    SID			    198
		    Ports		    []
		    Position		    [375, 15, 395, 35]
		    BackgroundColor	    "gray"
		    StatesWhenEnabling	    "held"
		    }
		    Block {
		    BlockType		    RandomNumber
		    Name		    "Random\nNumber"
		    SID			    199
		    Position		    [90, 155, 120, 185]
		    BackgroundColor	    "green"
		    Variance		    "3"
		    Seed		    "Par_Wind_phase_seed*[1:Par_Wind_nfreq]"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "rad 2 [-pi pi]"
		    SID			    200
		    Description		    "% Routine that maps an angle in radians into [-pi, pi).\n% Roger Skjetne - 05.09.2003         "
		    "                  "
		    Ports		    [1, 1]
		    Position		    [195, 145, 290, 195]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "cybersealib/Utilities/Math operations/rad 2 [-pi pi]"
		    SourceType		    "Unknown"
		    ShowPortLabels	    "on"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Phase"
		    SID			    201
		    Position		    [355, 163, 385, 177]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Random\nNumber"
		    SrcPort		    1
		    DstBlock		    "rad 2 [-pi pi]"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "rad 2 [-pi pi]"
		    SrcPort		    1
		    DstBlock		    "Phase"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    202
		    Ports		    [2, 1]
		    Position		    [535, 243, 585, 312]
		    BackgroundColor	    "yellow"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    203
		    Ports		    [2, 1]
		    Position		    [475, 408, 525, 477]
		    BackgroundColor	    "yellow"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "wt"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    204
		    Position		    [215, 30, 245, 60]
		    BackgroundColor	    "yellow"
		    UpperLimit		    "2"
		    LowerLimit		    "1"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Spectrum type"
		    SID			    205
		    Position		    [95, 25, 155, 65]
		    BackgroundColor	    "green"
		    Value		    "Par_Wind_spectrum_type"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    206
		    Ports		    [2, 1]
		    Position		    [575, 495, 595, 515]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "Trigonometric\nFunction"
		    SID			    207
		    Ports		    [1, 1]
		    Position		    [625, 490, 655, 520]
		    BackgroundColor	    "yellow"
		    Port {
		    PortNumber		    1
		    Name		    "sin(wt + phase)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "dfreq"
		    SID			    208
		    Position		    [350, 324, 455, 366]
		    BackgroundColor	    "green"
		    Value		    "(Par_Wind_maxfreq - Par_Wind_minfreq)/(Par_Wind_nfreq -1)"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Gust"
		    SID			    209
		    Position		    [870, 373, 900, 387]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    Points		    [105, 0; 0, 200]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Frequencies"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    DstBlock		    "Harris spectrum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    DstBlock		    "NORSOK spectrum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 175]
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "u10"
		    SrcPort		    1
		    Points		    [0, 0; 100, 0]
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "NORSOK spectrum"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Harris spectrum"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "dfreq"
		    SrcPort		    1
		    Points		    [55, 0; 0, -50]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Multiport\nSwitch"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Spectrum type"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Harris spectrum"
		    SrcPort		    1
		    Points		    [20, 0; 0, 115]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "NORSOK spectrum"
		    SrcPort		    1
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Clock"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Phase generator"
		    DstPort		    trigger
		    }
		    }
		    Line {
		    Name		    "wt"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Phase generator"
		    SrcPort		    1
		    Points		    [110, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Amp"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Math\nFunction1"
		    SrcPort		    1
		    Points		    [45, 0; 0, 90]
		    DstBlock		    "Dot Product"
		    DstPort		    1
		    }
		    Line {
		    Name		    "sin(wt + phase)"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Trigonometric\nFunction"
		    SrcPort		    1
		    Points		    [55, 0; 0, -120]
		    DstBlock		    "Dot Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Dot Product"
		    SrcPort		    1
		    DstBlock		    "Gust"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "angle"
		  SID			  210
		  Position		  [740, 293, 770, 307]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "speed"
		  SID			  211
		  Position		  [745, 508, 775, 522]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Gust"
		  SrcPort		  1
		  DstBlock		  "Wind gust"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Slowlyvar"
		  SrcPort		  1
		  DstBlock		  "Slowly-varying wind"
		  DstPort		  enable
		}
		Line {
		  SrcBlock		  "Slowly-varying wind"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mean velocity"
		  SrcPort		  1
		  Points		  [90, 0]
		  Branch {
		    DstBlock		    "Wind gust"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 110; 305, 0]
		    DstBlock		    "Sum1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Mean angle"
		  SrcPort		  1
		  Points		  [50, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "angle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Wind gust"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Slowly-varying wind"
		  SrcPort		  2
		  Points		  [130, 0]
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "speed"
		  DstPort		  1
		}
	      }
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Examples"
      SID		      212
      Ports		      []
      Position		      [715, 74, 762, 125]
      BackgroundColor	      "yellow"
      AncestorBlock	      "Marine_GNC/Support and Examples"
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"Examples"
	Location		[401, 152, 1360, 875]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	SIDHighWatermark	60
	Block {
	  BlockType		  SubSystem
	  Name			  "Applications"
	  SID			  1
	  Ports			  []
	  Position		  [30, 34, 77, 85]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Applications"
	    Location		    [458, 189, 1204, 966]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Autopilot - Kalman filter based wave filter using only compass"
	      SID		      2
	      Ports		      []
	      Position		      [155, 285, 263, 341]
	      BackgroundColor	      "lightBlue"
	      AncestorBlock	      "marine/Examples/Autopilot - Kalman filter based wave filter using only compass"
	      OpenFcn		      "sfundemo_open('demowf3')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Autopilot - \\n Kalman filter based\\n wave filter using\\n only compass');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Autopilot - Kalman filter based wave filter using only compass"
		Location		[480, 103, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	1
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  1
		  Position		  [145, 185, 175, 215]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Autopilot - passive wave filter using compass/gyro"
	      SID		      3
	      Ports		      []
	      Position		      [155, 115, 263, 171]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demowf2')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Autopilot - \\n passive wave filter\\n\nusing compass/gyro');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Autopilot - passive wave filter using compass/gyro"
		Location		[480, 103, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  4
		  Position		  [165, 90, 195, 120]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Autopilot - passive wave filter using only compass"
	      SID		      5
	      Ports		      []
	      Position		      [145, 25, 253, 81]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demowf1')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Autopilot - \\n passive wave filter \\n\nusing only compass');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Autopilot - passive wave filter using only compass"
		Location		[317, 477, 1051, 797]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  6
		  Position		  [40, 30, 70, 60]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "DP system for CyberShipII"
	      SID		      7
	      Ports		      []
	      Position		      [155, 455, 263, 511]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demoCS2')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('DP system for \\n CyberShipII');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"DP system for CyberShipII"
		Location		[480, 103, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  8
		  Position		  [90, 85, 120, 115]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "DP system for semi-submersible"
	      SID		      9
	      Ports		      []
	      Position		      [155, 625, 263, 681]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demorig')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('DP system for\\n semi-submersible');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"DP system for semi-submersible"
		Location		[480, 103, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  10
		  Position		  [90, 85, 120, 115]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Simulink interface for m-file vessel models"
	      SID		      11
	      Ports		      []
	      Position		      [155, 200, 263, 256]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demomf')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Simulink interface for\\n \nm-file vessel models');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Simulink interface for m-file vessel models"
		Location		[480, 103, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  12
		  Position		  [15, 15, 45, 45]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Thruster configuration demo for a supply vessel"
	      SID		      13
	      Ports		      []
	      Position		      [155, 370, 263, 426]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demothr')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Thruster configuration\\n for a supply vessel');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Thruster configuration demo for a supply vessel"
		Location		[480, 103, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  14
		  Position		  [90, 85, 120, 115]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Waves"
	      SID		      15
	      Ports		      []
	      Position		      [150, 825, 258, 881]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demo_waves')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Waves');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Waves"
		Location		[317, 477, 1051, 797]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  16
		  Position		  [40, 30, 70, 60]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Way-point guidance system"
	      SID		      17
	      Ports		      []
	      Position		      [155, 535, 263, 591]
	      BackgroundColor	      "lightBlue"
	      OpenFcn		      "sfundemo_open('demowpt')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Way-point guidance\\n system');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Way-point guidance system"
		Location		[480, 103, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  18
		  Position		  [90, 85, 120, 115]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Zig-zag Test"
	      SID		      19
	      Ports		      []
	      Position		      [150, 720, 258, 776]
	      BackgroundColor	      "lightBlue"
	      AncestorBlock	      "marine_gnc/Examples/Applications/Autopilot - passive wave filter using only compass"
	      OpenFcn		      "sfundemo_open('demo_nv_mano')"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Needed to invoke OpenFcn from the browser:"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "A=@1;"
	      MaskDisplay	      "disp('Naval Vessel  \\n Manoeuvring');"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Zig-zag Test"
		Location		[317, 477, 1051, 797]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	1
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  1
		  Position		  [40, 30, 70, 60]
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Vessels"
	  SID			  20
	  Ports			  []
	  Position		  [150, 34, 197, 85]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Vessels"
	    Location		    [252, 170, 1211, 893]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "6 DOF supply vessel interface"
	      SID		      21
	      Ports		      [1, 2]
	      Position		      [235, 338, 365, 427]
	      BackgroundColor	      "yellow"
	      AncestorBlock	      "marine/Models/Vessels/6 DOF supply vessel interface"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskDisplay	      "disp('6 DOF interface\\n to 3 DOF vessel\\n models')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"6 DOF supply vessel interface"
		Location		[306, 92, 1232, 815]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	7
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  1
		  Position		  [25, 68, 55, 82]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "3 to 6 DOF"
		  SID			  2
		  Ports			  [1, 1]
		  Position		  [300, 25, 350, 75]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/3 to 6 DOF"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData "off"
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		}
		Block {
		  BlockType		  Reference
		  Name			  "3 to 6 DOF1"
		  SID			  3
		  Ports			  [1, 1]
		  Position		  [380, 70, 430, 120]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/3 to 6 DOF"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData "off"
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		}
		Block {
		  BlockType		  Selector
		  Name			  "6 to 3 DOF1"
		  SID			  4
		  Ports			  [1, 1]
		  Position		  [75, 38, 105, 112]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Supply vessel"
		  SID			  5
		  Ports			  [1, 2]
		  Position		  [130, 29, 260, 116]
		  BackgroundColor	  "green"
		  SourceBlock		  "marine_gnc/Examples/Vessels/Supply vessel"
		  SourceType		  "Supply Vessel (surge, sway and yaw)"
		  ShowPortLabels	  "on"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData "off"
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		  D			  "[5.0242e4 0 0; 0 2.7229e5 -4.3933e6; 0 -4.3933e6 4.1894e8]"
		  Minv			  "inv( [5.3122e6 0 0; 0 8.2831e6 0; 0 0 3.7454e9] )"
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta"
		  SID			  6
		  Position		  [445, 43, 475, 57]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu"
		  SID			  7
		  Position		  [450, 88, 480, 102]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "3 to 6 DOF1"
		  SrcPort		  1
		  DstBlock		  "nu"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  DstBlock		  "6 to 3 DOF1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "3 to 6 DOF"
		  SrcPort		  1
		  DstBlock		  "eta"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "6 to 3 DOF1"
		  SrcPort		  1
		  DstBlock		  "Supply vessel"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Supply vessel"
		  SrcPort		  2
		  DstBlock		  "3 to 6 DOF1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Supply vessel"
		  SrcPort		  1
		  DstBlock		  "3 to 6 DOF"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "CyberShipII"
	      SID		      22
	      Ports		      [1, 2]
	      Position		      [240, 184, 370, 271]
	      BackgroundColor	      "yellow"
	      AncestorBlock	      "marine/Models/Vessels/CyberShipII"
	      LoadFcn		      "initCS2"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskDisplay	      "image(imread('figs/cs.jpg'))\ncolor('white'); port_label('output', 1, 'eta')\ncolor('white')"
	      ";port_label('output', 2, 'nu')\ncolor('white'); port_label('input', 1, 'tau')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"CyberShipII"
		Location		[202, 92, 1161, 815]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	18
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  1
		  Position		  [140, 83, 170, 97]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "D"
		  SID			  2
		  Position		  [480, 175, 530, 205]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Gain			  "D"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  3
		  Ports			  [1, 1]
		  Position		  [710, 75, 740, 105]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  SID			  4
		  Ports			  [1, 1]
		  Position		  [490, 90, 520, 120]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Rotation matrix\nin yaw 1"
		  SID			  5
		  Ports			  [2, 1]
		  Position		  [575, 60, 665, 120]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Rotation matrix\nin yaw "
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData "off"
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  6
		  Ports			  [2, 1]
		  Position		  [325, 75, 335, 130]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "inv(M)"
		  SID			  7
		  Position		  [380, 90, 430, 120]
		  BackgroundColor	  "yellow"
		  Gain			  "inv(M)"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Selector
		  Name			  "psi"
		  SID			  8
		  Ports			  [1, 1]
		  Position		  [675, 30, 705, 60]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[3]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "saturation"
		  SID			  9
		  Ports			  [1, 1]
		  Position		  [210, 71, 270, 109]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "saturation"
		    Location		    [191, 385, 486, 589]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "tau"
		    SID			    10
		    Position		    [25, 98, 55, 112]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    11
		    Ports		    [1, 3]
		    Position		    [80, 31, 85, 179]
		    BackgroundColor	    "black"
		    ShowName		    off
		    Outputs		    "3"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    12
		    Ports		    [3, 1]
		    Position		    [210, 29, 215, 181]
		    ShowName		    off
		    Inputs		    "3"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation"
		    SID			    13
		    Position		    [135, 40, 165, 70]
		    BackgroundColor	    "yellow"
		    UpperLimit		    "2"
		    LowerLimit		    "-2"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation1"
		    SID			    14
		    Position		    [135, 90, 165, 120]
		    BackgroundColor	    "yellow"
		    UpperLimit		    "1.5"
		    LowerLimit		    "-1.5"
		    }
		    Block {
		    BlockType		    Saturate
		    Name		    "Saturation2"
		    SID			    15
		    Position		    [135, 140, 165, 170]
		    BackgroundColor	    "yellow"
		    UpperLimit		    "1.5"
		    LowerLimit		    "-1.5"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "sat_tau"
		    SID			    16
		    Position		    [240, 98, 270, 112]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "sat_tau"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "tau"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    DstBlock		    "Saturation"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    DstBlock		    "Saturation1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    3
		    DstBlock		    "Saturation2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Saturation1"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Saturation2"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta"
		  SID			  17
		  Position		  [775, 88, 805, 102]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu"
		  SID			  18
		  Position		  [660, 183, 690, 197]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "saturation"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "psi"
		  SrcPort		  1
		  Points		  [-110, 0]
		  DstBlock		  "Rotation matrix\nin yaw 1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [0, 5; 10, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "psi"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "eta"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Rotation matrix\nin yaw 1"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "inv(M)"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "inv(M)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "D"
		  SrcPort		  1
		  Points		  [-175, 0; 0, -75]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    Points		    [0, 85]
		    Branch {
		    DstBlock		    "D"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "nu"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Rotation matrix\nin yaw 1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  DstBlock		  "saturation"
		  DstPort		  1
		}
		Annotation {
		  Name			  "etadot"
		  Position		  [683, 79]
		}
		Annotation {
		  Name			  "nu_dot"
		  Position		  [456, 95]
		}
		Annotation {
		  Name			  "nu"
		  Position		  [547, 94]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Mariner class cargo ship\n (2nd -order)"
	      SID		      23
	      Ports		      [1, 3]
	      Position		      [430, 35, 560, 125]
	      AncestorBlock	      "marine/Models/Vessels/Mariner class cargo ship\n (2nd -order)"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Container ship (2nd-order model)"
	      MaskPromptString	      "Max rudder rate: rate_max (rad/s)|Max rudder angle: delta_max (rad)|Gain constant: K (1"
	      "/s) |Time constant: T1 (s)|Time constant: T2 (s)|Time constant: T3 (s)"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVariables	      "rate_max=@1;delta_max=@2;K=@3;T1=@4;T2=@5;T3=@6;"
	      MaskInitialization      "\n"
	      MaskDisplay	      "image(imread('figs/container.jpg'))\ncolor('white'); port_label('output', 1, 'psi')\ncolor('"
	      "white'); port_label('output', 2, 'r')\ncolor('white'); port_label('output', 3, 'delta')\ncolor('white'); port_l"
	      "abel('input', 1, 'delta_c')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "5*(pi/180)|20*(pi/180)|0.185|118|7.8|18.5"
	      System {
		Name			"Mariner class cargo ship\n (2nd -order)"
		Location		[392, 92, 1109, 700]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	14
		Block {
		  BlockType		  Inport
		  Name			  "rudder command"
		  SID			  1
		  Position		  [140, 103, 170, 117]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  2
		  Ports			  [1, 1]
		  Position		  [380, 94, 410, 126]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Ship model"
		  SID			  3
		  Ports			  [1, 2]
		  Position		  [510, 80, 605, 140]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Ship model"
		    Location		    [51, 98, 799, 328]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "rudder angle"
		    SID			    4
		    Position		    [180, 113, 210, 127]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    5
		    Ports		    [1, 1]
		    Position		    [480, 105, 510, 135]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "Nomoto 2nd-order model"
		    SID			    6
		    Position		    [260, 94, 385, 146]
		    BackgroundColor	    "yellow"
		    Numerator		    "[K*T3 K]"
		    Denominator		    "[T1*T2 (T1+T2) 1]"
		    Port {
		    PortNumber		    1
		    Name		    "heading\nrate"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "heading angle"
		    SID			    7
		    Position		    [595, 113, 625, 127]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "heading rate"
		    SID			    8
		    Position		    [595, 158, 625, 172]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "rudder angle"
		    SrcPort		    1
		    DstBlock		    "Nomoto 2nd-order model"
		    DstPort		    1
		    }
		    Line {
		    Name		    "heading\nrate"
		    Labels		    [0, 0; 1, 0]
		    SrcBlock		    "Nomoto 2nd-order model"
		    SrcPort		    1
		    Points		    [60, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "heading rate"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "heading angle"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "heading\nangle"
		    Position		    [537, 100]
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  9
		  Ports			  [2, 1]
		  Position		  [275, 100, 295, 120]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "rudder angle\nsaturation"
		  SID			  10
		  Position		  [215, 95, 245, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "delta_max"
		  LowerLimit		  "-delta_max"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "rudder rate\nsaturation"
		  SID			  11
		  Position		  [315, 95, 345, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "rate_max"
		  LowerLimit		  "-rate_max"
		}
		Block {
		  BlockType		  Outport
		  Name			  "heading angle"
		  SID			  12
		  Position		  [635, 88, 665, 102]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "heading rate"
		  SID			  13
		  Position		  [635, 118, 665, 132]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "rudder angle"
		  SID			  14
		  Position		  [635, 178, 665, 192]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "rudder command"
		  SrcPort		  1
		  DstBlock		  "rudder angle\nsaturation"
		  DstPort		  1
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "Ship model"
		  SrcPort		  1
		  DstBlock		  "heading angle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Ship model"
		  SrcPort		  2
		  DstBlock		  "heading rate"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 35, 0]
		  Branch {
		    Points		    [0, 65; -165, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    Points		    [-10, 0; 0, 75]
		    DstBlock		    "rudder angle"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Ship model"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Labels		  [1, 1]
		  SrcBlock		  "rudder angle\nsaturation"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "rudder rate\nsaturation"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "rudder rate\nsaturation"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Naval Vessel 4DOF (360ton)"
	      SID		      24
	      Ports		      [1, 2]
	      Position		      [625, 22, 785, 133]
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Naval Vessel Nonlinear Manoeuvring Model"
	      MaskDescription	      "Naval Vessel Model in 4DOF (surge,sway, roll, and yaw)\nInput:  \nTau -- vector of force"
	      "s [X,Y,K,N]' in Newtons\n\nOutput:\nEta --  [phi,psi]'  Euler angles [rad]\nNu  --  [u,v,p,r]   Linear and angu"
	      "lar velocities in the body-fixed frame.\n\nCopyright 2005 NTNU\nAuthor: Tristan Perez"
	      MaskHelp		      "<p><font face=\"Arial\">This is nonlinear manoeuvring model un 4DOF. This model \nhas been imp"
	      "lemented usign the GNC vessel model block, and the </font>\n<font face=\"Courier\">m</font><font face=\"Arial\""
	      "> file associated with the model \nis </font></p>\n<p><font face=\"Courier\">mss\\vessel_models\\nv_nl_model.m<"
	      "/font></p>\n<p><font face=\"Arial\">All the hydrodynamic data is in the above file.&nbsp; For \nan example of u"
	      "se see&nbsp; the following demo:</font></p>\n<p><font face=\"Courier\">mss\\simulink\\demos\\demo_nv_mano.mdl</"
	      "font></p>\n\n"
	      MaskPromptString	      "Initial Condition x=[u,v,p,r,phi,psi]"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "ic=@1;"
	      MaskDisplay	      "image(imread('nvessel.jpg'))\ncolor('white'); port_label('output', 1, 'Eta')\ncolor('white')"
	      ";port_label('output', 2, 'Nu')\ncolor('white'); port_label('input', 1, 'Tau')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[kt2ms(15),0,0,0,0,0]'"
	      System {
		Name			"Naval Vessel 4DOF (360ton)"
		Location		[475, 679, 1046, 1016]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Tau\n(X,Y,K,N)"
		  SID			  25
		  Position		  [25, 43, 55, 57]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Initial Condition\n(u,v,p,r,phi,psi)"
		  SID			  26
		  Position		  [25, 155, 55, 185]
		  BackgroundColor	  "green"
		  Value			  "ic"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  SID			  27
		  Ports			  [1, 1]
		  Position		  [430, 154, 475, 266]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 3 4]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  SID			  28
		  Ports			  [1, 1]
		  Position		  [425, 32, 470, 128]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[5 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Reference
		  Name			  "m-file interface"
		  SID			  29
		  Ports			  [2, 1]
		  Position		  [190, 58, 320, 147]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Examples/Vessels/m-file interface"
		  SourceType		  "m-file vessel model interface"
		  ShowPortLabels	  "on"
		  vessmodel		  "nv_nl_model"
		  dimx_model		  "6"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Eta \n(phi,psi)"
		  SID			  30
		  Position		  [505, 73, 535, 87]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Nu\n(u,v,p,r)"
		  SID			  31
		  Position		  [510, 203, 540, 217]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Tau\n(X,Y,K,N)"
		  SrcPort		  1
		  Points		  [45, 0; 0, 30]
		  DstBlock		  "m-file interface"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Initial Condition\n(u,v,p,r,phi,psi)"
		  SrcPort		  1
		  Points		  [90, 0; 0, -45]
		  DstBlock		  "m-file interface"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "Nu\n(u,v,p,r)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "Eta \n(phi,psi)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "m-file interface"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    Points		    [40, 0]
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 105]
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Semi-sub"
	      SID		      32
	      Ports		      [2, 2]
	      Position		      [45, 338, 175, 427]
	      BackgroundColor	      "green"
	      AncestorBlock	      "marine/Models/Vessels/Semi-sub"
	      InitFcn		      "load MDGmodels/rig"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Semi-submersiblel (6 DOF)"
	      MaskDescription	      "Semi-submersible low-speed model for DP.\n\nInputs:\n\n   tau = 6 DOF control input vect"
	      "or (generalized force)\n\nOutputs:\n\n   eta = [x, y, z, phi, theta, psi]' \n   nu  = [u, v, w, p, q, r]' "
	      MaskPromptString	      "Linear damping matrix: D|Spring matrix G:|System inertia added mass matrix: M|System in"
	      "ertia rigid-body matrix"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVariables	      "D=@1;G=@2;MA=@3;MRB=@4;"
	      MaskDisplay	      "image(imread('figs/semisub.jpg'))\ncolor('black'); port_label('output', 1, 'eta')\ncolor('bl"
	      "ack'); port_label('output', 2, 'nu')\ncolor('black'); port_label('input', 1, 'tau')\ncolor('black'); port_label"
	      "('input', 2, 'nu_c')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "D|G|MA|MRB"
	      System {
		Name			"Semi-sub"
		Location		[139, 224, 1207, 798]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	11
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  1
		  Position		  [80, 153, 110, 167]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nu_c"
		  SID			  2
		  Position		  [590, 277, 620, 293]
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "6 DOF Eqs. of motion"
		  SID			  3
		  Ports			  [4, 2]
		  Position		  [420, 76, 555, 219]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /6 DOF Eqs. of motion"
		  SourceType		  "Equations of motion"
		  ShowPortLabels	  "on"
		  CoriolisOnOff		  "on"
		  nu0			  "[0 0 0 0 0 0]"
		  eta0			  "[0 0 0 0 0 0]"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  4
		  Position		  [75, 72, 125, 108]
		  BackgroundColor	  "green"
		  Value			  "MRB"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant "
		  SID			  5
		  Position		  [315, 107, 365, 143]
		  BackgroundColor	  "green"
		  Value			  "MA"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "D"
		  SID			  6
		  Position		  [325, 327, 365, 363]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "D"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "G"
		  SID			  7
		  Position		  [325, 389, 370, 421]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "G"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  8
		  Ports			  [3, 1]
		  Position		  [270, 154, 300, 186]
		  BackgroundColor	  "yellow"
		  Inputs		  "+--"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  9
		  Ports			  [2, 1]
		  Position		  [495, 335, 515, 355]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-+|"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta"
		  SID			  10
		  Position		  [785, 103, 815, 117]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu"
		  SID			  11
		  Position		  [690, 182, 720, 198]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Constant "
		  SrcPort		  1
		  Points		  [30, 0; 0, 5]
		  DstBlock		  "6 DOF Eqs. of motion"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [95, 0; 0, -5]
		  DstBlock		  "6 DOF Eqs. of motion"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "D"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nu_c"
		  SrcPort		  1
		  Points		  [-80, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-145, 0; 0, -85]
		    DstBlock		    "6 DOF Eqs. of motion"
		    DstPort		    4
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [270, 0; 0, 5]
		  DstBlock		  "6 DOF Eqs. of motion"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "6 DOF Eqs. of motion"
		  SrcPort		  1
		  Points		  [0, -5; 185, 0]
		  Branch {
		    DstBlock		    "eta"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 295]
		    DstBlock		    "G"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "6 DOF Eqs. of motion"
		  SrcPort		  2
		  Points		  [0, 5; 100, 0]
		  Branch {
		    Points		    [0, 155]
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "nu"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "G"
		  SrcPort		  1
		  Points		  [-85, 0; 0, -235]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "D"
		  SrcPort		  1
		  Points		  [-70, 0; 0, -165]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Supply vessel"
	      SID		      33
	      Ports		      [1, 2]
	      Position		      [45, 184, 175, 271]
	      BackgroundColor	      "green"
	      AncestorBlock	      "marine/Models/Vessels/Supply vessel"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Supply Vessel (surge, sway and yaw)"
	      MaskDescription	      "DP model\n\nInputs:\n\n   tau = 3 DOF control input vector (generalized force)\n\nOutput"
	      "s:\n\n   eta = [x, y, psi]' \n   nu  = [u, v, r]' "
	      MaskPromptString	      "Linear damping matrix: D|Inverse inertia matrix: Minv"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVariables	      "D=@1;Minv=@2;"
	      MaskDisplay	      "image(imread('figs/supply.jpg'))\ncolor('black'); port_label('output', 1, 'eta')\ncolor('bla"
	      "ck'); port_label('output', 2, 'nu')\ncolor('black'); port_label('input', 1, 'tau')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[5.0242e4 0 0; 0 2.7229e5 -4.3933e6; 0 -4.3933e6 4.1894e8]|inv( [5.3122e6 0 0; 0 8.2831e"
	      "6 0; 0 0 3.7454e9] )"
	      System {
		Name			"Supply vessel"
		Location		[427, 335, 1018, 938]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	10
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  1
		  Position		  [15, 128, 45, 142]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "D"
		  SID			  2
		  Position		  [120, 185, 150, 215]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "D"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  3
		  Ports			  [1, 1]
		  Position		  [200, 130, 230, 160]
		  BackgroundColor	  "yellow"
		  Port {
		    PortNumber		    1
		    Name		    "nu"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  4
		  Ports			  [1, 1]
		  Position		  [405, 120, 435, 150]
		  BackgroundColor	  "yellow"
		  Port {
		    PortNumber		    1
		    Name		    "eta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "Minv"
		  SID			  5
		  Position		  [145, 130, 175, 160]
		  BackgroundColor	  "yellow"
		  Gain			  "Minv"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Rotation matrix\nin yaw "
		  SID			  6
		  Ports			  [2, 1]
		  Position		  [295, 110, 385, 170]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Rotation matrix\nin yaw "
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  7
		  Ports			  [2, 1]
		  Position		  [80, 127, 110, 158]
		  BackgroundColor	  "yellow"
		  Inputs		  "+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "yaw angle"
		  SID			  8
		  Position		  [345, 51, 400, 79]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Expr			  "u(3)"
		  Port {
		    PortNumber		    1
		    Name		    "psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta"
		  SID			  9
		  Position		  [485, 128, 515, 142]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu"
		  SID			  10
		  Position		  [485, 197, 515, 213]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Line {
		  Name			  "eta"
		  Labels		  [0, 0]
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "eta"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, -70]
		    DstBlock		    "yaw angle"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "nu"
		  Labels		  [0, 0]
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Labels		    [1, 0]
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "nu"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [5, 0]
		    DstBlock		    "Rotation matrix\nin yaw "
		    DstPort		    2
		    }
		  }
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "D"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "psi"
		  Labels		  [0, 0; 1, 0]
		  SrcBlock		  "yaw angle"
		  SrcPort		  1
		  Points		  [-60, 0]
		  DstBlock		  "Rotation matrix\nin yaw "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Rotation matrix\nin yaw "
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Minv"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Minv"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "D"
		  SrcPort		  1
		  Points		  [-60, 0; 0, -50]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Tanker (1st-order)"
	      SID		      34
	      Ports		      [1, 3]
	      Position		      [45, 36, 175, 124]
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Tanker (Nomoto 1st.-order)"
	      MaskDescription	      "Tanker: Nomoto 1st-order model \n\nInput:\n\n  delta_c = rudder angle command (rad)\n\nO"
	      "utputs:\n\n   psi    = yaw angle (rad)\n   r        = yaw rate (rad)\n   delta = rudder angle from steering mac"
	      "hine (rad)  "
	      MaskPromptString	      "Max rudder rate: rate_max (rad/s):|Max rudder angle: delta_max  (rad)|Gain constant: K "
	      "(1/s) |Time constant: T (s)"
	      MaskStyleString	      "edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on"
	      MaskCallbackString      "|||"
	      MaskEnableString	      "on,on,on,on"
	      MaskVisibilityString    "on,on,on,on"
	      MaskToolTipString	      "on,on,on,on"
	      MaskVariables	      "rate_max=@1;delta_max=@2;K=@3;T=@4;"
	      MaskInitialization      "\n"
	      MaskDisplay	      "image(imread('figs/tanker.jpg'))\ncolor('white'); port_label('output', 1, 'psi')\ncolor('whi"
	      "te'); port_label('output', 2, 'r')\ncolor('white'); port_label('output', 3, 'delta')\ncolor('white'); port_labe"
	      "l('input', 1, 'delta_c')\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "5*(pi/180)|20*(pi/180)|-0.019|-153.7"
	      System {
		Name			"Tanker (1st-order)"
		Location		[549, 266, 1185, 649]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "rudder command"
		  SID			  35
		  Position		  [15, 103, 45, 117]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  36
		  Ports			  [1, 1]
		  Position		  [250, 94, 280, 126]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Ship model"
		  SID			  37
		  Ports			  [1, 2]
		  Position		  [380, 79, 520, 141]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Ship model"
		    Location		    [208, 210, 903, 501]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "rudder angle"
		    SID			    38
		    Position		    [30, 113, 60, 127]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    " Nomoto \ntime constant"
		    SID			    39
		    Position		    [210, 104, 245, 136]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Gain		    "1/T_supply"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    40
		    Ports		    [1, 1]
		    Position		    [290, 105, 320, 135]
		    BackgroundColor	    "yellow"
		    Port {
		    PortNumber		    1
		    Name		    "heading \nrate"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator1"
		    SID			    41
		    Ports		    [1, 1]
		    Position		    [415, 105, 445, 135]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Nomoto\ngain constant"
		    SID			    42
		    Position		    [90, 105, 120, 135]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Gain		    "K_supply"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    " \n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    43
		    Ports		    [2, 1]
		    Position		    [155, 110, 175, 130]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|+-"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "\n"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "heading angle"
		    SID			    44
		    Position		    [530, 113, 560, 127]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "heading rate"
		    SID			    45
		    Position		    [530, 158, 560, 172]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Integrator1"
		    SrcPort		    1
		    DstBlock		    "heading angle"
		    DstPort		    1
		    }
		    Line {
		    Name		    "heading \nrate"
		    Labels		    [0, 0; 1, 0]
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, 65; -200, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "Integrator1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "heading rate"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    Name		    " \n"
		    Labels		    [0, 0; 0, 1]
		    SrcBlock		    "Nomoto\ngain constant"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "rudder angle"
		    SrcPort		    1
		    DstBlock		    "Nomoto\ngain constant"
		    DstPort		    1
		    }
		    Line {
		    Name		    "\n"
		    Labels		    [0, 0; 0, 1]
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    " Nomoto \ntime constant"
		    DstPort		    1
		    }
		    Line {
		    Labels		    [0, 1]
		    SrcBlock		    " Nomoto \ntime constant"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "heading\nangle"
		    Position		    [472, 100]
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  46
		  Ports			  [2, 1]
		  Position		  [145, 100, 165, 120]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "rudder angle\nsaturation"
		  SID			  47
		  Position		  [85, 95, 115, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "delta_max"
		  LowerLimit		  "-delta_max"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "rudder rate\nsaturation"
		  SID			  48
		  Position		  [185, 95, 215, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "rate_max"
		  LowerLimit		  "-rate_max"
		}
		Block {
		  BlockType		  Outport
		  Name			  "heading angle"
		  SID			  49
		  Position		  [550, 88, 580, 102]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "heading rate"
		  SID			  50
		  Position		  [550, 118, 580, 132]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "rudder angle"
		  SID			  51
		  Position		  [550, 178, 580, 192]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Ship model"
		  SrcPort		  2
		  DstBlock		  "heading rate"
		  DstPort		  1
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "Ship model"
		  SrcPort		  1
		  DstBlock		  "heading angle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 65; -165, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Ship model"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "rudder angle"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Labels		  [1, 1]
		  SrcBlock		  "rudder angle\nsaturation"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "rudder rate\nsaturation"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "rudder rate\nsaturation"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rudder command"
		  SrcPort		  1
		  DstBlock		  "rudder angle\nsaturation"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Tanker (2nd-order)"
	      SID		      52
	      Ports		      [1, 3]
	      Position		      [240, 35, 370, 125]
	      AncestorBlock	      "marine/Models/Vessels/Tanker (2nd-order)"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Tanker (Nomoto 2nd-order model)"
	      MaskDescription	      "Tanker: Nomoto 2nd-order model \n\nInput:\n\n  delta_c = rudder angle command (rad)\n\nO"
	      "utputs:\n\n   psi    = yaw angle (rad)\n   r        = yaw rate (rad)\n   delta = rudder angle from steering mac"
	      "hine (rad)  "
	      MaskPromptString	      "Max rudder rate: rate_max (rad/s)|Max rudder angle: delta_max (rad)|Gain constant: K (1"
	      "/s)|Time constant: T1 (s)|Time constant: T2 (s)|Time constant: T3 (s)"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVariables	      "rate_max=@1;delta_max=@2;K=@3;T1=@4;T2=@5;T3=@6;"
	      MaskDisplay	      "image(imread('figs/tanker.jpg'))\ncolor('white'); port_label('output', 1, 'psi')\ncolor('whi"
	      "te'); port_label('output', 2, 'r')\ncolor('white'); port_label('output', 3, 'delta')\ncolor('white'); port_labe"
	      "l('input', 1, 'delta_c')\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "5*(pi/180)|20*(pi/180)|-0.019|-124.1| 16.4|46"
	      System {
		Name			"Tanker (2nd-order)"
		Location		[392, 92, 1274, 699]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	14
		Block {
		  BlockType		  Inport
		  Name			  "rudder command"
		  SID			  1
		  Position		  [30, 53, 60, 67]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  2
		  Ports			  [1, 1]
		  Position		  [280, 44, 310, 76]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Ship model"
		  SID			  3
		  Ports			  [1, 2]
		  Position		  [415, 31, 580, 89]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Ship model"
		    Location		    [51, 98, 799, 328]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "rudder angle"
		    SID			    4
		    Position		    [180, 113, 210, 127]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    5
		    Ports		    [1, 1]
		    Position		    [480, 105, 510, 135]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    TransferFcn
		    Name		    "Nomoto 2nd-order model"
		    SID			    6
		    Position		    [260, 94, 385, 146]
		    BackgroundColor	    "yellow"
		    Numerator		    "[K*T3 K]"
		    Denominator		    "[T1*T2 (T1+T2) 1]"
		    Port {
		    PortNumber		    1
		    Name		    "heading\nrate"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "heading angle"
		    SID			    7
		    Position		    [595, 113, 625, 127]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "heading rate"
		    SID			    8
		    Position		    [595, 158, 625, 172]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "rudder angle"
		    SrcPort		    1
		    DstBlock		    "Nomoto 2nd-order model"
		    DstPort		    1
		    }
		    Line {
		    Name		    "heading\nrate"
		    Labels		    [0, 0; 1, 0]
		    SrcBlock		    "Nomoto 2nd-order model"
		    SrcPort		    1
		    Points		    [60, 0]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "heading rate"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		    }
		    Line {
		    Labels		    [1, 0]
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    DstBlock		    "heading angle"
		    DstPort		    1
		    }
		    Annotation {
		    Name		    "heading\nangle"
		    Position		    [537, 100]
		    }
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  9
		  Ports			  [2, 1]
		  Position		  [175, 50, 195, 70]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "rudder angle\nsaturation"
		  SID			  10
		  Position		  [115, 45, 145, 75]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "delta_max"
		  LowerLimit		  "-delta_max"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "rudder rate\nsaturation"
		  SID			  11
		  Position		  [215, 45, 245, 75]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "rate_max"
		  LowerLimit		  "-rate_max"
		}
		Block {
		  BlockType		  Outport
		  Name			  "heading angle"
		  SID			  12
		  Position		  [660, 38, 690, 52]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "heading rate"
		  SID			  13
		  Position		  [660, 68, 690, 82]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "rudder angle"
		  SID			  14
		  Position		  [660, 128, 690, 142]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  Labels		  [1, 0]
		  SrcBlock		  "Ship model"
		  SrcPort		  1
		  DstBlock		  "heading angle"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Ship model"
		  SrcPort		  2
		  DstBlock		  "heading rate"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 55; -150, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [45, 0]
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Ship model"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    DstBlock		    "rudder angle"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Labels		  [1, 1]
		  SrcBlock		  "rudder angle\nsaturation"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "rudder rate\nsaturation"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "rudder rate\nsaturation"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rudder command"
		  SrcPort		  1
		  DstBlock		  "rudder angle\nsaturation"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "m-file examples"
	      SID		      53
	      Ports		      []
	      Position		      [235, 514, 365, 606]
	      BackgroundColor	      "lightBlue"
	      AncestorBlock	      "marine/Models/Vessels/m-file examples"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "propeller"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"m-file examples"
		Location		[251, 137, 1229, 796]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	35
		Block {
		  BlockType		  SubSystem
		  Name			  "Container ship: L = 175 m"
		  SID			  1
		  Ports			  [2, 1]
		  Position		  [250, 301, 435, 394]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "m-file vessel model interface"
		  MaskDescription	  "Simulink interface to the GNC toolbox m-file vessel models, type:\n\n   >help vesselmodels \n\n"
		  "in the Matlab command window. A Simulink demo file is found under examples (demomf.mdl).\n\nInputs/outputs:\n\n   "
		  "u   = control input vector of dimension dimu\n   xo = initial state vector of dimension dimx\n   x   = state vecto"
		  "r of dimension dimx"
		  MaskHelp		  "Simulink interface to the GNC toolbox m-file vessel models. \nType >help vesselmodels in the Matlab c"
		  "ommand window to see a list of the m-file vessel models. The dimension of the state and input vectors are found  b"
		  "y typing >help \"m-file\"\n\n"
		  MaskPromptString	  "m-file vessel model|dim u|dim x"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "vessmodel=@1;dimu_model=@2;dimx_model=@3;"
		  MaskDisplay		  "disp('Integration of\\n container.m\\n\\n...\nx = [u v r x y psi p phi delta n]\\n\nu = [delta_c n"
		  "_c]')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "port"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "'container'|2|10"
		  System {
		    Name		    "Container ship: L = 175 m"
		    Location		    [251, 137, 1229, 796]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    2
		    Position		    [25, 93, 55, 107]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "xo"
		    SID			    3
		    Position		    [180, 108, 210, 122]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    4
		    Ports		    [2, 1]
		    Position		    [235, 79, 285, 126]
		    BackgroundColor	    "yellow"
		    InitialConditionSource  "external"
		    InitialCondition	    "[1 1]"
		    UpperSaturationLimit    "10"
		    LowerSaturationLimit    "-10"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    5
		    Ports		    [2, 1]
		    Position		    [80, 63, 85, 112]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    MATLABFcn
		    Name		    "m-file"
		    SID			    6
		    Ports		    [1, 1]
		    Position		    [110, 75, 170, 105]
		    BackgroundColor	    "yellow"
		    MATLABFcn		    "feval(vessmodel,u(1:dimx_model),u(dimx_model+1:length(u)))"
		    Output1D		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "x"
		    SID			    7
		    Position		    [330, 98, 360, 112]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "xo"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "m-file"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "x"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -75; -255, 0; 0, 45]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "m-file"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Deep submergence rescue vehicle"
		  SID			  8
		  Ports			  [2, 1]
		  Position		  [25, 32, 210, 123]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "m-file vessel model interface"
		  MaskDescription	  "Simulink interface to the GNC toolbox m-file vessel models, type:\n\n   >help vesselmodels \n\n"
		  "in the Matlab command window. A Simulink demo file is found under examples (demomf.mdl).\n\nInputs/outputs:\n\n   "
		  "u   = control input vector of dimension dimu\n   xo = initial state vector of dimension dimx\n   x   = state vecto"
		  "r of dimension dimx"
		  MaskHelp		  "Simulink interface to the GNC toolbox m-file vessel models. \nType >help vesselmodels in the Matlab c"
		  "ommand window to see a list of the m-file vessel models. The dimension of the state and input vectors are found  b"
		  "y typing >help \"m-file\"\n\n"
		  MaskPromptString	  "m-file vessel model|dim u|dim x"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "vessmodel=@1;dimu_model=@2;dimx_model=@3;"
		  MaskDisplay		  "disp('Integration of\\n DSRV.m\\n\\n...\nx = [ w q x z theta ]\\n\nu = delta_s')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "port"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "'DSRV'|1|5"
		  System {
		    Name		    "Deep submergence rescue vehicle"
		    Location		    [450, 323, 852, 497]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    9
		    Position		    [25, 93, 55, 107]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "xo"
		    SID			    10
		    Position		    [180, 108, 210, 122]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    11
		    Ports		    [2, 1]
		    Position		    [235, 79, 285, 126]
		    BackgroundColor	    "yellow"
		    InitialConditionSource  "external"
		    InitialCondition	    "[1 1]"
		    UpperSaturationLimit    "10"
		    LowerSaturationLimit    "-10"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    12
		    Ports		    [2, 1]
		    Position		    [80, 63, 85, 112]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    MATLABFcn
		    Name		    "m-file"
		    SID			    13
		    Ports		    [1, 1]
		    Position		    [110, 75, 170, 105]
		    BackgroundColor	    "yellow"
		    MATLABFcn		    "feval(vessmodel,u(1:dimx_model),u(dimx_model+1:length(u)))"
		    Output1D		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "x"
		    SID			    14
		    Position		    [330, 98, 360, 112]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "xo"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "m-file"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "x"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -75; -255, 0; 0, 45]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "m-file"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Large tanker: L = 304 m"
		  SID			  15
		  Ports			  [2, 1]
		  Position		  [25, 302, 210, 393]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "m-file vessel model interface"
		  MaskDescription	  "Simulink interface to the GNC toolbox m-file vessel models, type:\n\n   >help vesselmodels \n\n"
		  "in the Matlab command window. A Simulink demo file is found under examples (demomf.mdl).\n\nInputs/outputs:\n\n   "
		  "u   = control input vector of dimension dimu\n   xo = initial state vector of dimension dimx\n   x   = state vecto"
		  "r of dimension dimx"
		  MaskHelp		  "Simulink interface to the GNC toolbox m-file vessel models. \nType >help vesselmodels in the Matlab c"
		  "ommand window to see a list of the m-file vessel models. The dimension of the state and input vectors are found  b"
		  "y typing >help \"m-file\"\n\n"
		  MaskPromptString	  "m-file vessel model|dim u|dim x"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "vessmodel=@1;dimu_model=@2;dimx_model=@3;"
		  MaskDisplay		  "disp('Integration of\\n tanker.m\\n\\n...\nx = [u v r x y psi delta n]\\n\nu = [delta_c n_c h]')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "port"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "'tanker'|3|8"
		  System {
		    Name		    "Large tanker: L = 304 m"
		    Location		    [450, 323, 852, 497]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    16
		    Position		    [25, 93, 55, 107]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "xo"
		    SID			    17
		    Position		    [180, 108, 210, 122]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    18
		    Ports		    [2, 1]
		    Position		    [235, 79, 285, 126]
		    BackgroundColor	    "yellow"
		    InitialConditionSource  "external"
		    InitialCondition	    "[1 1]"
		    UpperSaturationLimit    "10"
		    LowerSaturationLimit    "-10"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    19
		    Ports		    [2, 1]
		    Position		    [80, 63, 85, 112]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    MATLABFcn
		    Name		    "m-file"
		    SID			    20
		    Ports		    [1, 1]
		    Position		    [110, 75, 170, 105]
		    BackgroundColor	    "yellow"
		    MATLABFcn		    "feval(vessmodel,u(1:dimx_model),u(dimx_model+1:length(u)))"
		    Output1D		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "x"
		    SID			    21
		    Position		    [330, 98, 360, 112]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "xo"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "m-file"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "x"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -75; -255, 0; 0, 45]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "m-file"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Mariner class vessel: L = 160 m"
		  SID			  22
		  Ports			  [2, 1]
		  Position		  [250, 168, 435, 257]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "m-file vessel model interface"
		  MaskDescription	  "Simulink interface to the GNC toolbox m-file vessel models, type:\n\n   >help vesselmodels \n\n"
		  "in the Matlab command window. A Simulink demo file is found under examples (demomf.mdl).\n\nInputs/outputs:\n\n   "
		  "u   = control input vector of dimension dimu\n   xo = initial state vector of dimension dimx\n   x   = state vecto"
		  "r of dimension dimx"
		  MaskHelp		  "Simulink interface to the GNC toolbox m-file vessel models. \nType >help vesselmodels in the Matlab c"
		  "ommand window to see a list of the m-file vessel models. The dimension of the state and input vectors are found  b"
		  "y typing >help \"m-file\"\n\n"
		  MaskPromptString	  "m-file vessel model|dim u|dim x"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "vessmodel=@1;dimu_model=@2;dimx_model=@3;"
		  MaskDisplay		  "disp('Integration of\\n mariner.m\\n \\n...\nx = [ u v r x y psi delta] n\\n...\nu = delta_c')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "port"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "'mariner'|1|7"
		  System {
		    Name		    "Mariner class vessel: L = 160 m"
		    Location		    [450, 323, 852, 497]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    23
		    Position		    [25, 93, 55, 107]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "xo"
		    SID			    24
		    Position		    [180, 108, 210, 122]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    25
		    Ports		    [2, 1]
		    Position		    [235, 79, 285, 126]
		    BackgroundColor	    "yellow"
		    InitialConditionSource  "external"
		    InitialCondition	    "[1 1]"
		    UpperSaturationLimit    "10"
		    LowerSaturationLimit    "-10"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    26
		    Ports		    [2, 1]
		    Position		    [80, 63, 85, 112]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    MATLABFcn
		    Name		    "m-file"
		    SID			    27
		    Ports		    [1, 1]
		    Position		    [110, 75, 170, 105]
		    BackgroundColor	    "yellow"
		    MATLABFcn		    "feval(vessmodel,u(1:dimx_model),u(dimx_model+1:length(u)))"
		    Output1D		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "x"
		    SID			    28
		    Position		    [330, 98, 360, 112]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "xo"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "m-file"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "x"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -75; -255, 0; 0, 45]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "m-file"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Naval Postgraduate School AUV"
		  SID			  29
		  Ports			  [2, 1]
		  Position		  [25, 168, 210, 257]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "m-file vessel model interface"
		  MaskDescription	  "Simulink interface to the GNC toolbox m-file vessel models, type:\n\n   >help vesselmodels \n\n"
		  "in the Matlab command window. A Simulink demo file is found under examples (demomf.mdl).\n\nInputs/outputs:\n\n   "
		  "u   = control input vector of dimension dimu\n   xo = initial state vector of dimension dimx\n   x   = state vecto"
		  "r of dimension dimx"
		  MaskHelp		  "Simulink interface to the GNC toolbox m-file vessel models. \nType >help vesselmodels in the Matlab c"
		  "ommand window to see a list of the m-file vessel models. The dimension of the state and input vectors are found  b"
		  "y typing >help \"m-file\"\n\n"
		  MaskPromptString	  "m-file vessel model|dim u|dim x"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "vessmodel=@1;dimu_model=@2;dimx_model=@3;"
		  MaskDisplay		  "disp('Integration of\\n npsauv.m\\n\\n...\nx = [u v w p q r x y z phi theta psi]\\n...\nu = [d_r d"
		  "_s d_b d_bp d_bs n]') "
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "port"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "'npsauv'|6|12"
		  System {
		    Name		    "Naval Postgraduate School AUV"
		    Location		    [450, 323, 852, 497]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    30
		    Position		    [25, 93, 55, 107]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "xo"
		    SID			    31
		    Position		    [180, 108, 210, 122]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Integrator
		    Name		    "Integrator"
		    SID			    32
		    Ports		    [2, 1]
		    Position		    [235, 79, 285, 126]
		    BackgroundColor	    "yellow"
		    InitialConditionSource  "external"
		    InitialCondition	    "[1 1]"
		    UpperSaturationLimit    "10"
		    LowerSaturationLimit    "-10"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    33
		    Ports		    [2, 1]
		    Position		    [80, 63, 85, 112]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    MATLABFcn
		    Name		    "m-file"
		    SID			    34
		    Ports		    [1, 1]
		    Position		    [110, 75, 170, 105]
		    BackgroundColor	    "yellow"
		    MATLABFcn		    "feval(vessmodel,u(1:dimx_model),u(dimx_model+1:length(u)))"
		    Output1D		    off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "x"
		    SID			    35
		    Position		    [330, 98, 360, 112]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "xo"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "m-file"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Integrator"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "x"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -75; -255, 0; 0, 45]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "m-file"
		    SrcPort		    1
		    DstBlock		    "Integrator"
		    DstPort		    1
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "m-file interface"
	      SID		      54
	      Ports		      [2, 1]
	      Position		      [45, 513, 175, 602]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "m-file vessel model interface"
	      MaskDescription	      "Inputs/outputs:\n\n   u   = control input vector \n   xo = initial state vector \n   x  "
	      " = state vector of dimension dimx\n\nSee help for details\n\nCopyright NTNU 2005\nAuthor: T.I. Fossen\nModified"
	      ": by T. Perez 2005-05-04"
	      MaskHelp		      "<p><font face=\"Arial\">Simulink interface to the GNC toolbox m-file vessel models. \nThe mode"
	      "l of the vessel is specified in a matlab finction that takes a vector of \ninputs (these could be forces, rudde"
	      "r angle, thruster demand, etc), and returns \nthe derivative of the state. </font></p>\n<p><font face=\"Arial\""
	      ">In the mask just enter the name of the m-file without ' ', \nand without the extension .m</font></p>\n<p><font"
	      " face=\"Arial\">For example, <br>\n</font><font face=\"Courier New\"><font color=\"#0000FF\">function</font> [X"
	      "dot] = \nnv_nlin_model(in)<br>\n<font color=\"#008000\">%Noninear Model for describing surge, sway, roll and ya"
	      "w \nInteractions <br>\n%of a multipurpose naval vessel. The surge is only coupled through a<br>\n%centripetal t"
	      "erms.<br>\n%<br>\n%Use:[out]=nv_nlin_model(in)<br>\n%<br>\n%Output:<br>\n% out= M^-1 [X,Y,K,N,p,r]' <br>\n%<br>"
	      "\n%where<br>\n% M is the total mass matrix<br>\n% X is the surge force (hydrodynamic+centriperal+external)<br>\n"
	      "% Y is the sway force (hydrodynamic+centriperal+external)<br>\n% K is the sway force (hydrodynamic+centriperal+"
	      "external)<br>\n% N is the sway force (hydrodynamic+centriperal+external)<br>\n% p is the roll rate<br>\n% r is "
	      "the yaw rate<br>\n% <br>\n%Inputs:<br>\n% in=[u,v p r phi psi,Xe,Ye,Ke,Ne]' <br>\n%<br>\n%where<br>\n% u = surg"
	      "e velocity (m/s)<br>\n% v = sway velocity (m/s)<br>\n% p = roll velocity (rad/s)<br>\n% r = yaw velocity (rad/s"
	      ")<br>\n% phi = roll angle (rad)<br>\n% psi = yaw angle (rad)<br>\n%<br>\n% U = surge speed of the vessel [m/sec"
	      "].<br>\n% Xe is the surge external force (eg rudder and fin force)<br>\n% Ye is the sway external force <br>\n%"
	      " Ke is the sway external force <br>\n% Ne is the sway external force</font><br>\n...<br>\nXdot=...</font></p>\n"
	      "<p><font face=\"Arial\">The above function corresponds to the demo of the naval \nvessel performing manoeuvres "
	      "(</font><font face=\"Courier New\">demo_nv_mano.mdl</font><font face=\"Arial\">). \nFor another example see the"
	      " demo </font><font face=\"Courier New\">demomf.mdl</font></p>\n\n\n\n"
	      MaskPromptString	      "m-file vessel model |dim x"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVariables	      "vessmodel=&1;dimx_model=@2;"
	      MaskDisplay	      "disp('GNC toolbox\\n vessel model')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "port"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "|"
	      System {
		Name			"m-file interface"
		Location		[450, 323, 852, 497]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "u"
		  SID			  55
		  Position		  [50, 93, 80, 107]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xo"
		  SID			  56
		  Position		  [205, 108, 235, 122]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  57
		  Ports			  [2, 1]
		  Position		  [260, 79, 310, 126]
		  BackgroundColor	  "yellow"
		  InitialConditionSource  "external"
		  InitialCondition	  "[1 1]"
		  UpperSaturationLimit	  "10"
		  LowerSaturationLimit	  "-10"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  58
		  Ports			  [2, 1]
		  Position		  [105, 63, 110, 112]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  MATLABFcn
		  Name			  "m-file"
		  SID			  59
		  Ports			  [1, 1]
		  Position		  [135, 75, 195, 105]
		  BackgroundColor	  "yellow"
		  MATLABFcn		  "feval(vessmodel,u)"
		  OutputDimensions	  "dimx_model"
		  Output1D		  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "x"
		  SID			  60
		  Position		  [355, 98, 385, 112]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "m-file"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "x"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -75; -255, 0; 0, 45]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "m-file"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "u"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "xo"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  2
		}
	      }
	    }
	    Annotation {
	      Name		      "Interface to m-file models"
	      Position		      [41, 466]
	      HorizontalAlignment     "left"
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Low-Speed  Models (6 DOF)         6 DOF interface for 3 DOF models\n"
	      Position		      [36, 316]
	      HorizontalAlignment     "left"
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Low-Speed  Models (3 DOF)"
	      Position		      [31, 166]
	      HorizontalAlignment     "left"
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Guidance"
      SID		      213
      Ports		      []
      Position		      [50, 89, 97, 140]
      BackgroundColor	      "yellow"
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"Guidance"
	Location		[252, 170, 1211, 893]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Reference model"
	  SID			  214
	  Ports			  [1, 3]
	  Position		  [25, 14, 135, 96]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  MaskType		  "3rd-order reference model"
	  MaskDescription	  "3rd-order reference model with velocity saturation."
	  MaskPromptString	  "Max. velocity:|Relative damping ratio:|Natural frequency:"
	  MaskStyleString	  "edit,edit,edit"
	  MaskTunableValueString  "on,on,on"
	  MaskCallbackString	  "||"
	  MaskEnableString	  "on,on,on"
	  MaskVisibilityString	  "on,on,on"
	  MaskToolTipString	  "on,on,on"
	  MaskVariables		  "v_max=@1;zeta_d=@2;w_d=@3;"
	  MaskDisplay		  "disp('3rd order \\nLP-filter')\nport_label('output', 3, 'acc_d')\nport_label('output', 2, 'vel_d')\n"
	  "port_label('output', 1, 'mag_d')\nport_label('input', 1, 'ref')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskPortRotate	  "default"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "1.0|1.0|0.1"
	  System {
	    Name		    "Reference model"
	    Location		    [313, 377, 1118, 807]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "desired position"
	      SID		      215
	      Position		      [55, 90, 75, 110]
	      BackgroundColor	      "green"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "    "
	      SID		      216
	      Position		      [545, 82, 580, 118]
	      BackgroundColor	      "yellow"
	      Denominator	      "[1 0]"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "       "
	      SID		      217
	      Position		      [455, 84, 490, 116]
	      BackgroundColor	      "yellow"
	      UpperLimit	      "v_max"
	      LowerLimit	      "-v_max"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "         "
	      SID		      218
	      Position		      [395, 82, 430, 118]
	      BackgroundColor	      "yellow"
	      Denominator	      "[1 0]"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum2"
	      SID		      219
	      Ports		      [2, 1]
	      Position		      [285, 90, 305, 110]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|+-"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	      Port {
		PortNumber		1
		Name			"\n"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum5"
	      SID		      220
	      Ports		      [2, 1]
	      Position		      [335, 90, 355, 110]
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      IconShape		      "round"
	      Inputs		      "|+-"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	      Port {
		PortNumber		1
		Name			"\n"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "damping"
	      SID		      221
	      Position		      [365, 141, 460, 189]
	      BlockMirror	      on
	      BackgroundColor	      "yellow"
	      Gain		      "2*zeta_d*w_d"
	      ParameterDataType	      "sfix(16)"
	      ParameterScaling	      "2^0"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      TransferFcn
	      Name		      "low-pass filter"
	      SID		      222
	      Position		      [140, 82, 200, 118]
	      BackgroundColor	      "yellow"
	      Numerator		      "[w_d^3]"
	      Denominator	      "[1 w_d]"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "spring"
	      SID		      223
	      Position		      [370, 210, 465, 250]
	      BlockMirror	      on
	      BackgroundColor	      "yellow"
	      Gain		      "w_d*w_d"
	      ParameterDataType	      "sfix(16)"
	      ParameterScaling	      "2^0"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "desired position "
	      SID		      224
	      Position		      [700, 90, 720, 110]
	      BackgroundColor	      "red"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "desired velocity"
	      SID		      225
	      Position		      [700, 55, 720, 75]
	      BackgroundColor	      "red"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	      InitialOutput	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "desired acceleration"
	      SID		      226
	      Position		      [700, 15, 720, 35]
	      BackgroundColor	      "red"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	      InitialOutput	      "0"
	    }
	    Line {
	      SrcBlock		      "damping"
	      SrcPort		      1
	      Points		      [-15, 0]
	      DstBlock		      "Sum5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "         "
	      SrcPort		      1
	      DstBlock		      "       "
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "    "
	      SrcPort		      1
	      Points		      [35, 0]
	      Branch {
		DstBlock		"desired position "
		DstPort			1
	      }
	      Branch {
		Points			[0, 130]
		DstBlock		"spring"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "spring"
	      SrcPort		      1
	      Points		      [-70, 0]
	      DstBlock		      "Sum2"
	      DstPort		      2
	    }
	    Line {
	      Name		      "\n"
	      Labels		      [0, 0]
	      SrcBlock		      "Sum2"
	      SrcPort		      1
	      DstBlock		      "Sum5"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "low-pass filter"
	      SrcPort		      1
	      DstBlock		      "Sum2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "desired position"
	      SrcPort		      1
	      DstBlock		      "low-pass filter"
	      DstPort		      1
	    }
	    Line {
	      Name		      "\n"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Sum5"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"         "
		DstPort			1
	      }
	      Branch {
		Points			[0, -75]
		DstBlock		"desired acceleration"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "       "
	      SrcPort		      1
	      Points		      [15, 0]
	      Branch {
		Points			[0, 65]
		DstBlock		"damping"
		DstPort			1
	      }
	      Branch {
		Points			[10, 0]
		Branch {
		  DstBlock		  "    "
		  DstPort		  1
		}
		Branch {
		  Points		  [0, -35]
		  DstBlock		  "desired velocity"
		  DstPort		  1
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Way-point guidance block"
	  SID			  227
	  Ports			  [2, 3]
	  Position		  [225, 15, 330, 95]
	  BackgroundColor	  "orange"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  MaskType		  "Guidance"
	  MaskDescription	  "Way-Point Guidance Block\nAuthor:  Jorgen Corneliussen\nDate:     20 November 2002\n\nCreates a "
	  "three times differentiable path between the waypoints provided. The user can choose between cubic splines and polin"
	  "omial interpolation.\n\nNOTE: You have to supply the actual waypoints for the path generation. \n"
	  MaskHelp		  "<p>Way-Point Guidance Block<br>\n  Author: Jorgen Corneliussen<br>\n  Date: 20 November 2002</p>\n<ul>"
	  "\n  <li> The input vectors must be of the same length, and contain the coordinates \n    of the waypoints.</li>\n  "
	  "<li>If chosen, the block can draw an extra plot showing the path and the waypoints.</li>\n  <li> The field &quot;Co"
	  "mputation method&quot; allows the user to choose between \n    a third and fifth order polynomal for path generatio"
	  "n. </li>\n  <li>If &quot;Stop simulation&quot; is not checked, the velocity input to the \n    block is set to zero"
	  " when the last waypoint is reached. </li>\n  <li>For the third order algorithm, the user can choose between having "
	  "endpoint \n    constraints in velocity or acceleration. The values must be provided in the \n    specified fields.<"
	  "/li>\n  <li>For the fifth order polynomial, the user can choose to constrain the derivatives \n    in the waypoints"
	  ". This might in some cases reduce oscillations.<br>\n  </li>\n</ul>\n"
	  MaskPromptString	  "X value|Y value|Computation method for path generation|Draw an extra plot showing the path with"
	  " waypoints|Stop simulation when last waypoint is reached|Use constraints on acceleration or velocity in the endpoin"
	  "ts|Constraints in first waypoint [x, y]. (Only applicable for cubic splines)|Constraints in last waypoint [x, y]. ("
	  "Only applicable for cubic splines)|Use constraints on the derivatives (Only applicable for 5th order)"
	  MaskStyleString	  "edit,edit,popup(Cubic spline|5th order polynomial),checkbox,checkbox,popup(Vel|Acc),edit,edit,ch"
	  "eckbox"
	  MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
	  MaskCallbackString	  "||||||||"
	  MaskEnableString	  "on,on,on,on,on,on,on,on,on"
	  MaskVisibilityString	  "on,on,on,on,on,on,on,on,on"
	  MaskToolTipString	  "on,on,on,on,on,on,on,on,on"
	  MaskVariables		  "x_vector=@1;y_vector=@2;method=@3;drawmode=@4;stop=@5;mode=@6;start=@7;final=@8;constraint=@9;"
	  MaskInitialization	  "if method == 1\n	[table, pathlength] = order3(x_vector,y_vector, drawmode, mode, start(1), fi"
	  "nal(1), start(2), final(2));\nelseif method == 2\n	[table, pathlength] = order5(drawmode, constraint, x_vector, y_v"
	  "ector);\nelse\n	disp('Error in block initialization')\nend"
	  MaskDisplay		  "image(imread('compass.jpg'))\n\ncolor('black'); port_label('output', 1, 'xy')\ncolor('black'); port"
	  "_label('output', 2, 'eta_vec')\ncolor('black'); port_label('output', 3, 'vs_tot')\n\ncolor('black'); port_label('in"
	  "put', 1, 'ud_total')\ncolor('black'); port_label('input', 2, 'theta')"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskPortRotate	  "default"
	  MaskIconUnits		  "autoscale"
	  MaskValueString	  "[-800 -500 -200 -50 -200 -250 200 500 500 300 0 -300 -600]|[100 1800 2000 1500 1000 100 1000 300"
	  " -250 -200 100 -600 -1000]|5th order polynomial|off|on|Acc|[100 0]|[0 100]|off"
	  System {
	    Name		    "Way-point guidance block"
	    Location		    [339, 227, 1085, 959]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "ud_total"
	      SID		      228
	      Position		      [25, 38, 55, 52]
	      BackgroundColor	      "green"
	      DropShadow	      on
	      IconDisplay	      "Port number"
	      PortDimensions	      "2"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "theta"
	      SID		      229
	      Position		      [20, 418, 50, 432]
	      BackgroundColor	      "green"
	      DropShadow	      on
	      Port		      "2"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Demux
	      Name		      "Demux2"
	      SID		      230
	      Ports		      [1, 2]
	      Position		      [90, 15, 95, 70]
	      BackgroundColor	      "black"
	      ShowName		      off
	      Outputs		      "2"
	      Port {
		PortNumber		1
		Name			"ud"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	      Port {
		PortNumber		2
		Name			"ud_dot"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Direct Look-Up\nTable (n-D)"
	      SID		      231
	      Ports		      [1, 1]
	      Position		      [205, 397, 260, 453]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Lookup\nTables/Direct Lookup\nTable (n-D)"
	      SourceType	      "LookupNDDirect"
	      maskTabDims	      "2"
	      explicitNumDims	      "1"
	      outDims		      "Column"
	      tabIsInput	      "off"
	      mxTable		      "table"
	      clipFlag		      "None"
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product"
	      SID		      232
	      Ports		      [2, 1]
	      Position		      [420, 243, 445, 267]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"xd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product1"
	      SID		      233
	      Ports		      [2, 1]
	      Position		      [420, 533, 445, 557]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"xd_theta_3"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product2"
	      SID		      234
	      Ports		      [2, 1]
	      Position		      [420, 293, 445, 317]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"yd"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product3"
	      SID		      235
	      Ports		      [2, 1]
	      Position		      [420, 343, 445, 367]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"xd_theta"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product4"
	      SID		      236
	      Ports		      [2, 1]
	      Position		      [420, 393, 445, 417]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"yd_theta"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product5"
	      SID		      237
	      Ports		      [2, 1]
	      Position		      [420, 443, 445, 467]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"xd_theta2"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product6"
	      SID		      238
	      Ports		      [2, 1]
	      Position		      [420, 488, 445, 512]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"yd_theta_2"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Dot Product7"
	      SID		      239
	      Ports		      [2, 1]
	      Position		      [420, 578, 445, 602]
	      BackgroundColor	      "yellow"
	      SourceBlock	      "simulink/Math\nOperations/Dot Product"
	      SourceType	      "Dot Product"
	      InputSameDT	      "on"
	      OutputDataTypeScalingMode	"Inherit via internal rule"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^-10"
	      LockScale		      "off"
	      RndMeth		      "Floor"
	      DoSatur		      "off"
	      Port {
		PortNumber		1
		Name			"yd_theta_3"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Reference
	      Name		      "Model Info"
	      SID		      240
	      Ports		      []
	      Position		      [20, 494, 257, 634]
	      ShowName		      off
	      FontName		      "Arial"
	      SourceBlock	      "simulink/Model-Wide\nUtilities/Model Info"
	      SourceType	      "CMBlock"
	      ShowPortLabels	      "on"
	      InitialBlockCM	      "None"
	      BlockCM		      "None"
	      Frame		      "on"
	      DisplayStringWithTags   "Guidance block.\nCreates a three times differentiable path \nbetween the provided wayp"
	      "oints. The user \ncan choose between cubic splines and a \n5th order polynomial.\nAuthor: Jorgen Corneliussen\n"
	      "Modified: %<ModifiedDate>\nVersion: %<ModelVersion>"
	      MaskDisplayString	      "Guidance block.\\nCreates a three times differentiable path \\nbetween the provided wa"
	      "ypoints. The user \\ncan choose between cubic splines and a \\n5th order polynomial.\\nAuthor: Jorgen Cornelius"
	      "sen\\nModified: Mon Apr 11 09:52:14 2005\\nVersion: 1.72"
	      HorizontalTextAlignment "Center"
	      LeftAlignmentValue      "0.5"
	      SourceBlockDiagram      "marine_gnc"
	      TagMaxNumber	      "20"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux"
	      SID		      241
	      Ports		      [9, 1]
	      Position		      [690, 273, 695, 477]
	      ShowName		      off
	      Inputs		      "9"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux1"
	      SID		      242
	      Ports		      [2, 1]
	      Position		      [690, 188, 695, 232]
	      ShowName		      off
	      Inputs		      "2"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Mux
	      Name		      "Mux10"
	      SID		      243
	      Ports		      [3, 1]
	      Position		      [690, 18, 695, 152]
	      ShowName		      off
	      Inputs		      "3"
	      DisplayOption	      "bar"
	    }
	    Block {
	      BlockType		      Constant
	      Name		      "Pathlength"
	      SID		      244
	      Position		      [775, 274, 800, 296]
	      BackgroundColor	      "green"
	      Value		      "pathlength"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Product
	      Name		      "Product"
	      SID		      245
	      Ports		      [2, 1]
	      Position		      [345, 25, 370, 45]
	      BackgroundColor	      "yellow"
	      InputSameDT	      off
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	      RndMeth		      "Floor"
	    }
	    Block {
	      BlockType		      Rounding
	      Name		      "Rounding\nFunction"
	      SID		      246
	      Position		      [150, 410, 180, 440]
	      BackgroundColor	      "yellow"
	    }
	    Block {
	      BlockType		      Saturate
	      Name		      "Saturation"
	      SID		      247
	      Position		      [90, 410, 120, 440]
	      BackgroundColor	      "yellow"
	      UpperLimit	      "size(table,2) -0.001"
	      LowerLimit	      "0"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector"
	      SID		      248
	      Ports		      [1, 1]
	      Position		      [320, 244, 355, 276]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[0*(size(table,1)/8)+1 :1*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector1"
	      SID		      249
	      Ports		      [1, 1]
	      Position		      [320, 294, 355, 326]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[1*(size(table,1)/8)+1 :2*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector2"
	      SID		      250
	      Ports		      [1, 1]
	      Position		      [320, 344, 355, 376]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[2*(size(table,1)/8)+1 :3*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector3"
	      SID		      251
	      Ports		      [1, 1]
	      Position		      [320, 394, 355, 426]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[3*(size(table,1)/8)+1 :4*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector4"
	      SID		      252
	      Ports		      [1, 1]
	      Position		      [320, 444, 355, 476]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[4*(size(table,1)/8)+1 :5*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector5"
	      SID		      253
	      Ports		      [1, 1]
	      Position		      [320, 489, 355, 521]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[5*(size(table,1)/8)+1 :6*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector6"
	      SID		      254
	      Ports		      [1, 1]
	      Position		      [320, 534, 355, 566]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[6*(size(table,1)/8)+1 :7*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      Selector
	      Name		      "Selector7"
	      SID		      255
	      Ports		      [1, 1]
	      Position		      [320, 579, 355, 611]
	      BackgroundColor	      "yellow"
	      InputPortWidth	      "size(table,1)"
	      IndexOptions	      "Index vector (dialog)"
	      Indices		      "[7*(size(table,1)/8)+1 :8*(size(table,1)/8)]"
	      OutputSizes	      "1"
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Stop vessel"
	      SID		      256
	      Ports		      [1, 1]
	      Position		      [175, 113, 280, 157]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Stop vessel"
		Location		[118, 202, 770, 654]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  SID			  257
		  Position		  [25, 53, 55, 67]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  If
		  Name			  "If endpoint1"
		  SID			  258
		  Ports			  [1, 2]
		  Position		  [120, 44, 175, 71]
		  BackgroundColor	  "yellow"
		  IfExpression		  "u1 > size(table,2) "
		}
		Block {
		  BlockType		  Merge
		  Name			  "Merge"
		  SID			  259
		  Ports			  [2, 1]
		  Position		  [365, 100, 405, 140]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Model Info"
		  SID			  260
		  Ports			  []
		  Position		  [315, 224, 552, 364]
		  ShowName		  off
		  FontName		  "Arial"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/Model Info"
		  SourceType		  "CMBlock"
		  ShowPortLabels	  "on"
		  InitialBlockCM	  "None"
		  BlockCM		  "None"
		  Frame			  "on"
		  DisplayStringWithTags	  "Stop vessel\nThis subsystem performs an action when\nthe vessel reaches the last waypoint"
		  ". The \nsimultation is either stopped, or the desired \nspeed is set to zero.\nAuthor: Jorgen Corneliussen\nModifi"
		  "ed: %<ModifiedDate>\nVersion: %<ModelVersion>"
		  MaskDisplayString	  "Stop vessel\\nThis subsystem performs an action when\\nthe vessel reaches the last waypoint. "
		  "The \\nsimultation is either stopped, or the desired \\nspeed is set to zero.\\nAuthor: Jorgen Corneliussen\\nModi"
		  "fied: Mon Apr 11 09:52:20 2005\\nVersion: 1.72"
		  HorizontalTextAlignment "Center"
		  LeftAlignmentValue	  "0.5"
		  SourceBlockDiagram	  "marine_gnc"
		  TagMaxNumber		  "20"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Reached endpoint"
		  SID			  261
		  Ports			  [0, 1, 0, 0, 0, 0, 0, 1]
		  Position		  [225, 91, 295, 129]
		  BackgroundColor	  "yellow"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Reached endpoint"
		    Location		    [421, 275, 655, 502]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    ActionPort
		    Name		    "IfAction"
		    SID			    262
		    Position		    [80, 20, 139, 48]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    263
		    Position		    [60, 75, 90, 105]
		    BackgroundColor	    "green"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Stop
		    Name		    "Stop Simulation"
		    SID			    264
		    Position		    [145, 122, 180, 158]
		    BackgroundColor	    "red"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "stop"
		    SID			    265
		    Position		    [60, 125, 90, 155]
		    BackgroundColor	    "green"
		    Value		    "stop"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "zero"
		    SID			    266
		    Position		    [145, 83, 175, 97]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "zero"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "stop"
		    SrcPort		    1
		    DstBlock		    "Stop Simulation"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Still travelling"
		  SID			  267
		  Ports			  [0, 1, 0, 0, 0, 0, 0, 1]
		  Position		  [160, 168, 215, 202]
		  BackgroundColor	  "yellow"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Still travelling"
		    Location		    [307, 275, 907, 444]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    ActionPort
		    Name		    "IfAction"
		    SID			    268
		    Position		    [210, 15, 269, 43]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    269
		    Position		    [200, 75, 230, 105]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "one"
		    SID			    270
		    Position		    [295, 83, 325, 97]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    DstBlock		    "one"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "stopsignal"
		  SID			  271
		  Position		  [480, 113, 510, 127]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Still travelling"
		  SrcPort		  1
		  Points		  [130, 0]
		  DstBlock		  "Merge"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  DstBlock		  "If endpoint1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "If endpoint1"
		  SrcPort		  1
		  Points		  [80, 0]
		  DstBlock		  "Reached endpoint"
		  DstPort		  ifaction
		}
		Line {
		  SrcBlock		  "Reached endpoint"
		  SrcPort		  1
		  DstBlock		  "Merge"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Merge"
		  SrcPort		  1
		  DstBlock		  "stopsignal"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "If endpoint1"
		  SrcPort		  2
		  Points		  [5, 0]
		  DstBlock		  "Still travelling"
		  DstPort		  ifaction
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Thetacomputation"
	      SID		      272
	      Ports		      [1, 1]
	      Position		      [175, 194, 280, 236]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Thetacomputation"
		Location		[339, 227, 1085, 973]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  SID			  273
		  Position		  [30, 233, 60, 247]
		  BackgroundColor	  "green"
		  DropShadow		  on
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "5th order algorithm"
		  SID			  274
		  Ports			  [1, 1, 0, 0, 0, 0, 0, 1]
		  Position		  [185, 298, 290, 332]
		  BackgroundColor	  "yellow"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "5th order algorithm"
		    Location		    [105, 177, 945, 513]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "theta"
		    SID			    275
		    Position		    [35, 83, 65, 97]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    ActionPort
		    Name		    "IfAction"
		    SID			    276
		    Position		    [210, 15, 269, 43]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    277
		    Position		    [40, 132, 60, 148]
		    BackgroundColor	    "green"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    278
		    Position		    [35, 240, 65, 270]
		    BackgroundColor	    "green"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction"
		    SID			    279
		    Ports		    [2, 1]
		    Position		    [130, 97, 160, 128]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Operator		    "mod"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    280
		    Ports		    [6, 1]
		    Position		    [705, 145, 710, 240]
		    ShowName		    off
		    Inputs		    "6"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    281
		    Ports		    [2, 1]
		    Position		    [265, 106, 310, 139]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "t^2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    282
		    Ports		    [2, 1]
		    Position		    [360, 131, 405, 164]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "t^3"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    283
		    Ports		    [2, 1]
		    Position		    [460, 161, 505, 194]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "t^4"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    284
		    Ports		    [2, 1]
		    Position		    [560, 191, 605, 224]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta_vector"
		    SID			    285
		    Position		    [755, 188, 785, 202]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    Points		    [5, 0; 0, -20]
		    DstBlock		    "Math\nFunction"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Math\nFunction"
		    SrcPort		    1
		    Points		    [60, 0; 0, 0]
		    Branch {
		    Labels		    [2, 0]
		    Points		    [0, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    Branch {
		    Points		    [0, 25]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30]
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30; 430, 0; 0, -30]
		    DstBlock		    "Mux1"
		    DstPort		    5
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "theta"
		    SrcPort		    1
		    Points		    [0, 15]
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		    }
		    Line {
		    Name		    "t^2"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [325, 0; 0, 75]
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    }
		    Line {
		    Name		    "t^3"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [225, 0; 0, 35]
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    }
		    Line {
		    Name		    "t^4"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [30, 0]
		    Branch {
		    Points		    [0, -10]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    Points		    [30, 0; 0, -55]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [600, 0; 0, -25]
		    DstBlock		    "Mux1"
		    DstPort		    6
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "theta_vector"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  286
		  Position		  [35, 137, 55, 153]
		  BackgroundColor	  "green"
		  Value			  "method"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Cubic splines"
		  SID			  287
		  Ports			  [1, 1, 0, 0, 0, 0, 0, 1]
		  Position		  [280, 219, 395, 261]
		  BackgroundColor	  "yellow"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Cubic splines"
		    Location		    [2, 74, 650, 411]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "theta"
		    SID			    288
		    Position		    [75, 98, 105, 112]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    ActionPort
		    Name		    "IfAction"
		    SID			    289
		    Position		    [210, 15, 269, 43]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant1"
		    SID			    290
		    Position		    [75, 190, 105, 220]
		    BackgroundColor	    "green"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant2"
		    SID			    291
		    Position		    [200, 220, 230, 250]
		    BackgroundColor	    "green"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    292
		    Ports		    [6, 1]
		    Position		    [380, 145, 390, 250]
		    ShowName		    off
		    Inputs		    "6"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    293
		    Ports		    [2, 1]
		    Position		    [170, 96, 215, 129]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "t^2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    294
		    Ports		    [2, 1]
		    Position		    [265, 126, 310, 159]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "t^3"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "theta_vector"
		    SID			    295
		    Position		    [435, 193, 465, 207]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "theta"
		    SrcPort		    1
		    Points		    [0, 0; 30, 0]
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 15]
		    Branch {
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 30; 0, 0]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    Line {
		    Name		    "t^2"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [0, 0; 10, 0]
		    Branch {
		    Points		    [15, 0; 0, 20]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -15; 105, 0; 0, 75]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "theta_vector"
		    DstPort		    1
		    }
		    Line {
		    Name		    "t^3"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [50, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant1"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Constant2"
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, -15]
		    DstBlock		    "Mux1"
		    DstPort		    5
		    }
		    Branch {
		    DstBlock		    "Mux1"
		    DstPort		    6
		    }
		    }
		  }
		}
		Block {
		  BlockType		  If
		  Name			  "If endpoint1"
		  SID			  296
		  Ports			  [1, 2]
		  Position		  [130, 127, 210, 158]
		  BackgroundColor	  "yellow"
		  IfExpression		  "u1 == 1"
		  Port {
		    PortNumber		    1
		    Name		    "cubic"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "Model Info"
		  SID			  297
		  Ports			  []
		  Position		  [475, 14, 716, 205]
		  ShowName		  off
		  FontName		  "Arial"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/Model Info"
		  SourceType		  "CMBlock"
		  ShowPortLabels	  "on"
		  InitialBlockCM	  "None"
		  BlockCM		  "None"
		  Frame			  "on"
		  DisplayStringWithTags	  "Thetacomputation\nThis subsystem returns a vector containing \ndifferent orders of theta."
		  "\nIf cubic splines is used, the system returns:\n[th^3 th^2 th 1]\nIf the 5th order polynomial is used, it returns"
		  ":\n[th^5 th^4 th^3 th^2 th 1]\nAuthor: Jorgen Corneliussen\nModified: %<ModifiedDate>\nVersion: %<ModelVersion>"
		  MaskDisplayString	  "Thetacomputation\\nThis subsystem returns a vector containing \\ndifferent orders of theta.\\"
		  "nIf cubic splines is used, the system returns:\\n[th^3 th^2 th 1]\\nIf the 5th order polynomial is used, it return"
		  "s:\\n[th^5 th^4 th^3 th^2 th 1]\\nAuthor: Jorgen Corneliussen\\nModified: Mon Apr 11 09:52:22 2005\\nVersion: 1.72"
		  HorizontalTextAlignment "Center"
		  LeftAlignmentValue	  "0.5"
		  SourceBlockDiagram	  "marine_gnc"
		  TagMaxNumber		  "20"
		}
		Block {
		  BlockType		  MultiPortSwitch
		  Name			  "Multiport\nSwitch"
		  SID			  298
		  Ports			  [3, 1]
		  Position		  [480, 217, 510, 263]
		  BackgroundColor	  "yellow"
		  Inputs		  "2"
		  InputSameDT		  off
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  SID			  299
		  Ports			  [1, 1]
		  Position		  [550, 221, 590, 259]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1:size(table,1)/8]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Outport
		  Name			  "thetavector"
		  SID			  300
		  Position		  [645, 233, 675, 247]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  Name			  "cubic"
		  Labels		  [0, 0; 0, 1]
		  SrcBlock		  "If endpoint1"
		  SrcPort		  1
		  Points		  [125, 0]
		  DstBlock		  "Cubic splines"
		  DstPort		  ifaction
		}
		Line {
		  SrcBlock		  "If endpoint1"
		  SrcPort		  2
		  Points		  [25, 0]
		  DstBlock		  "5th order algorithm"
		  DstPort		  ifaction
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [0, 0; 40, 0]
		  Branch {
		    DstBlock		    "If endpoint1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -30; 325, 0; 0, 110]
		    DstBlock		    "Multiport\nSwitch"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "5th order algorithm"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Cubic splines"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "5th order algorithm"
		  SrcPort		  1
		  Points		  [170, 0]
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  DstBlock		  "thetavector"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Cubic splines"
		  SrcPort		  1
		  DstBlock		  "Multiport\nSwitch"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Multiport\nSwitch"
		  SrcPort		  1
		  DstBlock		  "Selector"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      Display
	      Name		      "Total pathlength"
	      SID		      301
	      Ports		      [1]
	      Position		      [835, 269, 920, 301]
	      BackgroundColor	      "red"
	      Decimation	      "1"
	      Lockdown		      off
	    }
	    Block {
	      BlockType		      Trigonometry
	      Name		      "Trigonometric\nFunction"
	      SID		      302
	      Ports		      [2, 1]
	      Position		      [560, 497, 590, 528]
	      BackgroundColor	      "yellow"
	      Operator		      "atan2"
	      Port {
		PortNumber		1
		Name			"psi"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Trigonometry
	      Name		      "Trigonometric\nFunction1"
	      SID		      303
	      Ports		      [2, 1]
	      Position		      [560, 557, 590, 588]
	      BackgroundColor	      "yellow"
	      Operator		      "atan2"
	      Port {
		PortNumber		1
		Name			"psi_dot"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      Trigonometry
	      Name		      "Trigonometric\nFunction2"
	      SID		      304
	      Ports		      [2, 1]
	      Position		      [560, 617, 590, 648]
	      BackgroundColor	      "yellow"
	      Operator		      "atan2"
	      Port {
		PortNumber		1
		Name			"psi_doubledot"
		RTWStorageClass		"Auto"
		DataLoggingNameMode	"SignalName"
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "vs_calculations"
	      SID		      305
	      Ports		      [6, 3]
	      Position		      [555, 19, 660, 151]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"vs_calculations"
		Location		[339, 227, 1085, 973]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "ud"
		  SID			  306
		  Position		  [20, 18, 50, 32]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "ud_dot"
		  SID			  307
		  Position		  [20, 302, 50, 318]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xd_theta"
		  SID			  308
		  Position		  [20, 48, 50, 62]
		  BackgroundColor	  "green"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "yd_theta"
		  SID			  309
		  Position		  [20, 87, 50, 103]
		  BackgroundColor	  "green"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "xd_theta_2"
		  SID			  310
		  Position		  [20, 122, 50, 138]
		  BackgroundColor	  "green"
		  Port			  "5"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "yd_theta_2"
		  SID			  311
		  Position		  [20, 162, 50, 178]
		  BackgroundColor	  "green"
		  Port			  "6"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Model Info"
		  SID			  312
		  Ports			  []
		  Position		  [115, 349, 353, 501]
		  ShowName		  off
		  FontName		  "Arial"
		  SourceBlock		  "simulink/Model-Wide\nUtilities/Model Info"
		  SourceType		  "CMBlock"
		  ShowPortLabels	  "on"
		  InitialBlockCM	  "None"
		  BlockCM		  "None"
		  Frame			  "on"
		  DisplayStringWithTags	  "vs_calculations\nThis subsystem returns a vector containing \nthe  speed assignment along"
		  " the path.\nThe vector contains the desired speed, and \nthe derivative of the desired speed with regards\n to the"
		  "ta and with regards to time.\nAuthor: Jorgen Corneliussen\nModified: %<ModifiedDate>\nVersion: %<ModelVersion>"
		  MaskDisplayString	  "vs_calculations\\nThis subsystem returns a vector containing \\nthe  speed assignment along t"
		  "he path.\\nThe vector contains the desired speed, and \\nthe derivative of the desired speed with regards\\n to th"
		  "eta and with regards to time.\\nAuthor: Jorgen Corneliussen\\nModified: Mon Apr 11 09:52:24 2005\\nVersion: 1.72"
		  HorizontalTextAlignment "Center"
		  LeftAlignmentValue	  "0.5"
		  SourceBlockDiagram	  "marine_gnc"
		  TagMaxNumber		  "20"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "vs_calc"
		  SID			  313
		  Ports			  [3, 1]
		  Position		  [380, 14, 445, 76]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  Port {
		    PortNumber		    1
		    Name		    "vs"
		    PropagatedSignals	    "vs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  System {
		    Name		    "vs_calc"
		    Location		    [290, 136, 789, 454]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "ud"
		    SID			    314
		    Position		    [30, 43, 60, 57]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "xd_theta"
		    SID			    315
		    Position		    [30, 98, 60, 112]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "yd_theta"
		    SID			    316
		    Position		    [30, 167, 60, 183]
		    BackgroundColor	    "green"
		    NamePlacement	    "alternate"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction"
		    SID			    317
		    Ports		    [1, 1]
		    Position		    [100, 90, 130, 120]
		    BackgroundColor	    "yellow"
		    Operator		    "square"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction1"
		    SID			    318
		    Ports		    [1, 1]
		    Position		    [100, 160, 130, 190]
		    BackgroundColor	    "yellow"
		    Operator		    "square"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction2"
		    SID			    319
		    Ports		    [1, 1]
		    Position		    [210, 90, 240, 120]
		    BackgroundColor	    "yellow"
		    Operator		    "sqrt"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    320
		    Ports		    [2, 1]
		    Position		    [275, 41, 320, 74]
		    BackgroundColor	    "yellow"
		    Inputs		    "*/"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "vs"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    321
		    Ports		    [2, 1]
		    Position		    [155, 95, 175, 115]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vs"
		    SID			    322
		    Position		    [375, 53, 405, 67]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Math\nFunction"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction1"
		    SrcPort		    1
		    Points		    [30, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction2"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "xd_theta"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ud"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    Name		    "vs"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "vs"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "yd_theta"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "vs_t_calc"
		  SID			  323
		  Ports			  [3, 1]
		  Position		  [365, 222, 460, 328]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  Port {
		    PortNumber		    1
		    Name		    "vs_t"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  System {
		    Name		    "vs_t_calc"
		    Location		    [86, 92, 718, 376]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "xd_theta"
		    SID			    324
		    Position		    [40, 138, 70, 152]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "yd_theta"
		    SID			    325
		    Position		    [45, 218, 75, 232]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "ud_dot"
		    SID			    326
		    Position		    [45, 88, 75, 102]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction3"
		    SID			    327
		    Ports		    [1, 1]
		    Position		    [145, 130, 175, 160]
		    BackgroundColor	    "yellow"
		    Operator		    "square"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction4"
		    SID			    328
		    Ports		    [1, 1]
		    Position		    [145, 210, 175, 240]
		    BackgroundColor	    "yellow"
		    Operator		    "square"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction5"
		    SID			    329
		    Ports		    [1, 1]
		    Position		    [275, 130, 305, 160]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Operator		    "sqrt"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product7"
		    SID			    330
		    Ports		    [2, 1]
		    Position		    [400, 121, 445, 154]
		    BackgroundColor	    "yellow"
		    Inputs		    "*/"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    SID			    331
		    Ports		    [2, 1]
		    Position		    [205, 135, 225, 155]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vs_t"
		    SID			    332
		    Position		    [530, 133, 560, 147]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "xd_theta"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "yd_theta"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction3"
		    SrcPort		    1
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction4"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "Math\nFunction5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction5"
		    SrcPort		    1
		    DstBlock		    "Product7"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ud_dot"
		    SrcPort		    1
		    Points		    [290, 0; 0, 35]
		    DstBlock		    "Product7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product7"
		    SrcPort		    1
		    DstBlock		    "vs_t"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "vs_theta_calc"
		  SID			  333
		  Ports			  [5, 1]
		  Position		  [360, 105, 465, 195]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  Port {
		    PortNumber		    1
		    Name		    "vs_theta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  System {
		    Name		    "vs_theta_calc"
		    Location		    [2, 92, 775, 461]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "xd_theta"
		    SID			    334
		    Position		    [40, 28, 70, 42]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "xd_theta_2"
		    SID			    335
		    Position		    [40, 208, 70, 222]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "yd_theta"
		    SID			    336
		    Position		    [45, 108, 75, 122]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "yd_theta_2"
		    SID			    337
		    Position		    [40, 278, 70, 292]
		    BackgroundColor	    "green"
		    Port		    "4"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "ud"
		    SID			    338
		    Position		    [35, 318, 65, 332]
		    BackgroundColor	    "green"
		    Port		    "5"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Fcn
		    Name		    "Fcn1"
		    SID			    339
		    Position		    [285, 20, 345, 50]
		    BackgroundColor	    "yellow"
		    Expr		    "u^(3/2)"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    340
		    Position		    [480, 85, 510, 115]
		    BackgroundColor	    "yellow"
		    Gain		    "-1"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction2"
		    SID			    341
		    Ports		    [1, 1]
		    Position		    [155, 20, 185, 50]
		    BackgroundColor	    "yellow"
		    Operator		    "square"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction3"
		    SID			    342
		    Ports		    [1, 1]
		    Position		    [150, 100, 180, 130]
		    BackgroundColor	    "yellow"
		    Operator		    "square"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product4"
		    SID			    343
		    Ports		    [2, 1]
		    Position		    [185, 191, 230, 224]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product5"
		    SID			    344
		    Ports		    [2, 1]
		    Position		    [190, 261, 235, 294]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product6"
		    SID			    345
		    Ports		    [2, 1]
		    Position		    [395, 81, 440, 114]
		    BackgroundColor	    "yellow"
		    Inputs		    "/*"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product7"
		    SID			    346
		    Ports		    [2, 1]
		    Position		    [570, 91, 615, 124]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    347
		    Ports		    [2, 1]
		    Position		    [230, 25, 250, 45]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    SID			    348
		    Ports		    [2, 1]
		    Position		    [285, 200, 305, 220]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "vs_theta"
		    SID			    349
		    Position		    [655, 103, 685, 117]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "xd_theta"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    DstBlock		    "Math\nFunction2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 165]
		    DstBlock		    "Product4"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "yd_theta"
		    SrcPort		    1
		    Points		    [10, 0; 0, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Math\nFunction3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Product5"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Math\nFunction2"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction3"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Fcn1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "xd_theta_2"
		    SrcPort		    1
		    DstBlock		    "Product4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "yd_theta_2"
		    SrcPort		    1
		    DstBlock		    "Product5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product4"
		    SrcPort		    1
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product5"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Fcn1"
		    SrcPort		    1
		    Points		    [20, 0; 0, 55]
		    DstBlock		    "Product6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    Points		    [40, 0; 0, -105]
		    DstBlock		    "Product6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product6"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Product7"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "ud"
		    SrcPort		    1
		    Points		    [460, 0; 0, -210]
		    DstBlock		    "Product7"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product7"
		    SrcPort		    1
		    DstBlock		    "vs_theta"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "vs"
		  SID			  350
		  Position		  [570, 38, 600, 52]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vs_theta"
		  SID			  351
		  Position		  [570, 143, 600, 157]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "vs_t"
		  SID			  352
		  Position		  [570, 268, 600, 282]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  Name			  "vs"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "vs_calc"
		  SrcPort		  1
		  DstBlock		  "vs"
		  DstPort		  1
		}
		Line {
		  Name			  "vs_theta"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "vs_theta_calc"
		  SrcPort		  1
		  DstBlock		  "vs_theta"
		  DstPort		  1
		}
		Line {
		  Name			  "vs_t"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "vs_t_calc"
		  SrcPort		  1
		  DstBlock		  "vs_t"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "ud"
		  SrcPort		  1
		  Points		  [260, 0]
		  Branch {
		    DstBlock		    "vs_calc"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 165]
		    DstBlock		    "vs_theta_calc"
		    DstPort		    5
		  }
		}
		Line {
		  SrcBlock		  "ud_dot"
		  SrcPort		  1
		  DstBlock		  "vs_t_calc"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "xd_theta"
		  SrcPort		  1
		  Points		  [205, 0]
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "vs_calc"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "vs_theta_calc"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "vs_t_calc"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "yd_theta"
		  SrcPort		  1
		  Points		  [100, 0]
		  Branch {
		    Points		    [0, -30]
		    DstBlock		    "vs_calc"
		    DstPort		    3
		  }
		  Branch {
		    Points		    [0, 55]
		    Branch {
		    DstBlock		    "vs_theta_calc"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "vs_t_calc"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "xd_theta_2"
		  SrcPort		  1
		  DstBlock		  "vs_theta_calc"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "yd_theta_2"
		  SrcPort		  1
		  DstBlock		  "vs_theta_calc"
		  DstPort		  4
		}
	      }
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "xy"
	      SID		      353
	      Position		      [780, 203, 810, 217]
	      BackgroundColor	      "red"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "eta_vec"
	      SID		      354
	      Position		      [780, 368, 810, 382]
	      BackgroundColor	      "red"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "vs_tot"
	      SID		      355
	      Position		      [780, 78, 810, 92]
	      BackgroundColor	      "red"
	      Port		      "3"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "theta"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Saturation"
		DstPort			1
	      }
	      Branch {
		Points			[0, -290]
		DstBlock		"Stop vessel"
		DstPort			1
	      }
	    }
	    Line {
	      Labels		      [0, 0]
	      SrcBlock		      "ud_total"
	      SrcPort		      1
	      DstBlock		      "Demux2"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Thetacomputation"
	      SrcPort		      1
	      Points		      [100, 0; 0, 35]
	      Branch {
		Points			[0, 0]
		DstBlock		"Dot Product"
		DstPort			1
	      }
	      Branch {
		Points			[0, 50]
		Branch {
		  DstBlock		  "Dot Product2"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 50]
		  Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Dot Product4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 50]
		    Branch {
		    DstBlock		    "Dot Product5"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    DstBlock		    "Dot Product6"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Dot Product7"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Dot Product1"
		    DstPort		    1
		    }
		    }
		    }
		    }
		  }
		  Branch {
		    DstBlock		    "Dot Product3"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Line {
	      Name		      "xd"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product"
	      SrcPort		      1
	      Points		      [100, 0; 0, 40; 70, 0]
	      Branch {
		DstBlock		"Mux"
		DstPort			1
	      }
	      Branch {
		Points			[0, -95]
		DstBlock		"Mux1"
		DstPort			1
	      }
	    }
	    Line {
	      Name		      "yd"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product2"
	      SrcPort		      1
	      Points		      [100, 0; 0, 10; 95, 0]
	      Branch {
		DstBlock		"Mux"
		DstPort			2
	      }
	      Branch {
		Points			[0, -95]
		DstBlock		"Mux1"
		DstPort			2
	      }
	    }
	    Line {
	      SrcBlock		      "Mux"
	      SrcPort		      1
	      DstBlock		      "eta_vec"
	      DstPort		      1
	    }
	    Line {
	      Name		      "xd_theta"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product3"
	      SrcPort		      1
	      Points		      [45, 0]
	      Branch {
		Points			[40, 0]
		Branch {
		  Points		  [0, 165]
		  DstBlock		  "Trigonometric\nFunction"
		  DstPort		  2
		}
		Branch {
		  DstBlock		  "Mux"
		  DstPort		  4
		}
	      }
	      Branch {
		Points			[0, -280]
		DstBlock		"vs_calculations"
		DstPort			3
	      }
	    }
	    Line {
	      Name		      "yd_theta"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product4"
	      SrcPort		      1
	      Points		      [55, 0; 0, -30; 0, 0]
	      Branch {
		Points			[40, 0]
		Branch {
		  DstBlock		  "Mux"
		  DstPort		  5
		}
		Branch {
		  DstBlock		  "Trigonometric\nFunction"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, -280]
		DstBlock		"vs_calculations"
		DstPort			4
	      }
	    }
	    Line {
	      Name		      "xd_theta2"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product5"
	      SrcPort		      1
	      Points		      [60, 0]
	      Branch {
		Points			[0, 125]
		DstBlock		"Trigonometric\nFunction1"
		DstPort			2
	      }
	      Branch {
		Points			[10, 0]
		Branch {
		  Points		  [55, 0; 0, -40]
		  DstBlock		  "Mux"
		  DstPort		  7
		}
		Branch {
		  Points		  [0, -340]
		  DstBlock		  "vs_calculations"
		  DstPort		  5
		}
	      }
	    }
	    Line {
	      Name		      "yd_theta_2"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product6"
	      SrcPort		      1
	      Points		      [0, -20; 70, 0]
	      Branch {
		Points			[0, 85]
		DstBlock		"Trigonometric\nFunction1"
		DstPort			1
	      }
	      Branch {
		Points			[10, 0]
		Branch {
		  Points		  [60, 0; 0, -45]
		  DstBlock		  "Mux"
		  DstPort		  8
		}
		Branch {
		  Points		  [0, -345]
		  DstBlock		  "vs_calculations"
		  DstPort		  6
		}
	      }
	    }
	    Line {
	      Name		      "xd_theta_3"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product1"
	      SrcPort		      1
	      Points		      [50, 0; 0, 95]
	      DstBlock		      "Trigonometric\nFunction2"
	      DstPort		      2
	    }
	    Line {
	      Name		      "yd_theta_3"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Dot Product7"
	      SrcPort		      1
	      Points		      [20, 0; 0, 35]
	      DstBlock		      "Trigonometric\nFunction2"
	      DstPort		      1
	    }
	    Line {
	      Name		      "psi"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Trigonometric\nFunction"
	      SrcPort		      1
	      Points		      [35, 0; 0, -180]
	      DstBlock		      "Mux"
	      DstPort		      3
	    }
	    Line {
	      Name		      "psi_dot"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Trigonometric\nFunction1"
	      SrcPort		      1
	      Points		      [60, 0; 0, -180]
	      DstBlock		      "Mux"
	      DstPort		      6
	    }
	    Line {
	      Name		      "psi_doubledot"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Trigonometric\nFunction2"
	      SrcPort		      1
	      Points		      [80, 0]
	      DstBlock		      "Mux"
	      DstPort		      9
	    }
	    Line {
	      SrcBlock		      "Mux10"
	      SrcPort		      1
	      DstBlock		      "vs_tot"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vs_calculations"
	      SrcPort		      1
	      DstBlock		      "Mux10"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "vs_calculations"
	      SrcPort		      3
	      DstBlock		      "Mux10"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "vs_calculations"
	      SrcPort		      2
	      DstBlock		      "Mux10"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Saturation"
	      SrcPort		      1
	      Points		      [10, 0]
	      Branch {
		DstBlock		"Rounding\nFunction"
		DstPort			1
	      }
	      Branch {
		Points			[0, -210]
		DstBlock		"Thetacomputation"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Selector"
	      SrcPort		      1
	      DstBlock		      "Dot Product"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector1"
	      SrcPort		      1
	      DstBlock		      "Dot Product2"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector2"
	      SrcPort		      1
	      DstBlock		      "Dot Product3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector3"
	      SrcPort		      1
	      DstBlock		      "Dot Product4"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector4"
	      SrcPort		      1
	      DstBlock		      "Dot Product5"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector5"
	      SrcPort		      1
	      DstBlock		      "Dot Product6"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector6"
	      SrcPort		      1
	      DstBlock		      "Dot Product1"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Selector7"
	      SrcPort		      1
	      DstBlock		      "Dot Product7"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Direct Look-Up\nTable (n-D)"
	      SrcPort		      1
	      Points		      [20, 0]
	      Branch {
		Points			[0, -15]
		Branch {
		  Points		  [0, -50]
		  Branch {
		    Points		    [0, -50]
		    Branch {
		    Points		    [0, -50]
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Selector2"
		    DstPort		    1
		  }
		}
		Branch {
		  DstBlock		  "Selector3"
		  DstPort		  1
		}
	      }
	      Branch {
		Points			[0, 35]
		Branch {
		  DstBlock		  "Selector4"
		  DstPort		  1
		}
		Branch {
		  Points		  [0, 45]
		  Branch {
		    DstBlock		    "Selector5"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 45]
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Selector7"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Selector6"
		    DstPort		    1
		    }
		  }
		}
	      }
	    }
	    Line {
	      SrcBlock		      "Rounding\nFunction"
	      SrcPort		      1
	      DstBlock		      "Direct Look-Up\nTable (n-D)"
	      DstPort		      1
	    }
	    Line {
	      Name		      "ud"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      1
	      DstBlock		      "Product"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Product"
	      SrcPort		      1
	      DstBlock		      "vs_calculations"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Stop vessel"
	      SrcPort		      1
	      Points		      [10, 0; 0, -95]
	      DstBlock		      "Product"
	      DstPort		      2
	    }
	    Line {
	      Name		      "ud_dot"
	      Labels		      [0, 0; 0, 0]
	      SrcBlock		      "Demux2"
	      SrcPort		      2
	      DstBlock		      "vs_calculations"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Mux1"
	      SrcPort		      1
	      DstBlock		      "xy"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Pathlength"
	      SrcPort		      1
	      DstBlock		      "Total pathlength"
	      DstPort		      1
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Zig-Zag test\nrudder command\n"
	  SID			  356
	  Ports			  [2, 1]
	  Position		  [35, 157, 205, 233]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  MaskType		  "Z- Manoeuvre test or Zig-Zag test"
	  MaskDescription	  "This block generates the rudder command for a Z-manoeuvre test\nIMO A601, ITTC 1975, SNAME 1989."
	  "\nCopyright (C) 2005 NTNU\n Author: Tristan Perez \n"
	  MaskPromptString	  "Maximum rudder angle [rad]:"
	  MaskStyleString	  "edit"
	  MaskTunableValueString  "on"
	  MaskEnableString	  "on"
	  MaskVisibilityString	  "on"
	  MaskToolTipString	  "on"
	  MaskVariables		  "RL=@1;"
	  MaskIconFrame		  on
	  MaskIconOpaque	  on
	  MaskIconRotate	  "none"
	  MaskPortRotate	  "default"
	  MaskIconUnits		  "autoscale"
	  System {
	    Name		    "Zig-Zag test\nrudder command\n"
	    Location		    [421, 495, 1067, 744]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      Inport
	      Name		      "Rudder Ang"
	      SID		      357
	      Position		      [575, 38, 605, 52]
	      BlockMirror	      on
	      BackgroundColor	      "green"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Inport
	      Name		      "Yaw Ang  "
	      SID		      358
	      Position		      [580, 88, 610, 102]
	      BlockMirror	      on
	      BackgroundColor	      "green"
	      Port		      "2"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Gain
	      Name		      "Matrix\nGain4"
	      SID		      359
	      Position		      [335, 120, 365, 150]
	      BlockMirror	      on
	      BackgroundColor	      "yellow"
	      Gain		      "[-1]"
	      Multiplication	      "Matrix(K*u)"
	      ParameterDataType	      "sfix(16)"
	      ParameterScaling	      "2^0"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Sum
	      Name		      "Sum3"
	      SID		      360
	      Ports		      [2, 1]
	      Position		      [400, 34, 420, 81]
	      BlockMirror	      on
	      BackgroundColor	      "yellow"
	      ShowName		      off
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Block {
	      BlockType		      Switch
	      Name		      "Switch"
	      SID		      361
	      Position		      [295, 45, 325, 75]
	      BlockMirror	      on
	      BackgroundColor	      "yellow"
	    }
	    Block {
	      BlockType		      Step
	      Name		      "test signal4"
	      SID		      362
	      Position		      [400, 120, 430, 150]
	      BlockMirror	      on
	      BackgroundColor	      "yellow"
	      Time		      "0"
	      After		      "RL"
	      SampleTime	      "0"
	    }
	    Block {
	      BlockType		      Outport
	      Name		      "Rudder\nCommand "
	      SID		      363
	      Position		      [80, 53, 110, 67]
	      BlockMirror	      on
	      BackgroundColor	      "red"
	      IconDisplay	      "Port number"
	      OutDataType	      "sfix(16)"
	      OutScaling	      "2^0"
	    }
	    Line {
	      SrcBlock		      "test signal4"
	      SrcPort		      1
	      Points		      [0, 0; -10, 0]
	      Branch {
		Points			[0, -85]
		DstBlock		"Switch"
		DstPort			1
	      }
	      Branch {
		DstBlock		"Matrix\nGain4"
		DstPort			1
	      }
	    }
	    Line {
	      SrcBlock		      "Matrix\nGain4"
	      SrcPort		      1
	      Points		      [0, -65]
	      DstBlock		      "Switch"
	      DstPort		      3
	    }
	    Line {
	      SrcBlock		      "Sum3"
	      SrcPort		      1
	      Points		      [0, 0]
	      DstBlock		      "Switch"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Rudder Ang"
	      SrcPort		      1
	      Points		      [-5, 0; 0, 5; -110, 0; 0, -5]
	      DstBlock		      "Sum3"
	      DstPort		      1
	    }
	    Line {
	      SrcBlock		      "Yaw Ang  "
	      SrcPort		      1
	      Points		      [-10, 0; 0, 35; -110, 0; 0, -60]
	      DstBlock		      "Sum3"
	      DstPort		      2
	    }
	    Line {
	      SrcBlock		      "Switch"
	      SrcPort		      1
	      DstBlock		      "Rudder\nCommand "
	      DstPort		      1
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Models"
      SID		      364
      Ports		      []
      Position		      [355, 284, 402, 335]
      BackgroundColor	      "yellow"
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"Models"
	Location		[458, 189, 1204, 935]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  " Kinematics"
	  SID			  365
	  Ports			  []
	  Position		  [225, 129, 272, 180]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    " Kinematics"
	    Location		    [458, 397, 1049, 1000]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "6 DOF transformation"
	      SID		      366
	      Ports		      [2, 1]
	      Position		      [300, 230, 385, 290]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"6 DOF transformation"
		Location		[352, 401, 1280, 936]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "eta"
		  SID			  367
		  Position		  [20, 243, 50, 257]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nu"
		  SID			  368
		  Position		  [230, 228, 260, 242]
		  BackgroundColor	  "yellow"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Euler angles to\nrotation matrix1"
		  SID			  369
		  Ports			  [1, 1]
		  Position		  [315, 44, 400, 106]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Euler angles to\nrotation matrix"
		  SourceType		  "Euler2R"
		  ShowPortLabels	  "off"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData "off"
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Euler angles to attitude\ntransformation matrix"
		  SID			  370
		  Ports			  [1, 1]
		  Position		  [280, 360, 365, 420]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Euler angles to attitude\ntransformation matrix"
		  SourceType		  "Euler2T"
		  ShowPortLabels	  "off"
		  SystemSampleTime	  "-1"
		  FunctionWithSeparateData "off"
		  RTWMemSecFuncInitTerm	  "Inherit from model"
		  RTWMemSecFuncExecute	  "Inherit from model"
		  RTWMemSecDataConstants  "Inherit from model"
		  RTWMemSecDataInternal	  "Inherit from model"
		  RTWMemSecDataParameters "Inherit from model"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  371
		  Ports			  [2, 1]
		  Position		  [595, 226, 600, 264]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  372
		  Ports			  [2, 1]
		  Position		  [485, 66, 530, 99]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  373
		  Ports			  [2, 1]
		  Position		  [485, 381, 530, 414]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  SID			  374
		  Ports			  [1, 1]
		  Position		  [80, 228, 120, 272]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[4 5 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  SID			  375
		  Ports			  [1, 1]
		  Position		  [315, 171, 355, 209]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 3]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector2"
		  SID			  376
		  Ports			  [1, 1]
		  Position		  [315, 246, 355, 284]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[4 5 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Outport
		  Name			  "J(eta)*nu"
		  SID			  377
		  Position		  [640, 238, 670, 252]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  Points		  [55, 0]
		  Branch {
		    Points		    [0, -175]
		    DstBlock		    "Euler angles to\nrotation matrix1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 140]
		    DstBlock		    "Euler angles to attitude\ntransformation matrix"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "eta"
		  SrcPort		  1
		  DstBlock		  "Selector"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Euler angles to\nrotation matrix1"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nu"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, -45]
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 30]
		    DstBlock		    "Selector2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  Points		  [85, 0; 0, -100]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Selector2"
		  SrcPort		  1
		  Points		  [85, 0; 0, 140]
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Euler angles to attitude\ntransformation matrix"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [15, 0; 0, 150]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "J(eta)*nu"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [20, 0; 0, -145]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Annotation {
		  Name			  "Theta"
		  Position		  [150, 240]
		}
		Annotation {
		  Name			  "v"
		  Position		  [393, 180]
		}
		Annotation {
		  Name			  "omega"
		  Position		  [400, 254]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Euler angles to\ninverse rotation\nmatrix"
	      SID		      378
	      Ports		      [1, 1]
	      Position		      [190, 388, 265, 442]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Rbn"
	      MaskDescription	      "Calculate the rotation matrix from NED coordinates to Body coordinates.\n\nInput: Theta "
	      "= [phi, theta, psi]'\n\nOutput: inv(Rzyx) (3x3)"
	      MaskHelp		      "Calculate the rotation matrix from NED coordinates to Body coordinates.\n\nInput: Theta = [phi"
	      ", theta, psi]'\n\nOutput: inv(Rzyx) (3x3)"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Euler angles to\ninverse rotation\nmatrix"
		Location		[243, 92, 1274, 988]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  SID			  379
		  Position		  [25, 163, 55, 177]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  SID			  380
		  Ports			  [2, 1]
		  Position		  [165, 136, 170, 274]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  SID			  381
		  Ports			  [9, 1]
		  Position		  [380, 27, 385, 383]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "9"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R11"
		  SID			  382
		  Position		  [230, 35, 350, 55]
		  BackgroundColor	  "yellow"
		  Expr			  "u(5)*u(6)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R12"
		  SID			  383
		  Position		  [225, 154, 340, 176]
		  BackgroundColor	  "yellow"
		  Expr			  "u(5)*u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R13"
		  SID			  384
		  Position		  [220, 274, 350, 296]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(2)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R21 "
		  SID			  385
		  Position		  [225, 74, 350, 96]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(4)*u(3)+u(1)*u(2)*u(6)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R22"
		  SID			  386
		  Position		  [220, 193, 345, 217]
		  BackgroundColor	  "yellow"
		  Expr			  "u(4)*u(6)+u(1)*u(2)*u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R23"
		  SID			  387
		  Position		  [220, 313, 340, 337]
		  BackgroundColor	  "yellow"
		  Expr			  "u(1)*u(5)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R31 "
		  SID			  388
		  Position		  [225, 114, 350, 136]
		  BackgroundColor	  "yellow"
		  Expr			  "u(1)*u(3)+u(4)*u(2)*u(6)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R32"
		  SID			  389
		  Position		  [220, 233, 345, 257]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(1)*u(6)+u(4)*u(2)*u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R33"
		  SID			  390
		  Position		  [220, 354, 340, 376]
		  BackgroundColor	  "yellow"
		  Expr			  "u(4)*u(5)"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Reshape\n9x1->3x3"
		  SID			  391
		  Ports			  [1, 1]
		  Position		  [425, 187, 480, 223]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "simulink/Math\nOperations/Reshape"
		  SourceType		  "Reshape"
		  OutputDimensionality	  "Customize"
		  OutputDimensions	  "[3,3]"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "cos(theta)"
		  SID			  392
		  Ports			  [1, 1]
		  Position		  [105, 225, 135, 255]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "sin(theta)"
		  SID			  393
		  Ports			  [1, 1]
		  Position		  [105, 155, 135, 185]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Outport
		  Name			  "inv(R)"
		  SID			  394
		  Position		  [550, 198, 580, 212]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "R33"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  9
		}
		Line {
		  SrcBlock		  "R32"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "R21 "
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "R31 "
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "R12"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "R22"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "R13"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  7
		}
		Line {
		  SrcBlock		  "R23"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  8
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "R12"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "R21 "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "R11"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "R31 "
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    DstBlock		    "R22"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "R23"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "R33"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "R13"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "R32"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "sin(theta)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "cos(theta)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "cos(theta)"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "sin(theta)"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "Reshape\n9x1->3x3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "R11"
		  SrcPort		  1
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Reshape\n9x1->3x3"
		  SrcPort		  1
		  DstBlock		  "inv(R)"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Euler angles to\nrotation matrix"
	      SID		      395
	      Ports		      [1, 1]
	      Position		      [55, 384, 140, 446]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      "none"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Euler2R"
	      MaskDescription	      "Determine the 3-by-3 rotation matrix from the Euler angles (roll, pitch, yaw) using the "
	      "zyx convention.\n"
	      MaskDisplay	      "port_label('input',1,'theta')\nport_label('output',1,'R')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Euler angles to\nrotation matrix"
		Location		[361, 196, 1289, 731]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  SID			  396
		  Position		  [15, 148, 45, 162]
		  BackgroundColor	  "green"
		  DropShadow		  on
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  397
		  Ports			  [2, 1]
		  Position		  [155, 121, 160, 259]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  SID			  398
		  Ports			  [9, 1]
		  Position		  [370, 12, 375, 368]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  Inputs		  "9"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R11"
		  SID			  399
		  Position		  [235, 21, 300, 39]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(6)*u(5)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R12"
		  SID			  400
		  Position		  [215, 139, 330, 161]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(6)*u(2)*u(1)-u(3)*u(4)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R13"
		  SID			  401
		  Position		  [220, 260, 350, 280]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(4)*u(2)*u(6)+u(3)*u(1)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R21 "
		  SID			  402
		  Position		  [230, 62, 305, 78]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(3)*u(5)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R22"
		  SID			  403
		  Position		  [210, 178, 335, 202]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(3)*u(2)*u(1)+u(6)*u(4)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R23"
		  SID			  404
		  Position		  [215, 301, 345, 319]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(3)*u(2)*u(4)-u(6)*u(1)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R31 "
		  SID			  405
		  Position		  [245, 99, 290, 121]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "-u(2)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R32"
		  SID			  406
		  Position		  [240, 219, 310, 241]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(5)*u(1)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "R33"
		  SID			  407
		  Position		  [240, 339, 315, 361]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "u(5)*u(4)"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Reshape\n9x1->3x3"
		  SID			  408
		  Ports			  [1, 1]
		  Position		  [415, 172, 470, 208]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  SourceBlock		  "simulink/Math\nOperations/Reshape"
		  SourceType		  "Reshape"
		  OutputDimensionality	  "Customize"
		  OutputDimensions	  "[3,3]"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "cos(theta)"
		  SID			  409
		  Ports			  [1, 1]
		  Position		  [95, 210, 125, 240]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "sin(theta)"
		  SID			  410
		  Ports			  [1, 1]
		  Position		  [95, 140, 125, 170]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		}
		Block {
		  BlockType		  Outport
		  Name			  "Rzyx"
		  SID			  411
		  Position		  [510, 183, 540, 197]
		  BackgroundColor	  "red"
		  DropShadow		  on
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "R11"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "Reshape\n9x1->3x3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Reshape\n9x1->3x3"
		  SrcPort		  1
		  DstBlock		  "Rzyx"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sin(theta)"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "cos(theta)"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "sin(theta)"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "cos(theta)"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "R32"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "R13"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "R33"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "R23"
		    DstPort		    1
		    }
		    }
		    }
		  }
		  Branch {
		    DstBlock		    "R22"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -40]
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "R31 "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "R11"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "R21 "
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "R12"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "R23"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  8
		}
		Line {
		  SrcBlock		  "R13"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  7
		}
		Line {
		  SrcBlock		  "R22"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "R12"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "R31 "
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "R21 "
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "R32"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "R33"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  9
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Euler angles to attitude\ntransformation matrix"
	      SID		      412
	      Ports		      [1, 1]
	      Position		      [310, 385, 395, 445]
	      BackgroundColor	      "yellow"
	      ShowPortLabels	      "none"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Euler2T"
	      MaskDescription	      "Determine the 3-by-3 attitude transformation matrix  from the Euler angles (roll, pitch,"
	      " yaw). "
	      MaskDisplay	      "port_label('input',1,'theta')\nport_label('output',1,'T')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Euler angles to attitude\ntransformation matrix"
		Location		[309, 139, 880, 622]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "theta"
		  SID			  413
		  Position		  [80, 183, 110, 197]
		  BackgroundColor	  "green"
		  DropShadow		  on
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  414
		  Position		  [100, 15, 130, 45]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant "
		  SID			  415
		  Position		  [100, 75, 130, 105]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Value			  "0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  SID			  416
		  Ports			  [9, 1]
		  Position		  [370, 12, 375, 368]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  ShowName		  off
		  Inputs		  "9"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Reshape\n9x1->3x3"
		  SID			  417
		  Ports			  [1, 1]
		  Position		  [410, 172, 465, 208]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  SourceBlock		  "simulink/Math\nOperations/Reshape"
		  SourceType		  "Reshape"
		  OutputDimensionality	  "Customize"
		  OutputDimensions	  "[3,3]"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "T21 "
		  SID			  418
		  Position		  [235, 141, 340, 159]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "sin(u(1))*tan(u(2))"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "T22"
		  SID			  419
		  Position		  [245, 178, 310, 202]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "cos(u(1))"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "T23"
		  SID			  420
		  Position		  [210, 219, 340, 241]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "sin(u(1))/cos(u(2))"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "T31 "
		  SID			  421
		  Position		  [225, 257, 330, 283]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "cos(u(1))*tan(u(2))"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "T32"
		  SID			  422
		  Position		  [250, 299, 315, 321]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "-sin(u(1))"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "T33"
		  SID			  423
		  Position		  [235, 338, 340, 362]
		  BackgroundColor	  "yellow"
		  DropShadow		  on
		  Expr			  "cos(u(1))/cos(u(2))"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T"
		  SID			  424
		  Position		  [500, 183, 530, 197]
		  BackgroundColor	  "red"
		  DropShadow		  on
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  InitialOutput		  "0"
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "Reshape\n9x1->3x3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Reshape\n9x1->3x3"
		  SrcPort		  1
		  DstBlock		  "T"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "theta"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "T23"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "T33"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "T32"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "T31 "
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    DstBlock		    "T22"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "T21 "
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "T23"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "T22"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "T33"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  9
		}
		Line {
		  SrcBlock		  "Constant "
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, -20]
		    DstBlock		    "Mux2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "T21 "
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "T31 "
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  7
		}
		Line {
		  SrcBlock		  "T32"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  8
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Rotation matrix\nin yaw "
	      SID		      425
	      Ports		      [2, 1]
	      Position		      [50, 90, 140, 150]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskDescription	      "b = R(psi)* a  \n\nwhere\n\ninput 1:    psi\ninput 2:    a - vector dim 3\noutput 1:  b "
	      "- vector dim 3"
	      MaskDisplay	      "port_label('output', 1, 'R(psi)*v')\nport_label('input', 1, 'psi')\nport_label('input', 2, '"
	      "v')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Rotation matrix\nin yaw "
		Location		[343, 394, 855, 611]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "psi"
		  SID			  426
		  Position		  [15, 78, 45, 92]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nu"
		  SID			  427
		  Position		  [15, 113, 45, 127]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  SID			  428
		  Position		  [210, 16, 270, 54]
		  BackgroundColor	  "yellow"
		  Expr			  "cos(u(1))*u(2)-sin(u(1))*u(3)"
		  Port {
		    PortNumber		    1
		    Name		    "x_dot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  SID			  429
		  Position		  [210, 80, 270, 110]
		  BackgroundColor	  "yellow"
		  Expr			  "sin(u(1))*u(2)+cos(u(1))*u(3)"
		  Port {
		    PortNumber		    1
		    Name		    "y_dot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  SID			  430
		  Position		  [210, 140, 270, 170]
		  BackgroundColor	  "yellow"
		  Expr			  "u(4)"
		  Port {
		    PortNumber		    1
		    Name		    "psi_dot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  431
		  Ports			  [2, 1]
		  Position		  [75, 77, 110, 113]
		  BackgroundColor	  "yellow"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  432
		  Ports			  [3, 1]
		  Position		  [345, 77, 380, 113]
		  BackgroundColor	  "yellow"
		  Inputs		  "3"
		  Port {
		    PortNumber		    1
		    Name		    "eta_dot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "R*nu"
		  SID			  433
		  Position		  [450, 88, 480, 102]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Fcn2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Fcn1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "Fcn"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "x_dot"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  Points		  [55, 0]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  Name			  "y_dot"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  Name			  "psi_dot"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  Points		  [35, 0; 0, -50]
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  Name			  "eta_dot"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "R*nu"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "psi"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nu"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transformation of\ngeneralized force"
	      SID		      434
	      Ports		      [2, 1]
	      Position		      [50, 230, 135, 290]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Transformation of generalized force"
	      MaskDescription	      "Transforms a generalized force vector from one coordinate to a\nnew coordinate.\n\nTakes"
	      " the force vector in one point and the vector to the new point\nas input, and gives the force vector in the new"
	      " point as output. \n\nUses a Simulink version of the Hmtrx (inversed and transposed) gnc\nmatlab function."
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Transformation of\ngeneralized force"
		Location		[53, 92, 981, 723]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  435
		  Position		  [20, 493, 50, 507]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "r_p"
		  SID			  436
		  Position		  [25, 198, 55, 212]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  437
		  Ports			  [9, 1]
		  Position		  [335, 13, 340, 397]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "9"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  438
		  Ports			  [2, 1]
		  Position		  [730, 420, 735, 575]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  439
		  Ports			  [2, 1]
		  Position		  [550, 481, 595, 514]
		  BackgroundColor	  "yellow"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Reshape\n9x1 => 3x3"
		  SID			  440
		  Ports			  [1, 1]
		  Position		  [370, 170, 435, 240]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "simulink/Math\nOperations/Reshape"
		  SourceType		  "Reshape"
		  OutputDimensionality	  "Customize"
		  OutputDimensions	  "[3,3]"
		  Port {
		    PortNumber		    1
		    Name		    "S'(r_12)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  SID			  441
		  Ports			  [1, 1]
		  Position		  [175, 544, 220, 596]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[4 5 6]"
		  OutputSizes		  "1"
		  Port {
		    PortNumber		    1
		    Name		    "m"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector2"
		  SID			  442
		  Ports			  [1, 1]
		  Position		  [180, 434, 225, 486]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 3]"
		  OutputSizes		  "1"
		  Port {
		    PortNumber		    1
		    Name		    "f"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  443
		  Ports			  [2, 1]
		  Position		  [655, 466, 660, 604]
		  BackgroundColor	  "black"
		  ShowName		  off
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h11"
		  SID			  444
		  Position		  [220, 35, 280, 55]
		  BackgroundColor	  "yellow"
		  Expr			  "0"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h12"
		  SID			  445
		  Position		  [225, 155, 285, 175]
		  BackgroundColor	  "yellow"
		  Expr			  "u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h13"
		  SID			  446
		  Position		  [225, 275, 285, 295]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(2)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h21"
		  SID			  447
		  Position		  [220, 75, 280, 95]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h22"
		  SID			  448
		  Position		  [225, 195, 285, 215]
		  BackgroundColor	  "yellow"
		  Expr			  "0"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h23"
		  SID			  449
		  Position		  [225, 315, 285, 335]
		  BackgroundColor	  "yellow"
		  Expr			  "u(1)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h31"
		  SID			  450
		  Position		  [220, 115, 280, 135]
		  BackgroundColor	  "yellow"
		  Expr			  "u(2)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h32"
		  SID			  451
		  Position		  [225, 235, 285, 255]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(1)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h33"
		  SID			  452
		  Position		  [225, 355, 285, 375]
		  BackgroundColor	  "yellow"
		  Expr			  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "inv(H'(r_p))*tau"
		  SID			  453
		  Position		  [795, 493, 825, 507]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -40]
		    DstBlock		    "Selector2"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "m"
		  Labels		  [0, 0; 1, 0]
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Reshape\n9x1 => 3x3"
		  DstPort		  1
		}
		Line {
		  Name			  "S'(r_12)"
		  Labels		  [0, 0; 2, 0]
		  SrcBlock		  "Reshape\n9x1 => 3x3"
		  SrcPort		  1
		  Points		  [60, 0; 0, 285]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "h11"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "h21"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "h31"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "h12"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "h22"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "h32"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "h13"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  7
		}
		Line {
		  SrcBlock		  "h23"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  8
		}
		Line {
		  SrcBlock		  "h33"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  9
		}
		Line {
		  SrcBlock		  "r_p"
		  SrcPort		  1
		  Points		  [0, 0; 55, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, -40]
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "h11"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "h21"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "h31"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "h12"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "h22"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "h32"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "h13"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "h23"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "h33"
		    DstPort		    1
		    }
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "inv(H'(r_p))*tau"
		  DstPort		  1
		}
		Line {
		  Name			  "f"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Selector2"
		  SrcPort		  1
		  Points		  [145, 0]
		  Branch {
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, 45]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transformation of\ngeneralized velocity"
	      SID		      454
	      Ports		      [2, 1]
	      Position		      [170, 228, 260, 292]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Velocity transformation"
	      MaskDescription	      "Transforms a generalized velocity vector from one coordinate to a\nnew coordinate.\n\nTa"
	      "kes the velocity vector in one point and the vector to the new point\nas input, and gives the velocity vector i"
	      "n the new point as output. \n\nUses a Simulink version of the Hmtrx gnc matlab function. \n"
	      MaskHelp		      "Transforms a generalized velocity vector from one coordinate to a\nnew coordinate.\n\nTakes th"
	      "e velocity vector in one point and the vector to the new point\nas input, and gives the velocity vector in the "
	      "new point as output. \n\nUses a Simulink version of the Hmtrx gnc matlab function. \n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Transformation of\ngeneralized velocity"
		Location		[598, 155, 1704, 955]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "nu"
		  SID			  455
		  Position		  [35, 538, 65, 552]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "r_p"
		  SID			  456
		  Position		  [25, 198, 55, 212]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  457
		  Ports			  [9, 1]
		  Position		  [335, 13, 340, 397]
		  ShowName		  off
		  Inputs		  "9"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  458
		  Ports			  [2, 1]
		  Position		  [730, 420, 735, 575]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  459
		  Ports			  [2, 1]
		  Position		  [550, 406, 595, 439]
		  BackgroundColor	  "yellow"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Reshape\n9x1 => 3x3"
		  SID			  460
		  Ports			  [1, 1]
		  Position		  [370, 170, 435, 240]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "simulink/Math\nOperations/Reshape"
		  SourceType		  "Reshape"
		  OutputDimensionality	  "Customize"
		  OutputDimensions	  "[3,3]"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  SID			  461
		  Ports			  [1, 1]
		  Position		  [270, 554, 315, 606]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[4 5 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector2"
		  SID			  462
		  Ports			  [1, 1]
		  Position		  [270, 469, 315, 521]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 3]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  463
		  Ports			  [2, 1]
		  Position		  [655, 388, 665, 532]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h11"
		  SID			  464
		  Position		  [220, 35, 280, 55]
		  BackgroundColor	  "yellow"
		  Expr			  "0"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h12"
		  SID			  465
		  Position		  [225, 155, 285, 175]
		  BackgroundColor	  "yellow"
		  Expr			  "u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h13"
		  SID			  466
		  Position		  [225, 275, 285, 295]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(2)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h21"
		  SID			  467
		  Position		  [220, 75, 280, 95]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h22"
		  SID			  468
		  Position		  [225, 195, 285, 215]
		  BackgroundColor	  "yellow"
		  Expr			  "0"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h23"
		  SID			  469
		  Position		  [225, 315, 285, 335]
		  BackgroundColor	  "yellow"
		  Expr			  "u(1)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h31"
		  SID			  470
		  Position		  [220, 115, 280, 135]
		  BackgroundColor	  "yellow"
		  Expr			  "u(2)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h32"
		  SID			  471
		  Position		  [225, 235, 285, 255]
		  BackgroundColor	  "yellow"
		  Expr			  "-u(1)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "h33"
		  SID			  472
		  Position		  [225, 355, 285, 375]
		  BackgroundColor	  "yellow"
		  Expr			  "0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "H(r_p)*nu"
		  SID			  473
		  Position		  [825, 493, 855, 507]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Selector2"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  Points		  [175, 0]
		  Branch {
		    Points		    [0, -150]
		    DstBlock		    "Product"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [200, 0; 0, -45]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "H(r_p)*nu"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "r_p"
		  SrcPort		  1
		  Points		  [0, 0; 55, 0]
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "h33"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "h23"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "h13"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "h32"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "h22"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "h12"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "h31"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    Branch {
		    DstBlock		    "h21"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -40]
		    DstBlock		    "h11"
		    DstPort		    1
		    }
		    }
		    }
		    }
		  }
		}
		Line {
		  SrcBlock		  "h33"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  9
		}
		Line {
		  SrcBlock		  "h23"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  8
		}
		Line {
		  SrcBlock		  "h13"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  7
		}
		Line {
		  SrcBlock		  "h32"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "h22"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "h12"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "h31"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "h21"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "h11"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Reshape\n9x1 => 3x3"
		  SrcPort		  1
		  Points		  [60, 0; 0, 210]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "Reshape\n9x1 => 3x3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "nu"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Selector2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "Selector1"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "S'(r_p)"
		  Position		  [471, 225]
		}
		Annotation {
		  Name			  "omega"
		  Position		  [353, 571]
		}
		Annotation {
		  Name			  "v"
		  Position		  [336, 485]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Transposed rotation\n matrix in yaw"
	      SID		      474
	      Ports		      [2, 1]
	      Position		      [175, 91, 260, 149]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskDescription	      "b = R'(psi)* a  \n\nwhere\n\ninput 1:    psi\ninput 2:    a - vector dim 3\noutput 1:  b"
	      " - vector dim 3"
	      MaskDisplay	      "port_label('output', 1, 'R''(psi)*v')\nport_label('input', 1, 'psi')\nport_label('input', 2,"
	      " 'v')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Transposed rotation\n matrix in yaw"
		Location		[312, 397, 824, 614]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "psi"
		  SID			  475
		  Position		  [15, 68, 45, 82]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nu"
		  SID			  476
		  Position		  [15, 103, 45, 117]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  477
		  Ports			  [2, 1]
		  Position		  [80, 77, 115, 113]
		  BackgroundColor	  "yellow"
		  Inputs		  "2"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  478
		  Ports			  [3, 1]
		  Position		  [350, 77, 385, 113]
		  BackgroundColor	  "yellow"
		  Inputs		  "3"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Row1"
		  SID			  479
		  Position		  [210, 16, 270, 54]
		  BackgroundColor	  "yellow"
		  Expr			  "cos(u(1))*u(2)+sin(u(1))*u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Row2"
		  SID			  480
		  Position		  [210, 80, 270, 110]
		  BackgroundColor	  "yellow"
		  Expr			  "-sin(u(1))*u(2)+cos(u(1))*u(3)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Row3"
		  SID			  481
		  Position		  [210, 135, 270, 165]
		  BackgroundColor	  "yellow"
		  Expr			  "u(4)"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out1"
		  SID			  482
		  Position		  [430, 88, 460, 102]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "nu"
		  SrcPort		  1
		  Points		  [0, -5]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "psi"
		  SrcPort		  1
		  Points		  [15, 0]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Out1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Row3"
		  SrcPort		  1
		  Points		  [35, 0; 0, -45]
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Row2"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Row1"
		  SrcPort		  1
		  Points		  [40, 0; 0, 50]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -60]
		    DstBlock		    "Row1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Row2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "Row3"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Annotation {
	      Name		      "3 DOF kinematic transformations"
	      Position		      [56, 61]
	      HorizontalAlignment     "left"
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "6 DOF kinematic transformations"
	      Position		      [61, 196]
	      HorizontalAlignment     "left"
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	    Annotation {
	      Name		      "Euler angles"
	      Position		      [61, 356]
	      HorizontalAlignment     "left"
	      FontName		      "Times New Roman"
	      FontSize		      14
	      FontWeight	      "bold"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  " Kinetics "
	  SID			  483
	  Ports			  []
	  Position		  [220, 44, 267, 95]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    " Kinetics "
	    Location		    [458, 397, 1049, 1000]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "3 DOF Eqs. of motion"
	      SID		      484
	      Ports		      [4, 2]
	      Position		      [205, 29, 295, 111]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Equations of motion"
	      MaskDescription	      "3 DOF equations of motion (surge, sway, roll and pitch)\n\n   eta_dot = J(eta)*nu\n   (M"
	      "_RB+M_A)*nu_dot + C_RB(nu)nu+C_A(nu_r)nu_r  =  tau\n\n   nu_r = nu-nu_c    (relative velocity)\n   nu_c = [u_c,"
	      " v_c, 0]  slowly-varying current velocity\n\nwhere nu = [u,v,r]' and eta = [x,y,psi]'\n\nThe Coriolis and centr"
	      "ipetal matrix C(nu) is computed automatically using the system inertia matrix M and nu,  see Chapter 3 in Fosse"
	      "n (2002) for details.\n\nT. I. Fossen (2002). Marine Control Systems: Guidance, Navigation and Control of Ships"
	      ", Rigs and Underwater Vehicles, Marine Cybernetics AS, ISBN 82-92356-00-2"
	      MaskPromptString	      "Coriolis and centripetal forces (check box to turn on)|Initial velocities (u,v,r)|Initi"
	      "al position/attitude (x,y,psi)"
	      MaskStyleString	      "checkbox,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "CoriolisOnOff=@1;nu0=@2;eta0=@3;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "on|[0 0 0]|[0 0 0]"
	      System {
		Name			"3 DOF Eqs. of motion"
		Location		[238, 152, 1426, 1083]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "M_RB"
		  SID			  485
		  Position		  [90, 193, 120, 207]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "M_A"
		  SID			  486
		  Position		  [15, 618, 45, 632]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "M_A"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  487
		  Position		  [395, 208, 425, 222]
		  BackgroundColor	  "green"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nu_c"
		  SID			  488
		  Position		  [785, 778, 810, 792]
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "0 or 1   "
		  SID			  489
		  Position		  [370, 715, 510, 765]
		  BlockMirror		  on
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		  Gain			  "CoriolisOnOff-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "nu_r"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "0-1"
		  SID			  490
		  Position		  [650, 439, 790, 491]
		  BlockMirror		  on
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		  Gain			  "CoriolisOnOff"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "3 to 6 DOF"
		  SID			  491
		  Ports			  [1, 1]
		  Position		  [385, 440, 435, 490]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/3 to 6 DOF"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "3 to 6 DOF1"
		  SID			  492
		  Ports			  [1, 1]
		  Position		  [250, 715, 300, 765]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/3 to 6 DOF"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "6 DOF Coriolis forces"
		  SID			  493
		  Ports			  [2, 1]
		  Position		  [325, 316, 390, 369]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/6 DOF Coriolis forces"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "6 DOF Coriolis forces1"
		  SID			  494
		  Ports			  [2, 1]
		  Position		  [250, 611, 315, 664]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/6 DOF Coriolis forces"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  Port {
		    PortNumber		    1
		    Name		    "C_A(nu_r)nu_r"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "6 to 3 DOF"
		  SID			  495
		  Ports			  [1, 1]
		  Position		  [440, 308, 470, 382]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 6]"
		  OutputSizes		  "1"
		  Port {
		    PortNumber		    1
		    Name		    "C_RB(nu)nu"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "6 to 3 DOF1"
		  SID			  496
		  Ports			  [1, 1]
		  Position		  [435, 603, 465, 677]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  497
		  Ports			  [1, 1]
		  Position		  [780, 185, 810, 215]
		  BackgroundColor	  "yellow"
		  InitialCondition	  "nu0"
		  Port {
		    PortNumber		    1
		    Name		    "nu"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  SID			  498
		  Ports			  [1, 1]
		  Position		  [1095, 175, 1125, 205]
		  BackgroundColor	  "yellow"
		  InitialCondition	  "eta0"
		  Port {
		    PortNumber		    1
		    Name		    "eta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "M33 to M66"
		  SID			  499
		  Ports			  [1, 1]
		  Position		  [130, 599, 180, 651]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/M33 to M66"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "M33 to M661"
		  SID			  500
		  Ports			  [1, 1]
		  Position		  [170, 314, 220, 366]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/M33 to M66"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  501
		  Ports			  [2, 1]
		  Position		  [650, 170, 695, 230]
		  BackgroundColor	  "yellow"
		  Inputs		  "/*"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "d(nu)/dt"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "Rotation matrix\nin yaw "
		  SID			  502
		  Ports			  [2, 1]
		  Position		  [945, 160, 1035, 220]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Rotation matrix\nin yaw "
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		  Port {
		    PortNumber		    1
		    Name		    "d(eta)/dt"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector2"
		  SID			  503
		  Ports			  [1, 1]
		  Position		  [1190, 164, 1240, 216]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[3]"
		  OutputSizes		  "1"
		  Port {
		    PortNumber		    1
		    Name		    "psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  504
		  Ports			  [2, 1]
		  Position		  [500, 200, 530, 230]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  505
		  Ports			  [2, 1]
		  Position		  [610, 730, 630, 750]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  506
		  Ports			  [2, 1]
		  Position		  [180, 153, 210, 217]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  507
		  Ports			  [2, 1]
		  Position		  [575, 200, 605, 230]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta"
		  SID			  508
		  Position		  [1240, 253, 1270, 267]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu"
		  SID			  509
		  Position		  [1240, 298, 1270, 312]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "6 to 3 DOF1"
		  SrcPort		  1
		  Points		  [120, 0]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  Name			  "C_RB(nu)nu"
		  Labels		  [0, 0; 2, 0]
		  SrcBlock		  "6 to 3 DOF"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "C_A(nu_r)nu_r"
		  Labels		  [0, 0; 1, 1]
		  SrcBlock		  "6 DOF Coriolis forces1"
		  SrcPort		  1
		  DstBlock		  "6 to 3 DOF1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "3 to 6 DOF1"
		  SrcPort		  1
		  Points		  [-30, 0; 0, -90]
		  DstBlock		  "6 DOF Coriolis forces1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "M33 to M66"
		  SrcPort		  1
		  DstBlock		  "6 DOF Coriolis forces1"
		  DstPort		  1
		}
		Line {
		  Name			  "M_A"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "M_A"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, -455]
		    DstBlock		    "Sum2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "M33 to M66"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "nu_c"
		  SrcPort		  1
		  Points		  [-160, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "0 or 1   "
		  DstPort		  1
		}
		Line {
		  Name			  "nu_r"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "0 or 1   "
		  SrcPort		  1
		  DstBlock		  "3 to 6 DOF1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "M_RB"
		  SrcPort		  1
		  Points		  [-5, 0; 15, 0]
		  Branch {
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 140]
		    DstBlock		    "M33 to M661"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "nu"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [30, 0]
		  Branch {
		    Points		    [0, 265]
		    DstBlock		    "0-1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [55, 0]
		    Branch {
		    Points		    [0, 105; 275, 0]
		    Branch {
		    Labels		    [3, 0]
		    Points		    [0, 0; 0, 435]
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "nu"
		    DstPort		    1
		    }
		    }
		    Branch {
		    Points		    [30, 0]
		    DstBlock		    "Rotation matrix\nin yaw "
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "M33 to M661"
		  SrcPort		  1
		  Points		  [90, 0; 0, -10]
		  DstBlock		  "6 DOF Coriolis forces"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "6 DOF Coriolis forces"
		  SrcPort		  1
		  DstBlock		  "6 to 3 DOF"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "3 to 6 DOF"
		  SrcPort		  1
		  Points		  [-100, 0; 0, -110]
		  DstBlock		  "6 DOF Coriolis forces"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "0-1"
		  SrcPort		  1
		  DstBlock		  "3 to 6 DOF"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Name			  "psi"
		  Labels		  [0, 0; 3, 0]
		  SrcBlock		  "Selector2"
		  SrcPort		  1
		  Points		  [20, 0; 0, -65; -335, 0]
		  DstBlock		  "Rotation matrix\nin yaw "
		  DstPort		  1
		}
		Line {
		  Name			  "eta"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, 70]
		    DstBlock		    "eta"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Selector2"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "d(eta)/dt"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Rotation matrix\nin yaw "
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "d(nu)/dt"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "6 DOF Eqs. of motion"
	      SID		      510
	      Ports		      [4, 2]
	      Position		      [55, 29, 145, 111]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Equations of motion"
	      MaskDescription	      "6 DOF equations of motion (surge, sway, heave, roll, pitch and yaw)\n\n   eta_dot = J(et"
	      "a)*nu\n   (M_RB+M_A)*nu_dot + C_RB(nu)nu+C_A(nu_r)nu_r  =  tau\n\n   nu_r = nu-nu_c    (relative velocity)\n   "
	      "nu_c = [u_c,v_c,w_c,0,0,0]  slowly-varying current velocity\n\nwhere nu = [u,v,w,p,q,r]'  and eta = [x,y,x,phi,"
	      "theta,psi]'\n\nThe Coriolis and centripetal matrix C(nu) is computed automatically using the system inertia mat"
	      "rix M and nu,  see Chapter 3 in Fossen (2002) for details.\n\nT. I. Fossen (2002). Marine Control Systems: Guid"
	      "ance, Navigation and Control of Ships, Rigs and Underwater Vehicles, Marine Cybernetics AS, ISBN 82-92356-00-2"
	      MaskPromptString	      "Coriolis and centripetal forces (check box to turn on)|Initial velocities (u,v,w,p,q,r)"
	      "|Initial position/attitude (x,y,z,phi,theta,psi)"
	      MaskStyleString	      "checkbox,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "CoriolisOnOff=@1;nu0=@2;eta0=@3;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "on|[0 0 0 0 0 0]|[0 0 0 0 0 0]"
	      System {
		Name			"6 DOF Eqs. of motion"
		Location		[296, 77, 1484, 976]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "M_RB"
		  SID			  511
		  Position		  [95, 133, 125, 147]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "M_RB"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "M_A"
		  SID			  512
		  Position		  [15, 658, 45, 672]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "M_A"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  513
		  Position		  [195, 198, 225, 212]
		  BackgroundColor	  "green"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "nu_c"
		  SID			  514
		  Position		  [780, 818, 805, 832]
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "0 or 1"
		  SID			  515
		  Position		  [365, 424, 505, 476]
		  BlockMirror		  on
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		  Gain			  "CoriolisOnOff-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "0 or 1   "
		  SID			  516
		  Position		  [365, 755, 505, 805]
		  BlockMirror		  on
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		  Gain			  "CoriolisOnOff-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "nu_r"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "6 DOF Coriolis forces"
		  SID			  517
		  Ports			  [2, 1]
		  Position		  [175, 346, 240, 399]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/6 DOF Coriolis forces"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  Port {
		    PortNumber		    1
		    Name		    "C_RB(nu)nu"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "6 DOF Coriolis forces1"
		  SID			  518
		  Ports			  [2, 1]
		  Position		  [170, 651, 235, 704]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinetics /Support/6 DOF Coriolis forces"
		  SourceType		  "SubSystem"
		  ShowPortLabels	  "on"
		  Port {
		    PortNumber		    1
		    Name		    "C_A(nu_r)nu_r"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "Euler angles to\nrotation matrix"
		  SID			  519
		  Ports			  [1, 1]
		  Position		  [750, 14, 835, 76]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Euler angles to\nrotation matrix"
		  SourceType		  "Euler2R"
		  ShowPortLabels	  "off"
		  Port {
		    PortNumber		    1
		    Name		    "R(theta)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "Euler angles to attitude\ntransformation matrix"
		  SID			  520
		  Ports			  [1, 1]
		  Position		  [780, 270, 865, 330]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Euler angles to attitude\ntransformation matrix"
		  SourceType		  "Euler2T"
		  ShowPortLabels	  "off"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  521
		  Ports			  [1, 1]
		  Position		  [490, 180, 520, 210]
		  BackgroundColor	  "yellow"
		  InitialCondition	  "nu0"
		  Port {
		    PortNumber		    1
		    Name		    "nu"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  522
		  Ports			  [1, 1]
		  Position		  [865, 120, 895, 150]
		  BackgroundColor	  "yellow"
		  InitialCondition	  "eta0(1:3)"
		  Port {
		    PortNumber		    1
		    Name		    "p"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  SID			  523
		  Ports			  [1, 1]
		  Position		  [865, 219, 895, 251]
		  BackgroundColor	  "yellow"
		  InitialCondition	  "eta0(4:6)"
		  Port {
		    PortNumber		    1
		    Name		    "theta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  524
		  Ports			  [2, 1]
		  Position		  [960, 184, 965, 251]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "eta"
		    PropagatedSignals	    "p, theta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  525
		  Ports			  [2, 1]
		  Position		  [960, 364, 965, 431]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "nu"
		    PropagatedSignals	    "v, w_nb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  526
		  Ports			  [2, 1]
		  Position		  [390, 169, 435, 216]
		  BackgroundColor	  "yellow"
		  Inputs		  "/*"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "(d/dt)nu"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  527
		  Ports			  [2, 1]
		  Position		  [745, 116, 790, 149]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "dp/dt"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  528
		  Ports			  [2, 1]
		  Position		  [745, 216, 790, 249]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "(d/dt)theta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector1"
		  SID			  529
		  Ports			  [1, 1]
		  Position		  [585, 107, 645, 173]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 3]"
		  OutputSizes		  "1"
		  Port {
		    PortNumber		    1
		    Name		    "v"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector2"
		  SID			  530
		  Ports			  [1, 1]
		  Position		  [585, 207, 645, 273]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[4 5 6]"
		  OutputSizes		  "1"
		  Port {
		    PortNumber		    1
		    Name		    "w_nb"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  531
		  Ports			  [2, 1]
		  Position		  [275, 195, 295, 215]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  532
		  Ports			  [2, 1]
		  Position		  [605, 770, 625, 790]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  533
		  Ports			  [2, 1]
		  Position		  [245, 93, 275, 157]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  Port {
		    PortNumber		    1
		    Name		    "M"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  534
		  Ports			  [2, 1]
		  Position		  [340, 195, 360, 215]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta"
		  SID			  535
		  Position		  [1100, 213, 1130, 227]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu"
		  SID			  536
		  Position		  [1105, 393, 1135, 407]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "nu_c"
		  SrcPort		  1
		  Points		  [-160, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "0 or 1   "
		  DstPort		  1
		}
		Line {
		  Name			  "nu_r"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "0 or 1   "
		  SrcPort		  1
		  Points		  [-235, 0; 0, -90]
		  DstBlock		  "6 DOF Coriolis forces1"
		  DstPort		  2
		}
		Line {
		  Name			  "C_A(nu_r)nu_r"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "6 DOF Coriolis forces1"
		  SrcPort		  1
		  Points		  [110, 0]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  Name			  "M"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  Points		  [30, 0; 0, 55]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  Name			  "M_A"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "M_A"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    Points		    [0, -555]
		    DstBlock		    "Sum2"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "6 DOF Coriolis forces1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "M_RB"
		  Labels		  [0, 0]
		  SrcBlock		  "M_RB"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		  }
		  Branch {
		    Labels		    [1, 0]
		    Points		    [0, 220]
		    DstBlock		    "6 DOF Coriolis forces"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "(d/dt)nu"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  Name			  "nu"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, -55]
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 45]
		    DstBlock		    "Selector2"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 255]
		    DstBlock		    "0 or 1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "v"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Selector1"
		  SrcPort		  1
		  Points		  [5, 0; 35, 0]
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		  Branch {
		    Labels		    [2, 1]
		    Points		    [0, 240]
		    DstBlock		    "Mux1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "w_nb"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Selector2"
		  SrcPort		  1
		  Points		  [10, 0; 20, 0]
		  Branch {
		    Labels		    [2, 1]
		    Points		    [0, 175]
		    DstBlock		    "Mux1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "dp/dt"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  Name			  "R(theta)"
		  Labels		  [0, 0; 2, 0]
		  SrcBlock		  "Euler angles to\nrotation matrix"
		  SrcPort		  1
		  Points		  [-55, 0; 0, 80]
		  DstBlock		  "Product1"
		  DstPort		  1
		}
		Line {
		  Name			  "(d/dt)theta"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "theta"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [0, 0; 35, 0]
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    2
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, -190]
		    DstBlock		    "Euler angles to\nrotation matrix"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 65]
		    DstBlock		    "Euler angles to attitude\ntransformation matrix"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "p"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [15, 0; 0, 65]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "eta"
		  Labels		  [0, 0; 0, 0; 1, 0]
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "eta"
		  DstPort		  1
		}
		Line {
		  Name			  "nu"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0; 30, 0]
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, 380]
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "nu"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Euler angles to attitude\ntransformation matrix"
		  SrcPort		  1
		  Points		  [-70, 0; 0, -75]
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  Name			  "C_RB(nu)nu"
		  Labels		  [0, 0; 2, 0]
		  SrcBlock		  "6 DOF Coriolis forces"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "0 or 1"
		  SrcPort		  1
		  Points		  [-215, 0; 0, -65]
		  DstBlock		  "6 DOF Coriolis forces"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Support"
	      SID		      537
	      Ports		      []
	      Position		      [50, 173, 138, 255]
	      BackgroundColor	      "[0.752941, 0.752941, 0.752941]"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskDisplay	      "\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"Support"
		Location		[339, 613, 1085, 1359]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  SubSystem
		  Name			  "3 to 6 DOF"
		  SID			  538
		  Ports			  [1, 1]
		  Position		  [170, 45, 220, 95]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskDisplay		  "disp('modes,\\n 1,2,6, to\\n 6 DOF')\n"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "3 to 6 DOF"
		    Location		    [903, 389, 1376, 771]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    539
		    Position		    [15, 73, 45, 87]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    540
		    Position		    [15, 110, 45, 140]
		    BackgroundColor	    "green"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    541
		    Ports		    [2, 1]
		    Position		    [80, 71, 85, 109]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    SID			    542
		    Ports		    [1, 1]
		    Position		    [130, 32, 180, 148]
		    BackgroundColor	    "yellow"
		    InputPortWidth	    "4"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[1 2  4 4 4 3]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    543
		    Position		    [235, 83, 265, 97]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "4 to 6 DOF"
		  SID			  544
		  Ports			  [1, 1]
		  Position		  [170, 163, 225, 217]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskDisplay		  "disp('modes,\\n 1,2,4,6, to\\n 6 DOF')\n"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "4 to 6 DOF"
		    Location		    [649, 284, 999, 569]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "In1"
		    SID			    545
		    Position		    [15, 73, 45, 87]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    546
		    Position		    [15, 110, 45, 140]
		    BackgroundColor	    "green"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    547
		    Ports		    [2, 1]
		    Position		    [80, 71, 85, 109]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    SID			    548
		    Ports		    [1, 1]
		    Position		    [135, 32, 185, 148]
		    BackgroundColor	    "yellow"
		    InputPortWidth	    "5"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[1 2  5 3 5 4]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Out1"
		    SID			    549
		    Position		    [235, 83, 265, 97]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    DstBlock		    "Out1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "In1"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [5, 0; 0, -25]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "6 DOF Coriolis forces"
		  SID			  550
		  Ports			  [2, 1]
		  Position		  [70, 281, 135, 334]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "6 DOF Coriolis forces"
		    Location		    [56, 124, 1230, 717]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "M"
		    SID			    551
		    Position		    [25, 38, 55, 52]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "M"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "nu"
		    SID			    552
		    Position		    [35, 398, 65, 412]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3x3 cross product"
		    SID			    553
		    Ports		    [2, 1]
		    Position		    [1130, 40, 1205, 100]
		    BackgroundColor	    "yellow"
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    MaskType		    "CrossProduct"
		    MaskDescription	    "Calculate the cross product of two 3-by-1 vectors."
		    MaskDisplay		    "text(.5,.5,'Cross\\nProduct\\nc = axb', ...\n	'HorizontalAlignment','Center',...\n	'VerticalAl"
		    "ignment','middle')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    off
		    MaskIconRotate	    "none"
		    MaskPortRotate	    "default"
		    MaskIconUnits	    "normalized"
		    System {
		    Name		    "3x3 cross product"
		    Location		    [505, 473, 843, 739]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "a"
		    SID			    554
		    Position		    [40, 30, 60, 50]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "b"
		    SID			    555
		    Position		    [40, 155, 60, 175]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    556
		    Ports		    [2, 1]
		    Position		    [195, 32, 225, 63]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    557
		    Ports		    [2, 1]
		    Position		    [190, 197, 220, 228]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    SID			    558
		    Ports		    [1, 1]
		    Position		    [115, 15, 135, 65]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[2 3 1]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector1"
		    SID			    559
		    Ports		    [1, 1]
		    Position		    [115, 142, 135, 188]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[3 1 2]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector2"
		    SID			    560
		    Ports		    [1, 1]
		    Position		    [115, 194, 135, 246]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[2 3 1]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector3"
		    SID			    561
		    Ports		    [1, 1]
		    Position		    [115, 89, 135, 131]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[3 1 2]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    562
		    Ports		    [2, 1]
		    Position		    [225, 110, 265, 150]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+|-"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "c"
		    SID			    563
		    Position		    [295, 120, 315, 140]
		    BackgroundColor	    "red"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "c"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "b"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Selector2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "a"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Selector3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Selector2"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Selector3"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3x3 cross product1"
		    SID			    564
		    Ports		    [2, 1]
		    Position		    [1135, 125, 1210, 185]
		    BackgroundColor	    "yellow"
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    MaskType		    "CrossProduct"
		    MaskDescription	    "Calculate the cross product of two 3-by-1 vectors."
		    MaskDisplay		    "text(.5,.5,'Cross\\nProduct\\nc = axb', ...\n	'HorizontalAlignment','Center',...\n	'VerticalAl"
		    "ignment','middle')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    off
		    MaskIconRotate	    "none"
		    MaskPortRotate	    "default"
		    MaskIconUnits	    "normalized"
		    System {
		    Name		    "3x3 cross product1"
		    Location		    [505, 473, 843, 739]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "a"
		    SID			    565
		    Position		    [40, 30, 60, 50]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "b"
		    SID			    566
		    Position		    [40, 155, 60, 175]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    567
		    Ports		    [2, 1]
		    Position		    [195, 32, 225, 63]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    568
		    Ports		    [2, 1]
		    Position		    [190, 197, 220, 228]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    SID			    569
		    Ports		    [1, 1]
		    Position		    [115, 15, 135, 65]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[2 3 1]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector1"
		    SID			    570
		    Ports		    [1, 1]
		    Position		    [115, 142, 135, 188]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[3 1 2]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector2"
		    SID			    571
		    Ports		    [1, 1]
		    Position		    [115, 194, 135, 246]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[2 3 1]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector3"
		    SID			    572
		    Ports		    [1, 1]
		    Position		    [115, 89, 135, 131]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[3 1 2]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    573
		    Ports		    [2, 1]
		    Position		    [225, 110, 265, 150]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+|-"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "c"
		    SID			    574
		    Position		    [295, 120, 315, 140]
		    BackgroundColor	    "red"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "c"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "b"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Selector2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "a"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Selector3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Selector2"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Selector3"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    SubSystem
		    Name		    "3x3 cross product2"
		    SID			    575
		    Ports		    [2, 1]
		    Position		    [1185, 230, 1260, 290]
		    BackgroundColor	    "yellow"
		    MinAlgLoopOccurrences   off
		    PropExecContextOutsideSubsystem off
		    RTWSystemCode	    "Auto"
		    FunctionWithSeparateData off
		    Opaque		    off
		    RequestExecContextInheritance off
		    MaskHideContents	    off
		    MaskType		    "CrossProduct"
		    MaskDescription	    "Calculate the cross product of two 3-by-1 vectors."
		    MaskDisplay		    "text(.5,.5,'Cross\\nProduct\\nc = axb', ...\n	'HorizontalAlignment','Center',...\n	'VerticalAl"
		    "ignment','middle')"
		    MaskIconFrame	    on
		    MaskIconOpaque	    off
		    MaskIconRotate	    "none"
		    MaskPortRotate	    "default"
		    MaskIconUnits	    "normalized"
		    System {
		    Name		    "3x3 cross product2"
		    Location		    [505, 473, 843, 739]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "a"
		    SID			    576
		    Position		    [40, 30, 60, 50]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "b"
		    SID			    577
		    Position		    [40, 155, 60, 175]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    578
		    Ports		    [2, 1]
		    Position		    [195, 32, 225, 63]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    579
		    Ports		    [2, 1]
		    Position		    [190, 197, 220, 228]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    SID			    580
		    Ports		    [1, 1]
		    Position		    [115, 15, 135, 65]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[2 3 1]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector1"
		    SID			    581
		    Ports		    [1, 1]
		    Position		    [115, 142, 135, 188]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[3 1 2]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector2"
		    SID			    582
		    Ports		    [1, 1]
		    Position		    [115, 194, 135, 246]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[2 3 1]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector3"
		    SID			    583
		    Ports		    [1, 1]
		    Position		    [115, 89, 135, 131]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[3 1 2]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    584
		    Ports		    [2, 1]
		    Position		    [225, 110, 265, 150]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "+|-"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "c"
		    SID			    585
		    Position		    [295, 120, 315, 140]
		    BackgroundColor	    "red"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    InitialOutput	    "0"
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "c"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "b"
		    SrcPort		    1
		    Points		    [0, 0; 20, 0]
		    Branch {
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Selector2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "a"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Selector3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector1"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Selector2"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Selector3"
		    SrcPort		    1
		    Points		    [10, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    586
		    Position		    [270, 26, 320, 64]
		    BackgroundColor	    "yellow"
		    Gain		    "0.5"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "1/2 (M+M')"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    587
		    Position		    [940, 36, 990, 74]
		    BackgroundColor	    "yellow"
		    Gain		    "-1"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain2"
		    SID			    588
		    Position		    [1050, 226, 1100, 264]
		    BackgroundColor	    "yellow"
		    Gain		    "-1"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "M11"
		    SID			    589
		    Ports		    [1, 1]
		    Position		    [445, 26, 485, 64]
		    BackgroundColor	    "yellow"
		    NumberOfDimensions	    "2"
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog),Index vector (dialog)"
		    Indices		    "[1 2 3],[1 2 3]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "M12"
		    SID			    590
		    Ports		    [1, 1]
		    Position		    [445, 101, 485, 139]
		    BackgroundColor	    "yellow"
		    NumberOfDimensions	    "2"
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog),Index vector (dialog)"
		    Indices		    "[1 2 3],[4 5 6]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "M22"
		    SID			    591
		    Ports		    [1, 1]
		    Position		    [435, 291, 475, 329]
		    BackgroundColor	    "yellow"
		    NumberOfDimensions	    "2"
		    InputPortWidth	    "3"
		    IndexOptions	    "Index vector (dialog),Index vector (dialog)"
		    Indices		    "[4 5 6],[4 5 6]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    592
		    Ports		    [2, 1]
		    Position		    [1380, 28, 1390, 197]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    Port {
		    PortNumber		    1
		    Name		    "C(nu)nu"
		    PropagatedSignals	    ", "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    593
		    Ports		    [2, 1]
		    Position		    [640, 35, 695, 70]
		    BackgroundColor	    "yellow"
		    Multiplication	    "Matrix(*)"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "M11*nu1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    594
		    Ports		    [2, 1]
		    Position		    [705, 110, 760, 145]
		    BackgroundColor	    "yellow"
		    Multiplication	    "Matrix(*)"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "M12*nu2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    595
		    Ports		    [2, 1]
		    Position		    [795, 225, 850, 260]
		    BackgroundColor	    "yellow"
		    Multiplication	    "Matrix(*)"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "M21*nu1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    596
		    Ports		    [2, 1]
		    Position		    [800, 300, 855, 335]
		    BackgroundColor	    "yellow"
		    Multiplication	    "Matrix(*)"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "M22*nu2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    SID			    597
		    Ports		    [1, 1]
		    Position		    [135, 357, 200, 453]
		    BackgroundColor	    "yellow"
		    InputPortWidth	    "6"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[1 2 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "nu1"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector1"
		    SID			    598
		    Ports		    [1, 1]
		    Position		    [140, 482, 205, 578]
		    BackgroundColor	    "yellow"
		    InputPortWidth	    "6"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[4 5 6]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "nu2"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    599
		    Ports		    [2, 1]
		    Position		    [205, 35, 225, 55]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    600
		    Ports		    [2, 1]
		    Position		    [810, 45, 830, 65]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    Port {
		    PortNumber		    1
		    Name		    "dT/d(nu1)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    601
		    Ports		    [2, 1]
		    Position		    [915, 235, 935, 255]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    Port {
		    PortNumber		    1
		    Name		    "dT/d(nu2)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    SID			    602
		    Ports		    [2, 1]
		    Position		    [1280, 145, 1300, 165]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "transpose"
		    SID			    603
		    Ports		    [1, 1]
		    Position		    [140, 95, 170, 125]
		    BackgroundColor	    "yellow"
		    Operator		    "transpose"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "M'"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Math
		    Name		    "transpose1"
		    SID			    604
		    Ports		    [1, 1]
		    Position		    [680, 220, 710, 250]
		    BackgroundColor	    "yellow"
		    Operator		    "transpose"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "M21=M12'"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "C(nu)nu"
		    SID			    605
		    Position		    [1450, 108, 1480, 122]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    Name		    "M"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "M"
		    SrcPort		    1
		    Points		    [0, 0; 45, 0]
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 65]
		    DstBlock		    "transpose"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "nu"
		    SrcPort		    1
		    Points		    [0, 0; 35, 0]
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "Selector1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "C(nu)nu"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "C(nu)nu"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "3x3 cross product2"
		    SrcPort		    1
		    Points		    [25, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "3x3 cross product1"
		    SrcPort		    1
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain2"
		    SrcPort		    1
		    DstBlock		    "3x3 cross product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "3x3 cross product"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    Points		    [0, 0; 65, 0]
		    Branch {
		    DstBlock		    "3x3 cross product"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 85]
		    DstBlock		    "3x3 cross product1"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "dT/d(nu2)"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    DstBlock		    "Gain2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "M22*nu2"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    Points		    [65, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "M22"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    Name		    "M21*nu1"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "M21=M12'"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "transpose1"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "dT/d(nu1)"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "M12*nu2"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [55, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "M12"
		    SrcPort		    1
		    Points		    [0, 0; 70, 0]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 115]
		    DstBlock		    "transpose1"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "M11*nu1"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "M11"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    Line {
		    Name		    "nu2"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector1"
		    SrcPort		    1
		    Points		    [0, 0; 410, 0]
		    Branch {
		    Points		    [0, -395]
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [160, 0]
		    Branch {
		    Points		    [0, -205]
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [245, 0]
		    Branch {
		    Points		    [0, -445]
		    DstBlock		    "3x3 cross product"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [110, 0; 0, -255]
		    DstBlock		    "3x3 cross product2"
		    DstPort		    2
		    }
		    }
		    }
		    }
		    Line {
		    Name		    "nu1"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    Points		    [0, 0; 300, 0]
		    Branch {
		    Points		    [0, -345]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [250, 0]
		    Branch {
		    Points		    [0, -155]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [230, 0; 0, -235]
		    DstBlock		    "3x3 cross product1"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    Name		    "1/2 (M+M')"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    Points		    [0, 0; 60, 0]
		    Branch {
		    DstBlock		    "M11"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "M12"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "M22"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    Name		    "M'"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "transpose"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "6 to 3 DOF"
		  SID			  606
		  Ports			  [1, 1]
		  Position		  [80, 33, 110, 107]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "6 to 4 DOF"
		  SID			  607
		  Ports			  [1, 1]
		  Position		  [80, 158, 110, 232]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[1 2 4 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "M33 to M66"
		  SID			  608
		  Ports			  [1, 1]
		  Position		  [390, 44, 440, 96]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskDisplay		  "disp('add zeros')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "M33 to M66"
		    Location		    [896, 250, 1471, 450]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "M33"
		    SID			    609
		    Position		    [260, 48, 290, 62]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    610
		    Ports		    [3, 1]
		    Position		    [440, 26, 495, 84]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    Multiplication	    "Matrix(*)"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "modes"
		    SID			    611
		    Position		    [25, 96, 125, 174]
		    BackgroundColor	    "green"
		    Value		    "[1 0 0; 0 1 0; 0 0 0; 0 0 0; 0 0 0; 0 0 1]"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "transpose"
		    SID			    612
		    Ports		    [1, 1]
		    Position		    [260, 120, 290, 150]
		    BackgroundColor	    "yellow"
		    Operator		    "transpose"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "M66"
		    SID			    613
		    Position		    [530, 48, 560, 62]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "modes"
		    SrcPort		    1
		    Points		    [0, 0; 55, 0]
		    Branch {
		    DstBlock		    "transpose"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "transpose"
		    SrcPort		    1
		    Points		    [55, 0; 0, -60]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "M33"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "M66"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "M44 to M66"
		  SID			  614
		  Ports			  [1, 1]
		  Position		  [395, 169, 445, 221]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskDisplay		  "disp('add zeros')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "M44 to M66"
		    Location		    [896, 250, 1471, 450]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "M44"
		    SID			    615
		    Position		    [260, 48, 290, 62]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    616
		    Ports		    [3, 1]
		    Position		    [440, 26, 495, 84]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    Multiplication	    "Matrix(*)"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "modes"
		    SID			    617
		    Position		    [25, 96, 125, 174]
		    BackgroundColor	    "green"
		    Value		    "[1 0 0 0; 0 1 0 0; 0 0 0 0; 0 0 1 0; 0 0 0 0; 0 0 0 1]"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "transpose"
		    SID			    618
		    Ports		    [1, 1]
		    Position		    [260, 120, 290, 150]
		    BackgroundColor	    "yellow"
		    Operator		    "transpose"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "M66"
		    SID			    619
		    Position		    [530, 48, 560, 62]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "modes"
		    SrcPort		    1
		    Points		    [0, 0; 55, 0]
		    Branch {
		    DstBlock		    "transpose"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -100]
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "transpose"
		    SrcPort		    1
		    Points		    [55, 0; 0, -60]
		    DstBlock		    "Product"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "M44"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "M66"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Selector
		  Name			  "M66 to M33"
		  SID			  620
		  Ports			  [1, 1]
		  Position		  [290, 44, 335, 96]
		  BackgroundColor	  "yellow"
		  NumberOfDimensions	  "2"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog),Index vector (dialog)"
		  Indices		  "[1 2 6],[1 2 6]"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Selector
		  Name			  "M66 to M44"
		  SID			  621
		  Ports			  [1, 1]
		  Position		  [295, 169, 340, 221]
		  BackgroundColor	  "yellow"
		  NumberOfDimensions	  "2"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog),Index vector (dialog)"
		  Indices		  "[1 2 4 6],[1 2 4 6]"
		  OutputSizes		  "1"
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Control Surfaces"
	  SID			  622
	  Ports			  []
	  Position		  [120, 44, 167, 95]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Control Surfaces"
	    Location		    [267, 512, 1226, 1235]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Fin/Rudder Machinery"
	      SID		      623
	      Ports		      [1, 1]
	      Position		      [315, 32, 515, 98]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Rudder Machinery"
	      MaskDescription	      "Model of van Amerongen for rudder machiery\nCopyright (C) 2005 NTNU \nAuthor: Tristan Pe"
	      "rez \n"
	      MaskHelp		      "Rudder machinery model of Van Amerongen accounting for saturation and rate limit.  "
	      MaskPromptString	      "Max. Rudder Angle (rad):|Max. Rudder Rate (rad/sec.):|Time constant (sec):"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "Dmax=@1;Dvmax=@2;tc=@3;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "||"
	      System {
		Name			"Fin/Rudder Machinery"
		Location		[292, 491, 1183, 847]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Angle\nComm"
		  SID			  624
		  Position		  [25, 33, 55, 47]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  625
		  Position		  [195, 23, 225, 57]
		  BackgroundColor	  "yellow"
		  Gain			  "1/tc"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  626
		  Ports			  [1, 1]
		  Position		  [295, 25, 325, 55]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  627
		  Position		  [245, 25, 275, 55]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "Dvmax"
		  LowerLimit		  "-Dvmax"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  SID			  628
		  Position		  [85, 25, 115, 55]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "Dmax"
		  LowerLimit		  "-Dmax"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  629
		  Ports			  [2, 1]
		  Position		  [150, 30, 170, 50]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Actual\nAng.\n"
		  SID			  630
		  Position		  [365, 33, 395, 47]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Angle\nComm"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Actual\nAng.\n"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55; -190, 0; 0, -30]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Rudder"
	      SID		      631
	      Ports		      [2, 1]
	      Position		      [240, 161, 400, 234]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Rudder Model"
	      MaskDescription	      "Model to generate forces and moments due to rudder action as a control surface. \nCopyri"
	      "ght (C) 2005 NTNU\nAuthor: Tristan Perez \n"
	      MaskHelp		      "This block gives the forces (N) and moments (Nm) in 4-DOF\n generated by the rudder.   The inp"
	      "uts of the block are the  effective  angle of attack  \"alpha_eff\"and  the average speed of the fluid over the"
	      " rudder \"V\".\n\"LCG \" is the longitudinal \n position of the centre of gravity  \n(distance from along the c"
	      "enter line from the rudder stock to the CG.) \"VCG\" is the \nvertical center of gravity (distance from the bas"
	      "e line to GC.)  \nThe lift generated is linear until  the stall angle is reached, where the lift saturates. \n\n"
	      "The units of the angles is in rad and the dCL/dalpha _e   shoudl have units of 1/rad.\n\n"
	      MaskPromptString	      "LCG  [m]:|VCG [m]:|Span [m]:|Aspect ratio:|Area (m^2):|dCL/dalpha _e   [1/rad] (deriv o"
	      "f non dimm lift CL(alpha_e)):|CD0 (non-dim Drag @ zero angle of attack):|Stall angle [rad]:|Water density  [Kg/"
	      "m^3]:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on,on"
	      MaskVariables	      "LCG=@1;VCG=@2;sp=@3;ar=@4;A=@5;dCL=@6;CD0=@7;stall=@8;rho=@9;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "||||||||1025"
	      System {
		Name			"Rudder"
		Location		[9, 92, 1077, 769]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Alpha_eff\n"
		  SID			  632
		  Position		  [35, 63, 65, 77]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vrel"
		  SID			  633
		  Position		  [35, 243, 65, 257]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  634
		  Position		  [540, 135, 570, 165]
		  BackgroundColor	  "yellow"
		  Value			  "CD0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  SID			  635
		  Ports			  [1, 1]
		  Position		  [435, 65, 465, 95]
		  BackgroundColor	  "yellow"
		  Operator		  "square"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  SID			  636
		  Ports			  [4, 1]
		  Position		  [995, 83, 1000, 157]
		  ShowName		  off
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  637
		  Ports			  [2, 1]
		  Position		  [135, 236, 185, 274]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  638
		  Ports			  [2, 1]
		  Position		  [685, 229, 745, 271]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  SID			  639
		  Ports			  [2, 1]
		  Position		  [685, 69, 745, 111]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  640
		  Position		  [145, 55, 175, 85]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "stall"
		  LowerLimit		  "-stall"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  641
		  Ports			  [2, 1]
		  Position		  [605, 70, 625, 90]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "gain\n"
		  SID			  642
		  Position		  [495, 54, 585, 106]
		  BackgroundColor	  "yellow"
		  Gain			  "1/(0.9*pi*ar)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "gain\n1"
		  SID			  643
		  Position		  [225, 44, 315, 96]
		  BackgroundColor	  "yellow"
		  Gain			  "dCL"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "gain\n2"
		  SID			  644
		  Position		  [785, 67, 825, 113]
		  BackgroundColor	  "yellow"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "pi/(2*stall)2"
		  SID			  645
		  Position		  [215, 229, 305, 281]
		  BackgroundColor	  "yellow"
		  Gain			  "0.5*rho*A"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "pi/(2*stall)6"
		  SID			  646
		  Position		  [835, 188, 940, 242]
		  BackgroundColor	  "yellow"
		  Gain			  "-(VCG-0.5*sp)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "pi/(2*stall)7"
		  SID			  647
		  Position		  [850, 299, 900, 351]
		  BackgroundColor	  "yellow"
		  Gain			  "-LCG"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "[XYKN]'"
		  SID			  648
		  Position		  [1030, 113, 1060, 127]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "pi/(2*stall)2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Vrel"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    Points		    [0, 15]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [25, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "gain\n"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  DstBlock		  "gain\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Product4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "pi/(2*stall)2"
		  SrcPort		  1
		  Points		  [0, 5; 350, 0]
		  Branch {
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -160]
		    DstBlock		    "Product4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  DstBlock		  "gain\n2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gain\n2"
		  SrcPort		  1
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "[XYKN]'"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "pi/(2*stall)6"
		  SrcPort		  1
		  Points		  [0, -85]
		  DstBlock		  "Mux2"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, -35]
		    Branch {
		    Points		    [0, -105]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "pi/(2*stall)6"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "pi/(2*stall)7"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "pi/(2*stall)7"
		  SrcPort		  1
		  Points		  [70, 0; 0, -175]
		  DstBlock		  "Mux2"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "gain\n1"
		  SrcPort		  1
		  Points		  [45, 0; 0, 10; 20, 0; 0, 10]
		  Branch {
		    Points		    [0, 150]
		    DstBlock		    "Product2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "gain\n1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Alpha_eff\n"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Annotation {
		  Name			  "Lift "
		  Position		  [777, 275]
		}
		Annotation {
		  Name			  "Drag "
		  Position		  [787, 50]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Rudder\n forces\n4-DOF"
	      SID		      649
	      Ports		      [2, 4]
	      Position		      [65, 149, 120, 231]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Rudder forces"
	      MaskDescription	      "This block calculates the forces and moments on the hull in 4-DOF \ngenerated by a rudde"
	      "r.\nCopyright (C) 2005 NTNU\nAuthor: Tristan Perez "
	      MaskHelp		      "Lift and  drag are the hydrodynamic forces generated by the rudder hydrofoil.  \nPositive eff."
	      " angle of attack produces negative roll motion (roll to port) and \nnegative yaw angle (turn to port). \n Rr is"
	      " the distance from the center of pressure (CP) \nof the rudder to the CG.  LCG is the lateral CG, i.e the dista"
	      "nce from the rudder \nstock to CG (the AP (aft perpendicular) is assumed on the rudder stock rather\n than on t"
	      "he intersection of waterline and the transom.)"
	      MaskPromptString	      "Rr  (distance CG to CP) [m]:|LCG [m]:"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVariables	      "rr=@1;LCG=@2;"
	      MaskInitialization      "\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "|"
	      System {
		Name			"Rudder\n forces\n4-DOF"
		Location		[234, 233, 669, 525]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Lift"
		  SID			  650
		  Position		  [25, 78, 55, 92]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Drag"
		  SID			  651
		  Position		  [25, 33, 55, 47]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  652
		  Position		  [140, 230, 170, 260]
		  BackgroundColor	  "yellow"
		  Value			  "LCG"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  SID			  653
		  Position		  [205, 155, 235, 185]
		  BackgroundColor	  "yellow"
		  Value			  "rr"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  654
		  Position		  [285, 25, 315, 55]
		  BackgroundColor	  "yellow"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  655
		  Position		  [155, 130, 185, 160]
		  BackgroundColor	  "yellow"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  656
		  Ports			  [2, 1]
		  Position		  [260, 212, 290, 243]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  657
		  Ports			  [2, 1]
		  Position		  [265, 137, 295, 168]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Outport
		  Name			  "X"
		  SID			  658
		  Position		  [380, 33, 410, 47]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Y"
		  SID			  659
		  Position		  [385, 78, 415, 92]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "K"
		  SID			  660
		  Position		  [380, 148, 410, 162]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "N"
		  SID			  661
		  Position		  [385, 218, 415, 232]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "X"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Drag"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  Points		  [0, 0]
		  Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 75]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  DstBlock		  "K"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Lift"
		  SrcPort		  1
		  Points		  [75, 0]
		  Branch {
		    DstBlock		    "Y"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "Gain1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [70, 0]
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [0, -5]
		  DstBlock		  "N"
		  DstPort		  1
		}
		Annotation {
		  Name			  "\n\n\n"
		  Position		  [44, 102]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Stabilizer\nFins forces\n4-DOF"
	      SID		      662
	      Ports		      [2, 4]
	      Position		      [480, 149, 535, 231]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Stabilizer Fins"
	      MaskDescription	      "This block calculates the forces and moments on the hull in 4-DOF \ngenerated by a pair "
	      "of fin stabilizers. \nCopyright (C) 2005 NTNU\n Author: Tristan Perez "
	      MaskHelp		      "Nf and Tf are the hydrodynamic forces normal and tangential to the fin.\nThe tilt angle of a  "
	      "fin  is considered zero if the fins are \nparallel to the waterline and pi/2 if they are in a rudder-like posit"
	      "ion. \nRF is the effective radius to calculate the moments produced by of the fins \nwith respect to the CG.\n\n"
	      "Positive fin mechanical angle produces negative roll motion (roll to port).   \nThe fin mechanical angle is pos"
	      "itive  when starborad fin leading edge moves \nup and trailing edge moves down, while the port fin moves in the"
	      " opposite way. \n If the fins are forward from CG then FCG > 0, and  positive fin \nmechanical angles induce a "
	      "positve yaw moment (turn towards starboard). \nIf FCG < 0   positive fin mechanical angles \ninduce a negative "
	      " yaw moment (turn towards port.) "
	      MaskPromptString	      "Tilt angle (rad):|Rf [m]:|Dist Fwrd CG (FCG) [m]:"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "B=@1;rf=@2;FCG=@3;"
	      MaskInitialization      "sinB = sin(B);\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "||"
	      System {
		Name			"Stabilizer\nFins forces\n4-DOF"
		Location		[234, 233, 898, 589]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Nf"
		  SID			  663
		  Position		  [25, 78, 55, 92]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Tf"
		  SID			  664
		  Position		  [25, 33, 55, 47]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  665
		  Position		  [140, 230, 170, 260]
		  BackgroundColor	  "yellow"
		  Value			  "FCG"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  666
		  Position		  [195, 90, 225, 120]
		  BackgroundColor	  "yellow"
		  Value			  "sinB"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant2"
		  SID			  667
		  Position		  [205, 155, 235, 185]
		  BackgroundColor	  "yellow"
		  Value			  "rf"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  668
		  Position		  [285, 25, 315, 55]
		  BackgroundColor	  "yellow"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  669
		  Position		  [155, 130, 185, 160]
		  BackgroundColor	  "yellow"
		  Gain			  "-2"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  670
		  Ports			  [3, 1]
		  Position		  [260, 198, 290, 252]
		  BackgroundColor	  "yellow"
		  Inputs		  "3"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  671
		  Ports			  [2, 1]
		  Position		  [265, 77, 295, 108]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  672
		  Ports			  [2, 1]
		  Position		  [265, 137, 295, 168]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Outport
		  Name			  "X"
		  SID			  673
		  Position		  [380, 33, 410, 47]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Y"
		  SID			  674
		  Position		  [380, 73, 410, 87]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "K"
		  SID			  675
		  Position		  [380, 108, 410, 122]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "N"
		  SID			  676
		  Position		  [380, 148, 410, 162]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  Points		  [65, 0]
		  DstBlock		  "Y"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product"
		  SrcPort		  1
		  Points		  [70, 0]
		  DstBlock		  "N"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  DstBlock		  "Product"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    DstBlock		    "Product"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Nf"
		  SrcPort		  1
		  Points		  [75, 0]
		  Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant2"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [40, -40]
		  DstBlock		  "K"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Tf"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "X"
		  DstPort		  1
		}
		Annotation {
		  Name			  "\n\n\n"
		  Position		  [44, 102]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Steady State Hydrofoil"
	      SID		      677
	      Ports		      [2, 4]
	      Position		      [55, 33, 220, 102]
	      BackgroundColor	      "yellow"
	      AncestorBlock	      "dcmv/Actuators/Hrydrofoil"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Hydrofoil"
	      MaskDescription	      "Model of a hydrofoil. \n\nInputs:\nAng --Effective Angle of Attack    (rad)\nVf -- Fluid"
	      " velocity (m7sec) \n\nOutputs:\nL --Lift force normal to the fluid velocity (N)\nD -- Drag force in the directi"
	      "on of the fluid (N)\nN --force normal to the foil (N)\nT--Force tangential to the foil (N)\n\nParameters: See h"
	      "elp.\nDpendencies MSS/Toolboxes: None\nModel Limitations: See Help.\n\nCopyright (C) 2005  NTNU \nAuthor: Trist"
	      "an Perez \n"
	      MaskHelp		      "web(['file:///' which('Help_Steady_State_Hydrofoil.htm')], '-helpbrowser');"
	      MaskPromptString	      "Aspect ratio:|Area (m^2):|CL(Ang)  Vector:|Ang   Vector (rad):|CD0 (non-dim Drag @ zero"
	      " angle of attack):|Water density  [Kg/m^3]:"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVariables	      "ar=@1;A=@2;CLAE=&3;AE=@4;CD0=@5;rho=@6;"
	      MaskInitialization      "AM = max(AE);"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "|||||"
	      System {
		Name			"Steady State Hydrofoil"
		Location		[234, 233, 1327, 946]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	24
		Block {
		  BlockType		  Inport
		  Name			  "Ang"
		  SID			  1
		  Position		  [30, 83, 60, 97]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Vf "
		  SID			  2
		  Position		  [35, 243, 65, 257]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant1"
		  SID			  3
		  Position		  [560, 95, 590, 125]
		  BackgroundColor	  "yellow"
		  Value			  "CD0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  4
		  Position		  [525, 234, 615, 286]
		  BackgroundColor	  "yellow"
		  Gain			  "0.5*rho*A"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Lookup Table\nCL(Ang)"
		  SID			  5
		  Position		  [215, 65, 265, 115]
		  BackgroundColor	  "yellow"
		  InputValues		  "AE"
		  Table			  "CLAE"
		  LookUpMeth		  "Interpolation-Use End Values"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  SID			  6
		  Ports			  [1, 1]
		  Position		  [350, 65, 380, 95]
		  BackgroundColor	  "yellow"
		  Operator		  "square"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  7
		  Ports			  [2, 1]
		  Position		  [445, 241, 495, 279]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  8
		  Ports			  [2, 1]
		  Position		  [695, 224, 755, 266]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  SID			  9
		  Ports			  [2, 1]
		  Position		  [820, 361, 870, 399]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product4"
		  SID			  10
		  Ports			  [2, 1]
		  Position		  [695, 64, 755, 106]
		  BackgroundColor	  "yellow"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product5"
		  SID			  11
		  Ports			  [2, 1]
		  Position		  [820, 421, 870, 459]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product6"
		  SID			  12
		  Ports			  [2, 1]
		  Position		  [820, 491, 870, 529]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product7"
		  SID			  13
		  Ports			  [2, 1]
		  Position		  [820, 546, 870, 584]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  14
		  Position		  [140, 75, 170, 105]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "AM"
		  LowerLimit		  "-AM"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  15
		  Ports			  [2, 1]
		  Position		  [620, 70, 640, 90]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  16
		  Ports			  [2, 1]
		  Position		  [905, 370, 925, 390]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  17
		  Ports			  [2, 1]
		  Position		  [905, 500, 925, 520]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|-+"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction"
		  SID			  18
		  Ports			  [1, 1]
		  Position		  [495, 375, 525, 405]
		  BackgroundColor	  "yellow"
		  Operator		  "cos"
		}
		Block {
		  BlockType		  Trigonometry
		  Name			  "Trigonometric\nFunction1"
		  SID			  19
		  Ports			  [1, 1]
		  Position		  [390, 430, 420, 460]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Gain
		  Name			  "gain\n"
		  SID			  20
		  Position		  [420, 54, 510, 106]
		  BackgroundColor	  "yellow"
		  Gain			  "1/(0.9*pi*ar)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Lift"
		  SID			  21
		  Position		  [970, 243, 1000, 257]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Drag"
		  SID			  22
		  Position		  [965, 83, 995, 97]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "N"
		  SID			  23
		  Position		  [970, 373, 1000, 387]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T"
		  SID			  24
		  Position		  [975, 508, 1005, 522]
		  BackgroundColor	  "red"
		  Port			  "4"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Lookup Table\nCL(Ang)"
		  SrcPort		  1
		  Points		  [45, 0]
		  Branch {
		    Points		    [0, -10]
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 105; 355, 0; 0, 40]
		    DstBlock		    "Product2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product4"
		  SrcPort		  1
		  Points		  [0, 5; 20, 0]
		  Branch {
		    DstBlock		    "Drag"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 340]
		    Branch {
		    DstBlock		    "Product5"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "Product6"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [40, 0]
		  Branch {
		    Points		    [20, 0]
		    DstBlock		    "Product2"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -165]
		    DstBlock		    "Product4"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Product4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  DstBlock		  "gain\n"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "gain\n"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant1"
		  SrcPort		  1
		  Points		  [35, 0]
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Vf "
		  SrcPort		  1
		  Points		  [300, 0; 25, 0]
		  Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 20]
		    DstBlock		    "Product1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [0, 5]
		  Branch {
		    DstBlock		    "Lift"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 120]
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 185]
		    DstBlock		    "Product7"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product5"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction"
		  SrcPort		  1
		  Points		  [200, 0]
		  Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 130]
		    DstBlock		    "Product6"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Trigonometric\nFunction1"
		  SrcPort		  1
		  Points		  [0, 5; 270, 0]
		  Branch {
		    DstBlock		    "Product5"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 125]
		    DstBlock		    "Product7"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "N"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product6"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product7"
		  SrcPort		  1
		  Points		  [40, 0]
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  Points		  [0, 5]
		  DstBlock		  "T"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "Lookup Table\nCL(Ang)"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Ang"
		  SrcPort		  1
		  Points		  [50, 0]
		  Branch {
		    DstBlock		    "Saturation"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 300]
		    Branch {
		    Points		    [0, 55]
		    DstBlock		    "Trigonometric\nFunction1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Trigonometric\nFunction"
		    DstPort		    1
		    }
		  }
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Environmental\nLoads"
	  SID			  678
	  Ports			  []
	  Position		  [320, 44, 367, 95]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Environmental\nLoads"
	    Location		    [202, 92, 1270, 997]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Force RAO"
	      SID		      679
	      Ports		      [3, 1]
	      Position		      [40, 179, 165, 251]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Force RAO"
	      MaskDescription	      "Calculate the 6 degrees-of-freedom (DOF) wave-frequency excitation forces Tau_WF for a v"
	      "essel from its Force Response Amplitude Operators (Force RAOs) and a sea state defined by a set of harmonic wav"
	      "es. The block takes the \"Waves\" bus from the MSS Waves block as input, as well as the vessel low-frequency (L"
	      "F) motion in terms of the generalized position vector eta_LF and mean surge velocity U. See help for details.\n"
	      "\nCopyright (C) NTNU 2005\nAuthor: Oyvind N. Smogeli, 2005-05-03"
	      MaskHelp		      "<b>Part of the Marine Systems Simulator: MSS</b><br>\n<br>\nCalculate the 6 degrees-of-freedom"
	      " (DOF) wave-frequency excitation forces Tau_WF \nfor a vessel from its Force Response Amplitude Operators (Forc"
	      "e RAOs) and a sea \nstate defined by a set of harmonic waves. The block takes the &quot;Waves&quot; bus from \n"
	      "the MSS Waves block as input, as well as the vessel low-frequency (LF) motion in \nterms of the generalized pos"
	      "ition vector eta_LF and mean surge velocity U.<p>The Force RAOs are defined in terms of a \nvector of frequenci"
	      "es (RAO_Freq), a vector of directions (RAO_Dir), a vector of \nvelocities (RAO_Dir), a 6DOF cell array of 3D ma"
	      "trices with amplitudes \n(RAO_Amp), and a 6DOF cell array of 3D matrices with phases (RAO_Phase), which \nare a"
	      "ll input in the block mask. The first dimension of the 3D matrices \ncorresponds to the frequencies, the second"
	      " to the directions, and the third to \nthe velocities, such that e.g. the amplitude amp in heave (DOF #3) for f"
	      "requency \nnumber n_f, direction number n_d and velocity number n_v can be found from a = \nRAO_Amp{3}(n_f, n_d"
	      ", n_v).</p>\n<p><b>Inputs:</b></p>\n<p>Waves:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;"
	      " Bus \ncontaining the following signals<br>\n&nbsp;&nbsp;&nbsp; Zeta_a:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbs"
	      "p; Vector of harmonic wave amplitudes [m]<br>\n&nbsp;&nbsp;&nbsp; Omega:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Ve"
	      "ctor of harmonic wave frequencies [rad/s]<br>\n&nbsp;&nbsp;&nbsp; Phase:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb"
	      "sp;&nbsp; Vector of harmonic wave phases (random) [rad]<br>\n&nbsp;&nbsp;&nbsp; Wavenum:&nbsp;&nbsp;&nbsp; Vect"
	      "or of harmonic wave numbers [1/m]<br>\n&nbsp;&nbsp;&nbsp; Psi:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&"
	      "nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vector of harmonic wave directions [rad]</p>\n<p>eta_LF:&nbsp;&nbsp;&nbsp;&nbsp;&"
	      "nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \nGeneralized 6DOF n-frame low-frequency position vector [x (m), y (m"
	      "), z (m), \ntheta (rad), phi (rad), psi (rad)]<br>\nU:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb"
	      "sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \nLow-frequency (mean) surge velocity&nbsp; [m/s]</p>"
	      "\n<p><b>Outputs:</b></p>\n<p>tau_WF:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Generalized \n6DOF h"
	      "-frame force vector [X (N), Y (N), Z (N), K (Nm), M (Nm), N (Nm)]</p>\n<p><b>Model validity:</b></p>\n<p>The va"
	      "lidity of the block is dependent on the validity of the given \nRAO data set.</p>\n<p>A proper RAO to be used w"
	      "ith this block should contain at least 1 velocity, 5 \ndirections (e.g. 0, 45, 90, 135 and 180 degrees) and 10-"
	      "20 frequencies, for all \n6 DOF (surge, sway, heave, roll, pitch, yaw).</p>\n<p>The block performs linear inter"
	      "polation in frequencies and directions, and \nuses the data set for the velocity closest to the input velocity "
	      "(i.e. 'nearest' \ninterpolation in velocity). If the block recieves an input wave frequency or relative \nwave "
	      "direction outside the span of the data vectors RAO_Freq or RAO_Dir \nrespectively, the simulation stops and an "
	      "error is returned. This means that a well-defined \nRAO must contain data for both 0 and 180 degrees, and for f"
	      "requencies covering \nthe desired range of wave frequencies. If desired, asymptotic values can be \nautomatical"
	      "ly added for zero and infinity frequency to avoid runtime errors if \nthe wave freqeuncy exceeds the values in "
	      "RAO_Freq (see checkboxes in the mask). </p>\n<p>IMPORTANT NOTE: The RAO theory upon which this block is based i"
	      "s in reality \nonly valid when the vessel low-frequency (h-frame) motion is a constant surge \nvelocity only, a"
	      "nd the vessel is performing wave-frequency oscillations about \nthe steadily translating h-frame.This means tha"
	      "t the outputs from the block when \nmanoeuvering -- i.e. changing the surge velocity and/or yaw angle -- must b"
	      "e \ninterpreted with some care. A jump in the output must be expected when changing \nbetween two velocity data"
	      " sets, and frequency warping expected when changing the \nyaw angle (due to interpolation in the phase). It is "
	      "therefore recommended to \nuse backlash on the input velocity to avoid transient switching, and a quantized \ny"
	      "aw angle with backlash. The latter will lead to jump in the ouput when the yaw \nangle changes from one quantiz"
	      "ed value to another, but will give better results \nwhen keeping within one quantizer interval. The quantized y"
	      "aw angle with \nbacklash and velocity with backlash are available as options via checkboxes in \nthe mask. If e"
	      "ither of these are activated, proper values for the yaw \nquantization interval, yaw backlash width, and the th"
	      "e speed backlash width \nrespectively must be set. Typical values could be a yaw quantization interval of \n5 d"
	      "egrees, yaw backlash width of 1/4-1/5 of the quantization interval, and speed \nbacklash width of 1 m/s. To avo"
	      "id the most rapid transients when switching \nbetween data sets, output smoothing is available as an option in "
	      "the mask. If \nthis is enabled, the output during a transent is rate limited according to the \nfastest recorde"
	      "d signal rate during normal operation.</p>\n<p><b>Example mask input:</b></p><p>\nAs an example, the format of "
	      "the mask input for 2 velocities, 3 directions and 5 \nfrequencies is as follows:<p>RAO_Freq = [f1 f2 f3 f4 f5]<"
	      "br>\nRAO_Dir = [d1 d2 d3]<br>\nRAO_Vel = [v1 v2]<p>Surge:<br>\nRAO_Amp{1}(:,:,1)&nbsp; = [a1_111 a1_121 a1_131;"
	      " a1_211 a1_221 a1_231; a1_311 \na1_321 a1_331; a1_411 a1_421 a1_431; a1_511 a1_521 a1_531]<br>\nRAO_Amp{1}(:,:,"
	      "2)&nbsp; = [a1_112 a1_122 a1_132; a1_212 a1_222 a1_232; a1_312 \na1_322 a1_332; a1_412 a1_422 a1_432; a1_512 a1"
	      "_522 a1_532]<br>\nRAO_Phase{1}(:,:,1) = [p1_111 p1_121 p1_131; p1_211 p1_221 p1_231; p1_311 p1_321 \np1_331; p1"
	      "_411 p1_421 p1_431; p1_511 p1_521 p1_531]<br>\nRAO_Phase{1}(:,:,2) = [p1_112 p1_122 p1_132; p1_212 p1_222 p1_23"
	      "2; p1_312 p1_322 \np1_332; p1_412 p1_422 p1_432; p1_512 p1_522 p1_532]<p>Sway:<br>\nRAO_Amp{2}(:,:,1)&nbsp; = ["
	      "a2_111 a2_121 a2_131; a2_211 a2_221 a2_231; a2_311 \na2_321 a2_331; a2_411 a2_421 a2_431; a2_511 a2_521 a2_531]"
	      "<br>\nRAO_Amp{2}(:,:,2)&nbsp; = [a2_112 a2_122 a2_132; a2_212 a2_222 a2_232; a2_312 \na2_322 a2_332; a2_412 a2_"
	      "422 a2_432; a2_512 a2_522 a2_532]<br>\nRAO_Phase{2}(:,:,1) = [p2_111 p2_121 p2_131; p2_211 p2_221 p2_231; p2_31"
	      "1 p2_321 \np2_331; p2_411 p2_421 p2_431; p2_511 p2_521 p2_531]<br>\nRAO_Phase{2}(:,:,2) = [p2_112 p2_122 p2_132"
	      "; p2_212 p2_222 p2_232; p2_312 p2_322 \np2_332; p2_412 p2_422 p2_432; p2_512 p2_522 p2_532]<p>...<p>Yaw:<br>\nR"
	      "AO_Amp{6}(:,:,1)&nbsp; = [a6_111 a6_121 a6_131; a6_211 a6_221 a6_231; a6_311 \na6_321 a6_331; a6_411 a6_421 a6_"
	      "431; a6_511 a6_521 a6_531]<br>\nRAO_Amp{6}(:,:,2)&nbsp; = [a6_112 a6_122 a6_132; a6_212 a6_222 a6_232; a6_312 \n"
	      "a6_322 a6_332; a6_412 a6_422 a6_432; a6_512 a6_522 a6_532]<br>\nRAO_Phase{6}(:,:,1) = [p6_111 p6_121 p6_131; p6"
	      "_211 p6_221 p6_231; p6_311 p6_321 \np6_331; p6_411 p6_421 p6_431; p6_511 p6_521 p6_531]<br>\nRAO_Phase{6}(:,:,2"
	      ") = [p6_112 p6_122 p6_132; p6_212 p6_222 p6_232; p6_312 p6_322 \np6_332; p6_412 p6_422 p6_432; p6_512 p6_522 p6"
	      "_532]<p>where now for example the \namplitude and phase in sway (DOF 2) for frequency f5, direction d3 and velo"
	      "city \nv1 are given by RAO_Amp{2}(5,3,1) = a2_531 and RAO_Phase{2}(5,3,1) = p2_531.<p>\n<b>Copyright (C) NTNU 2"
	      "005</b></p>\n<p><b>Author:</b> Oyvind N. Smogeli, 2005-05-03</p>\n"
	      MaskPromptString	      "Vector of frequencies RAO_Freq (rad/s)|Vector of directions RAO_Dir (rad)|Vector of vel"
	      "ocities RAO_Vel (m/s)|6DOF Cell array with tables of Amplitudes RAO_Amp|6DOF Cell array with tables of Phases R"
	      "AO_Phase (rad)|Add asymptotic RAO values for omega = 0|Add asymptotic RAO values for omega = inf|LF estimator f"
	      "or yaw angle table lookup (backlash and quantization)|LF yaw angle quantization interval [rad]|LF yaw angle bac"
	      "klash width [rad] (typically 1/4 of the quantization interval)|Speed lookup backlash (avoid rapid speed data sw"
	      "itching)|Speed backlash widht [m/s]|Smooth the output to avoid switching transients due to table lookup"
	      MaskStyleString	      "edit,edit,edit,edit,edit,checkbox,checkbox,checkbox,edit,edit,checkbox,edit,checkbox"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVariables	      "RAO_Freq=@1;RAO_Dir=@2;RAO_Vel=@3;RAO_Amp=@4;RAO_Phase=@5;RAO_add_omega_0=@6;RAO_add_omega"
	      "_inf=@7;RAO_yaw_quantization_flag=@8;RAO_yaw_quant=@9;RAO_yaw_back=@10;RAO_speed_backlash_flag=@11;RAO_speed_ba"
	      "ck=@12;RAO_smoothing_flag=@13;"
	      MaskInitialization      "% Add a second velocity if only one is given in order to avoid run-time errors in the "
	      "table lookup blocks\nif length(RAO_Vel) == 1\n\n	if RAO_Vel == 0 % Add a second identical data set for V = 5 m/"
	      "s\n		RAO_Vel(2) = 5;\n	else % Add a second identical data set for V = 0 m/s\n		RAO_Vel = [0 RAO_Vel];\n	end\n\n"
	      "	for dofno = 1:6\n		RAO_Amp{dofno}(:,:,2) = RAO_Amp{dofno}(:,:,1);\n		RAO_Phase{dofno}(:,:,2) = RAO_Phase{dofno"
	      "}(:,:,1);\n	end\n\nend\n\n% Add RAO values for zero frequency: use values for lowest given frequency\nif RAO_ad"
	      "d_omega_0 > 0\n	\n	if min(RAO_Freq) > 0\n				\n		RAO_Freq = [0 RAO_Freq];\n		\n		for dofno = 1:6\n			RAO_Amp{do"
	      "fno} = [RAO_Amp{dofno}(1,:,:); RAO_Amp{dofno}];\n			RAO_Phase{dofno} = [RAO_Phase{dofno}(1,:,:); RAO_Phase{dofn"
	      "o}];\n		end\n	\n	end\n	\nend\n\n% Add RAO values for high frequency: use values for highest given frequency\nma"
	      "xfreq = 100;\nif RAO_add_omega_inf > 0\n\n	if max(RAO_Freq) < maxfreq\n			\n		newfreq = 2*max(RAO_Freq) - RAO_F"
	      "req(length(RAO_Freq)-1);\n		\n		RAO_Freq = [RAO_Freq newfreq maxfreq];\n		\n		for dofno = 1:6\n			RAO_Amp{dofno"
	      "} = [RAO_Amp{dofno} ; zeros(2, length(RAO_Dir), length(RAO_Vel))];\n			RAO_Phase{dofno} = [RAO_Phase{dofno} ; z"
	      "eros(2, length(RAO_Dir), length(RAO_Vel))];\n		end\n		\n	end\n\nend\n\n\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "vessel.forceRAO.w|vessel.headings|vessel.velocities|vessel.forceRAO.amp|vessel.forceRAO."
	      "phase|on|on|on|10*pi/180|2.5*pi/180|on|1|on"
	      System {
		Name			"Force RAO"
		Location		[202, 92, 1270, 979]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "eta"
		  SID			  680
		  Position		  [15, 63, 45, 77]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "U"
		  SID			  681
		  Position		  [15, 658, 45, 672]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Waves"
		  SID			  682
		  Position		  [15, 375, 45, 385]
		  BackgroundColor	  "green"
		  FontName		  "Arial"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  SID			  683
		  Position		  [725, 70, 755, 100]
		  BackgroundColor	  "yellow"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Backlash
		  Name			  "Backlash"
		  SID			  684
		  Position		  [275, 650, 305, 680]
		  BackgroundColor	  "yellow"
		  BacklashWidth		  "RAO_speed_back"
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector"
		  SID			  685
		  Ports			  [1, 5]
		  Position		  [70, 118, 75, 642]
		  ShowName		  off
		  OutputSignals		  "Psi,Wavenum,Omega,Phase,Zeta_a"
		  Port {
		    PortNumber		    1
		    Name		    "<Psi>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "<Wavenum>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "<Omega>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "<Phase>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "<Zeta_a>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  SID			  686
		  Position		  [530, 445, 550, 465]
		  BackgroundColor	  "green"
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Omega range error"
		  SID			  687
		  Ports			  [1]
		  Position		  [775, 139, 880, 191]
		  BackgroundColor	  "red"
		  SourceBlock		  "marine_gnc/Utilities/Simulation tools/Signal range error"
		  SourceType		  "Signal range error"
		  ShowPortLabels	  "on"
		  Values		  "RAO_Freq"
		  message		  "Wave frequency outside range of RAO table"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Output\nsmoothing\nflag"
		  SID			  688
		  Position		  [1090, 355, 1120, 385]
		  BackgroundColor	  "green"
		  Value			  "RAO_smoothing_flag"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Position phase"
		  SID			  689
		  Ports			  [3, 1]
		  Position		  [350, 150, 485, 260]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/Environmental\nLoads/Utilities/Position phase"
		  SourceType		  "Position Phase"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  690
		  Ports			  [2, 1]
		  Position		  [570, 416, 610, 469]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Psi_r range error"
		  SID			  691
		  Ports			  [1]
		  Position		  [780, 59, 885, 111]
		  BackgroundColor	  "red"
		  SourceBlock		  "marine_gnc/Utilities/Simulation tools/Signal range error"
		  SourceType		  "Signal range error"
		  ShowPortLabels	  "on"
		  Values		  "RAO_Dir"
		  message		  "Relative wave direction outside range of RAO table"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Signal smoothing"
		  SID			  692
		  Ports			  [2, 1]
		  Position		  [965, 296, 1080, 369]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/Environmental\nLoads/Utilities/Signal smoothing"
		  SourceType		  "Signal smoothing"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Speed lookup\ntable"
		  SID			  693
		  Position		  [465, 675, 515, 725]
		  BackgroundColor	  "yellow"
		  InputValues		  "RAO_Vel"
		  Table			  "RAO_Vel"
		  LookUpMeth		  "Use Input Nearest"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Speed quantizer flag"
		  SID			  694
		  Position		  [330, 685, 360, 715]
		  BackgroundColor	  "green"
		  Value			  "RAO_speed_backlash_flag"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  695
		  Ports			  [3, 1]
		  Position		  [640, 435, 660, 455]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  Port {
		    PortNumber		    1
		    Name		    "Phase_tot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  SID			  696
		  Position		  [410, 648, 430, 752]
		  BackgroundColor	  "yellow"
		  Threshold		  "0.5"
		  InputSameDT		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch2"
		  SID			  697
		  Position		  [1180, 318, 1200, 422]
		  BackgroundColor	  "yellow"
		  Threshold		  "0.5"
		  InputSameDT		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Wave component loop"
		  SID			  698
		  Ports			  [6, 2]
		  Position		  [745, 217, 930, 608]
		  BackgroundColor	  "yellow"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Wave component loop"
		    Location		    [207, 80, 1618, 1002]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "number of \niterations"
		    SID			    699
		    Position		    [145, 30, 175, 40]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Psi_r"
		    SID			    700
		    Position		    [45, 158, 75, 172]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Omega"
		    SID			    701
		    Position		    [50, 218, 80, 232]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Phase_tot"
		    SID			    702
		    Position		    [60, 358, 90, 372]
		    BackgroundColor	    "green"
		    Port		    "4"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Zeta_a"
		    SID			    703
		    Position		    [60, 418, 90, 432]
		    BackgroundColor	    "green"
		    Port		    "5"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "U"
		    SID			    704
		    Position		    [460, 268, 490, 282]
		    BackgroundColor	    "green"
		    Port		    "6"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "                "
		    SID			    705
		    Ports		    [1, 1]
		    Position		    [735, 360, 765, 390]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "                1"
		    SID			    706
		    Ports		    [1, 1]
		    Position		    [735, 485, 765, 515]
		    BackgroundColor	    "yellow"
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    ForIterator
		    Name		    "For Iterator"
		    SID			    707
		    Ports		    [1, 1]
		    Position		    [205, 19, 270, 51]
		    BackgroundColor	    "gray"
		    ResetStates		    "reset"
		    IterationSource	    "external"
		    IterationVariableDataType "double"
		    Port {
		    PortNumber		    1
		    Name		    "i=1:N"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    708
		    Position		    [995, 560, 1025, 590]
		    BlockMirror		    on
		    BackgroundColor	    "gray"
		    X0			    "[0 0 0 0 0 0]'"
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    SID			    709
		    Position		    [990, 425, 1020, 455]
		    BlockMirror		    on
		    BackgroundColor	    "gray"
		    X0			    "[0 0 0 0 0 0]'"
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    710
		    Ports		    [2, 1]
		    Position		    [820, 349, 855, 451]
		    BackgroundColor	    "yellow"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    711
		    Ports		    [3, 1]
		    Position		    [820, 484, 855, 586]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product4"
		    SID			    712
		    Ports		    [2, 1]
		    Position		    [735, 398, 765, 447]
		    BackgroundColor	    "yellow"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "RAO tables"
		    SID			    713
		    Ports		    [3, 2]
		    Position		    [520, 176, 635, 294]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Environmental\nLoads/Utilities/RAO tables"
		    SourceType		    "RAO table lookup"
		    ShowPortLabels	    "on"
		    RAO_Freq		    "RAO_Freq"
		    RAO_Dir		    "RAO_Dir"
		    RAO_Vel		    "RAO_Vel"
		    RAO_Amp		    "RAO_Amp"
		    RAO_Phase		    "RAO_Phase"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector2"
		    SID			    714
		    Ports		    [2, 1]
		    Position		    [360, 216, 400, 254]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "omega"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector3"
		    SID			    715
		    Ports		    [2, 1]
		    Position		    [360, 156, 400, 194]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "psi_r"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector4"
		    SID			    716
		    Ports		    [2, 1]
		    Position		    [360, 416, 400, 454]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "zeta_a"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector5"
		    SID			    717
		    Ports		    [2, 1]
		    Position		    [365, 356, 405, 394]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "phase"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    718
		    Ports		    [2, 1]
		    Position		    [950, 525, 970, 545]
		    BlockRotation	    270
		    BackgroundColor	    "gray"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    SID			    719
		    Ports		    [2, 1]
		    Position		    [955, 390, 975, 410]
		    BlockRotation	    270
		    BackgroundColor	    "gray"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum5"
		    SID			    720
		    Ports		    [2, 1]
		    Position		    [640, 365, 660, 385]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tau WF"
		    SID			    721
		    Position		    [1070, 403, 1100, 417]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Tau rate"
		    SID			    722
		    Position		    [1100, 538, 1130, 552]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "                1"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [0, -15; 100, 0; 0, 40]
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Tau rate"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [-30, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product4"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    Points		    [0, 110]
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "                "
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    Name		    "psi_r"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector3"
		    SrcPort		    1
		    Points		    [60, 0; 0, 20]
		    DstBlock		    "RAO tables"
		    DstPort		    1
		    }
		    Line {
		    Name		    "omega"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector2"
		    SrcPort		    1
		    Points		    [45, 0]
		    Branch {
		    Points		    [0, 335]
		    DstBlock		    "Product3"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "RAO tables"
		    DstPort		    2
		    }
		    }
		    Line {
		    Name		    "phase"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector5"
		    SrcPort		    1
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    Points		    [-20, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    Points		    [0, -10; 80, 0; 0, 35]
		    Branch {
		    DstBlock		    "Tau WF"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "number of \niterations"
		    SrcPort		    1
		    DstBlock		    "For Iterator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Omega"
		    SrcPort		    1
		    DstBlock		    "Selector2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "i=1:N"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "For Iterator"
		    SrcPort		    1
		    Points		    [40, 0; 0, 150]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 140]
		    Branch {
		    Points		    [0, 60]
		    DstBlock		    "Selector4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [30, 0]
		    DstBlock		    "Selector5"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Selector2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Selector3"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Psi_r"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Selector3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "U"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "RAO tables"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "RAO tables"
		    SrcPort		    1
		    Points		    [55, 0; 0, 205]
		    DstBlock		    "Product4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "RAO tables"
		    SrcPort		    2
		    Points		    [10, 0]
		    DstBlock		    "Sum5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Phase_tot"
		    SrcPort		    1
		    DstBlock		    "Selector5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Zeta_a"
		    SrcPort		    1
		    DstBlock		    "Selector4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum5"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "                1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "                "
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "zeta_a"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector4"
		    SrcPort		    1
		    DstBlock		    "Product4"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Width
		  Name			  "Width"
		  SID			  723
		  Position		  [700, 235, 730, 265]
		  BackgroundColor	  "yellow"
		  DataType		  "int32"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Yaw quantizer"
		  SID			  724
		  Ports			  [2, 1]
		  Position		  [175, 52, 290, 123]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/Environmental\nLoads/Utilities/Yaw quantizer"
		  SourceType		  "Yaw quantizer"
		  ShowPortLabels	  "on"
		  quant_flag		  "RAO_yaw_quantization_flag"
		  quant			  "RAO_yaw_quant"
		  back			  "RAO_yaw_back"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  725
		  Ports			  [1, 1]
		  Position		  [370, 298, 490, 332]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Selector
		  Name			  "yaw angle"
		  SID			  726
		  Ports			  [1, 1]
		  Position		  [100, 51, 140, 89]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "6"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tau WF"
		  SID			  727
		  Position		  [1225, 363, 1255, 377]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Wave component loop"
		  SrcPort		  2
		  Points		  [15, 0]
		  DstBlock		  "Signal smoothing"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Signal smoothing"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Wave component loop"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    DstBlock		    "Signal smoothing"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -40; 205, 0; 0, 130]
		    DstBlock		    "Switch2"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Switch2"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "tau WF"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Output\nsmoothing\nflag"
		  SrcPort		  1
		  DstBlock		  "Switch2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Psi_r range error"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [170, 0]
		  Branch {
		    Points		    [0, -230]
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Wave component loop"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "eta"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    DstBlock		    "yaw angle"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 170]
		    DstBlock		    "Position phase"
		    DstPort		    3
		  }
		}
		Line {
		  Name			  "<Wavenum>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  2
		  Points		  [65, 0; 0, -70]
		  DstBlock		  "Position phase"
		  DstPort		  2
		}
		Line {
		  Name			  "<Phase>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  4
		  Points		  [570, 0]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Waves"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "<Psi>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  1
		  Points		  [75, 0]
		  Branch {
		    DstBlock		    "Position phase"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -65]
		    DstBlock		    "Yaw quantizer"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  Name			  "<Omega>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  3
		  Points		  [455, 0]
		  Branch {
		    Points		    [145, 0]
		    Branch {
		    DstBlock		    "Wave component loop"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -130; 0, 0]
		    Branch {
		    Points		    [0, -85]
		    DstBlock		    "Omega range error"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Width"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "Phase_tot"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Wave component loop"
		  DstPort		  4
		}
		Line {
		  Name			  "<Zeta_a>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  5
		  Points		  [505, 0; 0, -80]
		  DstBlock		  "Wave component loop"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Width"
		  SrcPort		  1
		  DstBlock		  "Wave component loop"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "U"
		  SrcPort		  1
		  Points		  [185, 0]
		  Branch {
		    DstBlock		    "Backlash"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Position phase"
		  SrcPort		  1
		  Points		  [160, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Yaw quantizer"
		  SrcPort		  1
		  Points		  [25, 0; 0, 225]
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "yaw angle"
		  SrcPort		  1
		  DstBlock		  "Yaw quantizer"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Speed quantizer flag"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Backlash"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Speed lookup\ntable"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Speed lookup\ntable"
		  SrcPort		  1
		  Points		  [140, 0; 0, -125]
		  DstBlock		  "Wave component loop"
		  DstPort		  6
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Isherwood (1972) wind data"
	      SID		      728
	      Ports		      [2, 1]
	      Position		      [45, 374, 165, 441]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Isherwood wind forces"
	      MaskDescription	      "Computation of the wind force/moment vector tau_wind in 6 DOF using the wind coeffisient"
	      "s of Isherwood (1972). The data file: Isherwood.m is loaded under initialization. \n\nReference: \n\nR. M. Ishe"
	      "rwood (1972). Wind Resistance of Merchant Ships. RINA Trans. Vol. 115, pp. 327-338."
	      MaskHelp		      "Computation of the wind force/moment vector tau_wind in 6 DOF using the wind coeffisients of I"
	      "sherwood (1972). The data file: Isherwood.m is loaded under initialization. \n\nReference: \n\nR. M. Isherwood "
	      "(1972). Wind Resistance of Merchant Ships. RINA Trans. Vol. 115, pp. 327-338."
	      MaskPromptString	      "L_oa: length overall (m)|B: beam (m)|A_T: transverse (xy-plane) projected area (m^2)|A_"
	      "L:  lateral (xz-plane) projected area (m^2)|A_SS: lateral projected area of superstructure (m^2)|S: length of c"
	      "urve surrounding A_L minus A_wl  (exclude masts/ventilators)  (m)|C: positive distance from bow to area center "
	      "of A_L (m)|M: number of distinct groups of masts or king posts seen in lateral projection"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on"
	      MaskCallbackString      "|||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on"
	      MaskVariables	      "L=@1;B=@2;A_T=@3;A_L=@4;A_SS=@5;S=@6;C=@7;M=@8;"
	      MaskInitialization      "eval('isherwood72')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "100|10|100|800|200|130|30|0"
	      System {
		Name			"Isherwood (1972) wind data"
		Location		[202, 81, 1376, 990]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "gamma_r"
		  SID			  729
		  Position		  [40, 183, 70, 197]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "V_r"
		  SID			  730
		  Position		  [35, 38, 65, 52]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Product
		  Name			  "0.5*rho_a*V_r*V_r"
		  SID			  731
		  Ports			  [2, 1]
		  Position		  [440, 29, 485, 96]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Constant
		  Name			  "A0-A6"
		  SID			  732
		  Position		  [235, 394, 335, 426]
		  BackgroundColor	  "green"
		  Value			  "[1 2 3 4 5 6 7]"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  SID			  733
		  Position		  [165, 320, 195, 350]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Constant
		  Name			  "B0-B6"
		  SID			  734
		  Position		  [245, 589, 345, 621]
		  BackgroundColor	  "green"
		  Value			  "[1 2 3 4 5 6 7]"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "C0-C5"
		  SID			  735
		  Position		  [235, 779, 335, 811]
		  BackgroundColor	  "green"
		  Value			  "[1 2 3 4 5 6]"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn"
		  SID			  736
		  Position		  [610, 360, 670, 390]
		  BackgroundColor	  "yellow"
		  Expr			  "u(1) + u(2)*2*A_L/L^2 + u(3)*2*A_T/B^2 + u(4)*(L/B) + u(5)*(S/L) + u(6)*(C/L) + u(7)*M"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn1"
		  SID			  737
		  Position		  [615, 555, 675, 585]
		  BackgroundColor	  "yellow"
		  Expr			  "-(u(1) + u(2)*2*A_L/L^2 + u(3)*2*A_T/B^2 + u(4)*(L/B) + u(5)*(S/L) + u(6)*(C/L) + u(7)*A_SS/A_L)"
		}
		Block {
		  BlockType		  Fcn
		  Name			  "Fcn2"
		  SID			  738
		  Position		  [615, 745, 675, 775]
		  BackgroundColor	  "yellow"
		  Expr			  "-(u(1) + u(2)*2*A_L/L^2 + u(3)*2*A_T/B^2 + u(4)*(L/B) + u(5)*(S/L) + u(6)*(C/L))"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  739
		  Position		  [125, 109, 170, 141]
		  BackgroundColor	  "yellow"
		  Gain			  "0.5"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Ground
		  Name			  "Ground"
		  SID			  740
		  Position		  [960, 585, 980, 605]
		  BackgroundColor	  "green"
		}
		Block {
		  BlockType		  If
		  Name			  "If"
		  SID			  741
		  Ports			  [1, 2]
		  Position		  [945, 169, 1045, 211]
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		  IfExpression		  "u1 < 0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "If gamm_r > 0 \nthen feedthrough"
		  SID			  742
		  Ports			  [1, 1, 0, 0, 0, 0, 0, 1]
		  Position		  [1155, 229, 1230, 271]
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "If gamm_r > 0 \nthen feedthrough"
		    Location		    [668, 454, 1166, 754]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "6 DOF"
		    SID			    743
		    Position		    [35, 123, 65, 137]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    ActionPort
		    Name		    "Action Port"
		    SID			    744
		    Position		    [170, 15, 229, 43]
		    BackgroundColor	    "[0.752941, 0.752941, 0.752941]"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "6 DOF  "
		    SID			    745
		    Position		    [330, 123, 360, 137]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "6 DOF"
		    SrcPort		    1
		    DstBlock		    "6 DOF  "
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "If gamma_r <0\nthen change sign"
		  SID			  746
		  Ports			  [1, 1, 0, 0, 0, 0, 0, 1]
		  Position		  [1230, 309, 1305, 351]
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "If gamma_r <0\nthen change sign"
		    Location		    [482, 111, 1849, 1092]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "6 DOF"
		    SID			    747
		    Position		    [55, 123, 85, 137]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    ActionPort
		    Name		    "Action Port"
		    SID			    748
		    Position		    [320, 15, 379, 43]
		    BackgroundColor	    "[0.752941, 0.752941, 0.752941]"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    749
		    Position		    [50, 195, 165, 225]
		    BackgroundColor	    "yellow"
		    Value		    "[1 -1 1 -1 1 -1]"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product"
		    SID			    750
		    Ports		    [2, 1]
		    Position		    [295, 121, 340, 154]
		    BackgroundColor	    "yellow"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "6 DOF  "
		    SID			    751
		    Position		    [555, 133, 585, 147]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [55, 0; 0, -65]
		    DstBlock		    "Product"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product"
		    SrcPort		    1
		    DstBlock		    "6 DOF  "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "6 DOF"
		    SrcPort		    1
		    DstBlock		    "Product"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Lookup2D
		  Name			  "Look-Up Table\nCN-data"
		  SID			  752
		  Position		  [375, 683, 570, 832]
		  BackgroundColor	  "yellow"
		  RowIndex		  "gamma_r_iserwood"
		  ColumnIndex		  "[1:6]"
		  Table			  "CN_data"
		  InputSameDT		  off
		  OutDataTypeMode	  "double"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "double"
		}
		Block {
		  BlockType		  Lookup2D
		  Name			  "Look-Up Table\nCX-data"
		  SID			  753
		  Position		  [375, 298, 570, 447]
		  BackgroundColor	  "yellow"
		  RowIndex		  "gamma_r_iserwood"
		  ColumnIndex		  "[1:7]"
		  Table			  "CX_data"
		  InputSameDT		  off
		  OutDataTypeMode	  "double"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "double"
		}
		Block {
		  BlockType		  Lookup2D
		  Name			  "Look-Up Table\nCY-data"
		  SID			  754
		  Position		  [380, 493, 575, 642]
		  BackgroundColor	  "yellow"
		  RowIndex		  "gamma_r_iserwood"
		  ColumnIndex		  "[1:7]"
		  Table			  "CY_data"
		  InputSameDT		  off
		  OutDataTypeMode	  "double"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "double"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  SID			  755
		  Ports			  [1, 1]
		  Position		  [260, 30, 290, 60]
		  BackgroundColor	  "yellow"
		  Operator		  "square"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Merge
		  Name			  "Merge"
		  SID			  756
		  Ports			  [2, 1]
		  Position		  [1340, 300, 1380, 340]
		  BackgroundColor	  "[0.752941, 0.752941, 0.752941]"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  757
		  Ports			  [6, 1]
		  Position		  [1010, 494, 1020, 666]
		  ShowName		  off
		  Inputs		  "6"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "N"
		  SID			  758
		  Ports			  [4, 1]
		  Position		  [860, 634, 910, 781]
		  BackgroundColor	  "yellow"
		  Inputs		  "4"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  SID			  759
		  Position		  [465, 175, 495, 205]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  760
		  Ports			  [2, 1]
		  Position		  [110, 180, 130, 200]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Transformation of\ngeneralized force"
		  SID			  761
		  Ports			  [2, 1]
		  Position		  [1100, 385, 1160, 470]
		  BlockRotation		  270
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Transformation of\ngeneralized force"
		  SourceType		  "Transformation of generalized force"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Product
		  Name			  "X"
		  SID			  762
		  Ports			  [3, 1]
		  Position		  [845, 288, 895, 392]
		  BackgroundColor	  "yellow"
		  Inputs		  "3"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Y"
		  SID			  763
		  Ports			  [3, 1]
		  Position		  [860, 482, 905, 588]
		  BackgroundColor	  "yellow"
		  Inputs		  "3"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  764
		  Ports			  [1, 1]
		  Position		  [155, 166, 255, 214]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Constant
		  Name			  "density of air"
		  SID			  765
		  Position		  [30, 109, 85, 141]
		  BackgroundColor	  "green"
		  Value			  "rho_a"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "lateral projected area"
		  SID			  766
		  Position		  [735, 519, 790, 551]
		  BackgroundColor	  "green"
		  Value			  "A_L"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "length over all"
		  SID			  767
		  Position		  [755, 709, 810, 741]
		  BackgroundColor	  "green"
		  Value			  "L"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "m/s 2 knots"
		  SID			  768
		  Position		  [120, 25, 210, 65]
		  BackgroundColor	  "yellow"
		  Gain			  "1.9438"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "sign correction"
		  SID			  769
		  Position		  [955, 405, 985, 435]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "sign correction "
		  SID			  770
		  Position		  [1030, 870, 1060, 900]
		  BackgroundColor	  "yellow"
		  Gain			  "-1"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "transverse projected area"
		  SID			  771
		  Position		  [745, 324, 800, 356]
		  BackgroundColor	  "green"
		  Value			  "A_T"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "wind attack point w.r.t. CO"
		  SID			  772
		  Position		  [820, 865, 950, 905]
		  BackgroundColor	  "green"
		  Value			  "[0  0 -4]"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "wind relative bow\ncorrection"
		  SID			  773
		  Position		  [30, 234, 85, 266]
		  BackgroundColor	  "green"
		  Value			  "pi"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "tau_wind"
		  SID			  774
		  Position		  [1410, 313, 1440, 327]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "sign correction"
		  SrcPort		  1
		  Points		  [0, 65]
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [25, 0]
		  Branch {
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 110; -165, 0; 0, 35]
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "wind relative bow\ncorrection"
		  SrcPort		  1
		  Points		  [30, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Ground"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    5
		    }
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		  }
		  Branch {
		    DstBlock		    "Mux"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [90, 0]
		  DstBlock		  "Transformation of\ngeneralized force"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Merge"
		  SrcPort		  1
		  DstBlock		  "tau_wind"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "sign correction "
		  SrcPort		  1
		  Points		  [80, 0]
		  DstBlock		  "Transformation of\ngeneralized force"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "wind attack point w.r.t. CO"
		  SrcPort		  1
		  DstBlock		  "sign correction "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  DstBlock		  "If"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "If gamm_r > 0 \nthen feedthrough"
		  SrcPort		  1
		  Points		  [80, 0; 0, 60]
		  DstBlock		  "Merge"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "If gamma_r <0\nthen change sign"
		  SrcPort		  1
		  DstBlock		  "Merge"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "If"
		  SrcPort		  1
		  Points		  [215, 0]
		  DstBlock		  "If gamma_r <0\nthen change sign"
		  DstPort		  ifaction
		}
		Line {
		  SrcBlock		  "If"
		  SrcPort		  2
		  Points		  [140, 0]
		  DstBlock		  "If gamm_r > 0 \nthen feedthrough"
		  DstPort		  ifaction
		}
		Line {
		  SrcBlock		  "Transformation of\ngeneralized force"
		  SrcPort		  1
		  Points		  [-10, 0; 0, -50]
		  Branch {
		    Points		    [0, -80]
		    DstBlock		    "If gamm_r > 0 \nthen feedthrough"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "If gamma_r <0\nthen change sign"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    Points		    [0, 195]
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "Look-Up Table\nCN-data"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Look-Up Table\nCY-data"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [55, 0]
		    DstBlock		    "Look-Up Table\nCX-data"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "m/s 2 knots"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "length over all"
		  SrcPort		  1
		  DstBlock		  "N"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "N"
		  SrcPort		  1
		  Points		  [70, 0; 0, -55]
		  DstBlock		  "Mux"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "Y"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "lateral projected area"
		  SrcPort		  1
		  Points		  [0, 0; 35, 0]
		  Branch {
		    Points		    [0, 120]
		    DstBlock		    "N"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Y"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "X"
		  SrcPort		  1
		  Points		  [70, 0]
		  DstBlock		  "sign correction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "transverse projected area"
		  SrcPort		  1
		  DstBlock		  "X"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "0.5*rho_a*V_r*V_r"
		  SrcPort		  1
		  Points		  [220, 0; 0, 240]
		  Branch {
		    Points		    [0, 195]
		    Branch {
		    Points		    [0, 190]
		    DstBlock		    "N"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Y"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "X"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [155, 0; 0, -45]
		  DstBlock		  "0.5*rho_a*V_r*V_r"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  DstBlock		  "0.5*rho_a*V_r*V_r"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "V_r"
		  SrcPort		  1
		  DstBlock		  "m/s 2 knots"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "density of air"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Fcn2"
		  SrcPort		  1
		  DstBlock		  "N"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Fcn1"
		  SrcPort		  1
		  DstBlock		  "Y"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Fcn"
		  SrcPort		  1
		  DstBlock		  "X"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "gamma_r"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Look-Up Table\nCN-data"
		  SrcPort		  1
		  DstBlock		  "Fcn2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Look-Up Table\nCY-data"
		  SrcPort		  1
		  DstBlock		  "Fcn1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "C0-C5"
		  SrcPort		  1
		  DstBlock		  "Look-Up Table\nCN-data"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "B0-B6"
		  SrcPort		  1
		  DstBlock		  "Look-Up Table\nCY-data"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Look-Up Table\nCX-data"
		  SrcPort		  1
		  DstBlock		  "Fcn"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "A0-A6"
		  SrcPort		  1
		  DstBlock		  "Look-Up Table\nCX-data"
		  DstPort		  2
		}
		Annotation {
		  Name			  "6 DOF wind forces and moments using the formulas of Isherwood (1972). \nWind coefficients are loaded fro"
		  "m the data file: Iserwood72.m\n\nFossen 2004"
		  Position		  [231, 931]
		  BackgroundColor	  "lightBlue"
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Motion RAO"
	      SID		      775
	      Ports		      [3, 3]
	      Position		      [40, 274, 165, 346]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Motion RAO"
	      MaskDescription	      "Calculate the wave-frequency motion of a vessel in 6 degrees-of-freedom (DOF) from its M"
	      "otion Response Amplitude Operators (Motion RAOs) and a sea state defined by a set of harmonic waves. The block "
	      "takes the \"Waves\" bus from the MSS Waves block as input, as well as the vessel low-frequency (LF) motion in t"
	      "erms of the generalized position vector eta_LF and mean surge velocity U. See help for details.\n\nCopyright (C"
	      ") NTNU 2005\nAuthor: Oyvind N. Smogeli, 2005-05-03"
	      MaskHelp		      "<b>Part of the Marine Systems Simulator: MSS</b><br>\n<br>\nCalculate the wave-frequency motio"
	      "n of a vessel in 6 degrees-of-freedom (DOF) \nfrom its Motion Response Amplitude Operators (Motion RAOs) and a "
	      "sea state \ndefined by a set of harmonic waves. The block takes the &quot;Waves&quot; bus from the MSS \nWaves "
	      "block as input, as well as the vessel low-frequency (LF) motion in terms \nof the generalized position vector E"
	      "ta_LF and surge velocity U.<p>\nThe Motion RAOs are defined in terms of a vector of frequencies (RAO_Freq), a \n"
	      "vector of directions (RAO_Dir), a vector of velocities (RAO_Dir), a 6DOF cell \narray of 3D matrices with ampli"
	      "tudes (RAO_Amp), and a 6DOF cell array of 3D \nmatrices with phases (RAO_Phase), which are all input in the blo"
	      "ck mask. The \nfirst dimension of the 3D matrices corresponds to the frequencies, the second to \nthe direction"
	      "s, and the third to the velocities, such that e.g. the amplitude \namp in heave (DOF #3) for frequency number n"
	      "_f, direction number n_d and \nvelocity number n_v can be found from a = RAO_Amp{3}(n_f, n_d, n_v). </p>\n<p><b"
	      ">Inputs:</b></p>\n<p>Waves:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Bus \ncontaining "
	      "the following signals<br>\n&nbsp;&nbsp;&nbsp; Zeta_a:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vector of harmo"
	      "nic wave amplitudes [m]<br>\n&nbsp;&nbsp;&nbsp; Omega:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vector of harmonic w"
	      "ave frequencies [rad/s]<br>\n&nbsp;&nbsp;&nbsp; Phase:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Vector o"
	      "f harmonic wave phases (random) [rad]<br>\n&nbsp;&nbsp;&nbsp; Wavenum:&nbsp;&nbsp;&nbsp; Vector of harmonic wav"
	      "e numbers [1/m]<br>\n&nbsp;&nbsp;&nbsp; Psi:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&"
	      "nbsp;&nbsp; Vector of harmonic wave directions [rad]</p>\n<p>eta_LF:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&"
	      "nbsp;&nbsp;&nbsp;&nbsp; \nGeneralized 6DOF n-frame low-frequency position vector [x (m), y (m), z (m), \ntheta "
	      "(rad), phi (rad), psi (rad)]<br>\nU:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nb"
	      "sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; \nLow-frequency (mean) surge velocity&nbsp; [m/s]</p>\n<p><b>Outputs:</"
	      "b></p>\n<p>eta_WF:&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Generalized \n6DOF n-frame wave-freque"
	      "ncy position vector [x (m), y (m), z (m), theta (rad), \nphi (rad), psi (rad)]<br>\nnu_WF:&nbsp;&nbsp;&nbsp;&nb"
	      "sp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Generalized \n6DOF h-frame wave-frequency velocity vector [u (m/s), v ("
	      "m/s), w (m/s), p \n(rad/s), q (rad/s), r (rad/s)]<br>\nnu_dot_WF:&nbsp;&nbsp;&nbsp;&nbsp; Generalized 6DOF h-fr"
	      "ame wave-frequency \nacceleration vector d/dt([u (m/s), v (m/s), w (m/s), p (rad/s), q (rad/s), r \n(rad/s)])</"
	      "p>\n<p><b>Model validity:</b></p>\n<p>The validity of the block is dependent on the validity of the given \nRAO"
	      " data set.</p>\n<p>A proper RAO to be used with this block should contain at least 1 velocity, 5 \ndirections ("
	      "e.g. 0, 45, 90, 135 and 180 degrees) and 10-20 frequencies, for all \n6 DOF (surge, sway, heave, roll, pitch, y"
	      "aw).</p>\n<p>The block performs linear interpolation in frequencies and directions, and \nuses the data set for"
	      " the velocity closest to the input velocity (i.e. 'nearest' \ninterpolation in velocity). If the block recieves"
	      " an input wave frequency or relative \nwave direction outside the span of the data vectors RAO_Freq or RAO_Dir "
	      "\nrespectively, the simulation stops and an error is returned. This means that a well-defined \nRAO must contai"
	      "n data for both 0 and 180 degrees, and for frequencies covering \nthe desired range of wave frequencies. If des"
	      "ired, asymptotic values can be \nautomatically added for zero and infinity frequency to avoid runtime errors if"
	      " \nthe wave freqeuncy exceeds the values in RAO_Freq (see checkboxes in the mask). </p>\n<p>IMPORTANT NOTE: The"
	      " RAO theory upon which this block is based is in reality \nonly valid when the vessel low-frequency (h-frame) m"
	      "otion is a constant surge \nvelocity only, and the vessel is performing wave-frequency oscillations about \nthe"
	      " steadily translating h-frame.This means that the outputs from the block when \nmanoeuvering -- i.e. changing t"
	      "he surge velocity and/or yaw angle -- must be \ninterpreted with some care. A jump in the output must be expect"
	      "ed when changing \nbetween two velocity data sets, and frequency warping expected when changing the \nyaw angle"
	      " (due to interpolation in the phase). It is therefore recommended to \nuse backlash on the input velocity to av"
	      "oid transient switching, and a quantized \nyaw angle with backlash. The latter will lead to jump in the ouput w"
	      "hen the yaw \nangle changes from one quantizied value to another, but will give better results \nwhen keeping w"
	      "ithin one quantizer interval. The quantized yaw angle with \nbacklash and velocity with backlash are available "
	      "as options via checkboxes in \nthe mask. If either of these are activated, proper values for the yaw \nquantiza"
	      "tion interval, yaw backlash width, and the the speed backlash width \nrespectively must be set. Typical values "
	      "could be a yaw quantization interval of \n5 degrees, yaw backlash width of 1/4-1/5 of the quantization interval"
	      ", and speed \nbacklash width of 1 m/s. To avoid the most rapid transients when switching \nbetween data sets, o"
	      "utput smoothing is available as an option in the mask. If \nthis is enabled, the output during a transent is ra"
	      "te limited according to the \nfastest recorded signal rate during normal operation.</p>\n<p><b>Example mask inp"
	      "ut:</b></p><p>\nAs an example, the format of the mask input for 2 velocities, 3 directions and 5 \nfrequencies "
	      "is as follows:<p>RAO_Freq = [f1 f2 f3 f4 f5]<br>\nRAO_Dir = [d1 d2 d3]<br>\nRAO_Vel = [v1 v2]<p>Surge:<br>\nRAO"
	      "_Amp{1}(:,:,1)&nbsp; = [a1_111 a1_121 a1_131; a1_211 a1_221 a1_231; a1_311 \na1_321 a1_331; a1_411 a1_421 a1_43"
	      "1; a1_511 a1_521 a1_531]<br>\nRAO_Amp{1}(:,:,2)&nbsp; = [a1_112 a1_122 a1_132; a1_212 a1_222 a1_232; a1_312 \na"
	      "1_322 a1_332; a1_412 a1_422 a1_432; a1_512 a1_522 a1_532]<br>\nRAO_Phase{1}(:,:,1) = [p1_111 p1_121 p1_131; p1_"
	      "211 p1_221 p1_231; p1_311 p1_321 \np1_331; p1_411 p1_421 p1_431; p1_511 p1_521 p1_531]<br>\nRAO_Phase{1}(:,:,2)"
	      " = [p1_112 p1_122 p1_132; p1_212 p1_222 p1_232; p1_312 p1_322 \np1_332; p1_412 p1_422 p1_432; p1_512 p1_522 p1_"
	      "532]<p>Sway:<br>\nRAO_Amp{2}(:,:,1)&nbsp; = [a2_111 a2_121 a2_131; a2_211 a2_221 a2_231; a2_311 \na2_321 a2_331"
	      "; a2_411 a2_421 a2_431; a2_511 a2_521 a2_531]<br>\nRAO_Amp{2}(:,:,2)&nbsp; = [a2_112 a2_122 a2_132; a2_212 a2_2"
	      "22 a2_232; a2_312 \na2_322 a2_332; a2_412 a2_422 a2_432; a2_512 a2_522 a2_532]<br>\nRAO_Phase{2}(:,:,1) = [p2_1"
	      "11 p2_121 p2_131; p2_211 p2_221 p2_231; p2_311 p2_321 \np2_331; p2_411 p2_421 p2_431; p2_511 p2_521 p2_531]<br>"
	      "\nRAO_Phase{2}(:,:,2) = [p2_112 p2_122 p2_132; p2_212 p2_222 p2_232; p2_312 p2_322 \np2_332; p2_412 p2_422 p2_4"
	      "32; p2_512 p2_522 p2_532]<p>....<p>Yaw:<br>\nRAO_Amp{6}(:,:,1)&nbsp; = [a6_111 a6_121 a6_131; a6_211 a6_221 a6_"
	      "231; a6_311 \na6_321 a6_331; a6_411 a6_421 a6_431; a6_511 a6_521 a6_531]<br>\nRAO_Amp{6}(:,:,2)&nbsp; = [a6_112"
	      " a6_122 a6_132; a6_212 a6_222 a6_232; a6_312 \na6_322 a6_332; a6_412 a6_422 a6_432; a6_512 a6_522 a6_532]<br>\n"
	      "RAO_Phase{6}(:,:,1) = [p6_111 p6_121 p6_131; p6_211 p6_221 p6_231; p6_311 p6_321 \np6_331; p6_411 p6_421 p6_431"
	      "; p6_511 p6_521 p6_531]<br>\nRAO_Phase{6}(:,:,2) = [p6_112 p6_122 p6_132; p6_212 p6_222 p6_232; p6_312 p6_322 \n"
	      "p6_332; p6_412 p6_422 p6_432; p6_512 p6_522 p6_532]<p>where now for example the \namplitude and phase in sway ("
	      "DOF 2) for frequency f5, direction d3 and velocity \nv1 are given by RAO_Amp{2}(5,3,1) = a2_531 and RAO_Phase{2"
	      "}(5,3,1) = p2_531.<p>\n<b>Copyright (C) NTNU 2005</b></p>\n<p><b>Author:</b> Oyvind N. Smogeli, 2005-05-03</p><"
	      "/body>\n"
	      MaskPromptString	      "Vector of frequencies RAO_Freq (rad/s)|Vector of directions RAO_Dir (rad)|Vector of vel"
	      "ocities RAO_Vel (m/s)|6DOF Cell array with tables of Amplitudes RAO_Amp|6DOF Cell array with tables of Phases R"
	      "AO_Phase (rad)|Add asymptotic RAO values for omega = 0|Add asymptotic RAO values for omega = inf|LF estimator f"
	      "or yaw angle table lookup (backlash and quantization)|LF yaw angle quantization interval [rad]|LF yaw angle bac"
	      "klash width [rad] (typically 1/4 of the quantization interval)|Speed lookup backlash (avoid rapid speed data sw"
	      "itching)|Speed backlash widht [m/s]|Smooth the output to avoid switching transients due to table lookup"
	      MaskStyleString	      "edit,edit,edit,edit,edit,checkbox,checkbox,checkbox,edit,edit,checkbox,edit,checkbox"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskCallbackString      "||||||||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on,on,on,on,on,on"
	      MaskVariables	      "RAO_Freq=@1;RAO_Dir=@2;RAO_Vel=@3;RAO_Amp=@4;RAO_Phase=@5;RAO_add_omega_0=@6;RAO_add_omega"
	      "_inf=@7;RAO_yaw_quantization_flag=@8;RAO_yaw_quant=@9;RAO_yaw_back=@10;RAO_speed_backlash_flag=@11;RAO_speed_ba"
	      "ck=@12;RAO_smoothing_flag=@13;"
	      MaskInitialization      "% Add a second velocity if only one is given in order to avoid run-time errors in the "
	      "table lookup blocks\nif length(RAO_Vel) == 1\n\n	if RAO_Vel == 0 % Add a second identical data set for V = 5 m/"
	      "s\n		RAO_Vel(2) = 5;\n	else % Add a second identical data set for V = 0 m/s\n		RAO_Vel = [0 RAO_Vel];\n	end\n\n"
	      "	for dofno = 1:6\n		RAO_Amp{dofno}(:,:,2) = RAO_Amp{dofno}(:,:,1);\n		RAO_Phase{dofno}(:,:,2) = RAO_Phase{dofno"
	      "}(:,:,1);\n	end\n\nend\n\n% Add RAO values for zero frequency: use values for lowest given frequency\nif RAO_ad"
	      "d_omega_0 > 0\n	\n	if min(RAO_Freq) > 0\n				\n		RAO_Freq = [0 RAO_Freq];\n		\n		for dofno = 1:6\n			RAO_Amp{do"
	      "fno} = [RAO_Amp{dofno}(1,:,:); RAO_Amp{dofno}];\n			RAO_Phase{dofno} = [RAO_Phase{dofno}(1,:,:); RAO_Phase{dofn"
	      "o}];\n		end\n	\n	end\n	\nend\n\n% Add RAO values for high frequency: use values for highest given frequency\nma"
	      "xfreq = 100;\nif RAO_add_omega_inf > 0\n\n	if max(RAO_Freq) < maxfreq\n			\n		newfreq = 2*max(RAO_Freq) - RAO_F"
	      "req(length(RAO_Freq)-1);\n		\n		RAO_Freq = [RAO_Freq newfreq maxfreq];\n		\n		for dofno = 1:6\n			RAO_Amp{dofno"
	      "} = [RAO_Amp{dofno} ; zeros(2, length(RAO_Dir), length(RAO_Vel))];\n			RAO_Phase{dofno} = [RAO_Phase{dofno} ; z"
	      "eros(2, length(RAO_Dir), length(RAO_Vel))];\n		end\n		\n	end\n\nend\n\n\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "vessel.motionRAO.w|vessel.headings|vessel.velocities|vessel.motionRAO.amp|vessel.motionR"
	      "AO.phase|on|on|off|10*pi/180|2.5*pi/180|off|2|on"
	      System {
		Name			"Motion RAO"
		Location		[202, 92, 1270, 979]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "eta LF"
		  SID			  776
		  Position		  [20, 58, 50, 72]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "U"
		  SID			  777
		  Position		  [20, 678, 50, 692]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Waves"
		  SID			  778
		  Position		  [15, 375, 45, 385]
		  BackgroundColor	  "green"
		  FontName		  "Arial"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "6DOF rotation\nmatrix in yaw"
		  SID			  779
		  Ports			  [2, 1]
		  Position		  [1140, 223, 1235, 307]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "6DOF rotation\nmatrix in yaw"
		    Location		    [202, 78, 1678, 1000]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "psi"
		    SID			    780
		    Position		    [315, 48, 345, 62]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "V"
		    SID			    781
		    Position		    [85, 73, 115, 87]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    782
		    Ports		    [2, 1]
		    Position		    [550, 50, 555, 130]
		    ShowName		    off
		    Inputs		    "2"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Rotation matrix\nin yaw"
		    SID			    783
		    Ports		    [2, 1]
		    Position		    [405, 41, 495, 94]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/ Kinematics/Rotation matrix\nin yaw "
		    SourceType		    "Unknown"
		    ShowPortLabels	    "on"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector"
		    SID			    784
		    Ports		    [1, 1]
		    Position		    [230, 130, 270, 190]
		    BackgroundColor	    "yellow"
		    InputPortWidth	    "6"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[4 5 6]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector2"
		    SID			    785
		    Ports		    [1, 1]
		    Position		    [230, 52, 270, 108]
		    BackgroundColor	    "yellow"
		    InputPortWidth	    "6"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "[1 2 3]"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "R(psi)*V"
		    SID			    786
		    Position		    [635, 83, 665, 97]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Rotation matrix\nin yaw"
		    SrcPort		    1
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "V"
		    SrcPort		    1
		    Points		    [0, 0; 35, 0]
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Selector"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Selector2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "psi"
		    SrcPort		    1
		    DstBlock		    "Rotation matrix\nin yaw"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector2"
		    SrcPort		    1
		    DstBlock		    "Rotation matrix\nin yaw"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "R(psi)*V"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Selector"
		    SrcPort		    1
		    Points		    [260, 0]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Abs
		  Name			  "Abs"
		  SID			  787
		  Position		  [705, 80, 735, 110]
		  BackgroundColor	  "yellow"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Backlash
		  Name			  "Backlash"
		  SID			  788
		  Position		  [240, 670, 270, 700]
		  BackgroundColor	  "yellow"
		  BacklashWidth		  "RAO_speed_back"
		}
		Block {
		  BlockType		  BusSelector
		  Name			  "Bus\nSelector"
		  SID			  789
		  Ports			  [1, 5]
		  Position		  [70, 118, 75, 642]
		  ShowName		  off
		  OutputSignals		  "Psi,Wavenum,Omega,Phase,Zeta_a"
		  Port {
		    PortNumber		    1
		    Name		    "<Psi>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "<Wavenum>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "<Omega>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "<Phase>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "<Zeta_a>"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Clock
		  Name			  "Clock"
		  SID			  790
		  Position		  [540, 445, 560, 465]
		  BackgroundColor	  "green"
		  Decimation		  "10"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Omega range error"
		  SID			  791
		  Ports			  [1]
		  Position		  [760, 144, 865, 196]
		  BackgroundColor	  "red"
		  SourceBlock		  "marine_gnc/Utilities/Simulation tools/Signal range error"
		  SourceType		  "Signal range error"
		  ShowPortLabels	  "on"
		  Values		  "RAO_Freq"
		  message		  "Wave frequency outside range of RAO table"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Output smoothing"
		  SID			  792
		  Ports			  [4, 3]
		  Position		  [980, 220, 1100, 605]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Output smoothing"
		    Location		    [205, 90, 1673, 995]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "eta_h WF"
		    SID			    793
		    Position		    [65, 53, 95, 67]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "nu WF "
		    SID			    794
		    Position		    [60, 218, 90, 232]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "nu_dot WF "
		    SID			    795
		    Position		    [60, 373, 90, 387]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "nu_dot rate"
		    SID			    796
		    Position		    [65, 478, 95, 492]
		    BackgroundColor	    "green"
		    Port		    "4"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Output\nsmoothing\nflag"
		    SID			    797
		    Position		    [295, 100, 325, 130]
		    BackgroundColor	    "green"
		    Value		    "RAO_smoothing_flag"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Signal smoothing"
		    SID			    798
		    Ports		    [2, 1]
		    Position		    [170, 41, 285, 114]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Environmental\nLoads/Utilities/Signal smoothing"
		    SourceType		    "Signal smoothing"
		    ShowPortLabels	    "on"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Signal smoothing1"
		    SID			    799
		    Ports		    [2, 1]
		    Position		    [165, 206, 280, 279]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Environmental\nLoads/Utilities/Signal smoothing"
		    SourceType		    "Signal smoothing"
		    ShowPortLabels	    "on"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Signal smoothing2"
		    SID			    800
		    Ports		    [2, 1]
		    Position		    [165, 361, 280, 434]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Environmental\nLoads/Utilities/Signal smoothing"
		    SourceType		    "Signal smoothing"
		    ShowPortLabels	    "on"
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch1"
		    SID			    801
		    Position		    [385, 228, 405, 332]
		    BackgroundColor	    "yellow"
		    Threshold		    "0.5"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch2"
		    SID			    802
		    Position		    [385, 63, 405, 167]
		    BackgroundColor	    "yellow"
		    Threshold		    "0.5"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch3"
		    SID			    803
		    Position		    [380, 383, 400, 487]
		    BackgroundColor	    "yellow"
		    Threshold		    "0.5"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "eta_h WF "
		    SID			    804
		    Position		    [460, 108, 490, 122]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "nu WF"
		    SID			    805
		    Position		    [465, 273, 495, 287]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "nu_dot WF"
		    SID			    806
		    Position		    [465, 428, 495, 442]
		    BackgroundColor	    "red"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Switch1"
		    SrcPort		    1
		    DstBlock		    "nu WF"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Switch3"
		    SrcPort		    1
		    DstBlock		    "nu_dot WF"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "nu_dot rate"
		    SrcPort		    1
		    Points		    [25, 0; 0, -70]
		    DstBlock		    "Signal smoothing2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Signal smoothing2"
		    SrcPort		    1
		    DstBlock		    "Switch3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "nu_dot WF "
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, -30]
		    Branch {
		    Points		    [230, 0]
		    DstBlock		    "Switch3"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "Signal smoothing1"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Signal smoothing2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Switch2"
		    SrcPort		    1
		    DstBlock		    "eta_h WF "
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Signal smoothing1"
		    SrcPort		    1
		    DstBlock		    "Switch1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "nu WF "
		    SrcPort		    1
		    Points		    [40, 0]
		    Branch {
		    Points		    [0, -35]
		    Branch {
		    Points		    [230, 0; 0, 125]
		    DstBlock		    "Switch1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -95]
		    DstBlock		    "Signal smoothing"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Signal smoothing1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "eta_h WF"
		    SrcPort		    1
		    Points		    [35, 0]
		    Branch {
		    Points		    [0, -35; 230, 0; 0, 125]
		    DstBlock		    "Switch2"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Signal smoothing"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Signal smoothing"
		    SrcPort		    1
		    DstBlock		    "Switch2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Output\nsmoothing\nflag"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    Points		    [0, 165]
		    Branch {
		    Points		    [0, 155]
		    DstBlock		    "Switch3"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Switch1"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Switch2"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "Position phase"
		  SID			  807
		  Ports			  [3, 1]
		  Position		  [315, 151, 450, 259]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/Environmental\nLoads/Utilities/Position phase"
		  SourceType		  "Position Phase"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product1"
		  SID			  808
		  Ports			  [2, 1]
		  Position		  [585, 418, 630, 467]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Psi_r range error"
		  SID			  809
		  Ports			  [1]
		  Position		  [760, 69, 865, 121]
		  BackgroundColor	  "red"
		  SourceBlock		  "marine_gnc/Utilities/Simulation tools/Signal range error"
		  SourceType		  "Signal range error"
		  ShowPortLabels	  "on"
		  Values		  "RAO_Dir"
		  message		  "Relative wave direction outside range of RAO table"
		}
		Block {
		  BlockType		  Lookup
		  Name			  "Speed lookup\ntable"
		  SID			  810
		  Position		  [430, 695, 480, 745]
		  BackgroundColor	  "yellow"
		  InputValues		  "RAO_Vel"
		  Table			  "RAO_Vel"
		  LookUpMeth		  "Use Input Nearest"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Speed quantizer flag"
		  SID			  811
		  Position		  [295, 705, 325, 735]
		  BackgroundColor	  "green"
		  Value			  "RAO_speed_backlash_flag"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  812
		  Ports			  [3, 1]
		  Position		  [650, 435, 670, 455]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  Port {
		    PortNumber		    1
		    Name		    "Phase_tot"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch1"
		  SID			  813
		  Position		  [375, 668, 395, 772]
		  BackgroundColor	  "yellow"
		  Threshold		  "0.5"
		  InputSameDT		  off
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Wave component loop"
		  SID			  814
		  Ports			  [6, 4]
		  Position		  [760, 217, 950, 608]
		  BackgroundColor	  "yellow"
		  TreatAsAtomicUnit	  on
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Wave component loop"
		    Location		    [205, 90, 1673, 995]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "number of \niterations"
		    SID			    815
		    Position		    [30, 645, 60, 655]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Psi_r"
		    SID			    816
		    Position		    [50, 78, 80, 92]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Omega"
		    SID			    817
		    Position		    [50, 218, 80, 232]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Phase_tot"
		    SID			    818
		    Position		    [60, 358, 90, 372]
		    BackgroundColor	    "green"
		    Port		    "4"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Zeta_a"
		    SID			    819
		    Position		    [60, 538, 90, 552]
		    BackgroundColor	    "green"
		    Port		    "5"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "U"
		    SID			    820
		    Position		    [340, 268, 370, 282]
		    BackgroundColor	    "green"
		    Port		    "6"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "              "
		    SID			    821
		    Ports		    [1, 1]
		    Position		    [740, 490, 770, 520]
		    BackgroundColor	    "yellow"
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "                "
		    SID			    822
		    Ports		    [1, 1]
		    Position		    [745, 360, 775, 390]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "                1"
		    SID			    823
		    Ports		    [1, 1]
		    Position		    [745, 625, 775, 655]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "              1"
		    SID			    824
		    Ports		    [1, 1]
		    Position		    [750, 755, 780, 785]
		    BackgroundColor	    "yellow"
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    ForIterator
		    Name		    "For Iterator"
		    SID			    825
		    Ports		    [1, 1]
		    Position		    [100, 634, 165, 666]
		    BackgroundColor	    "gray"
		    ResetStates		    "reset"
		    IterationSource	    "external"
		    IterationVariableDataType "double"
		    Port {
		    PortNumber		    1
		    Name		    "i=1:N"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain"
		    SID			    826
		    Position		    [515, 665, 545, 695]
		    BackgroundColor	    "yellow"
		    Gain		    "-1"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain1"
		    SID			    827
		    Position		    [515, 780, 545, 810]
		    BackgroundColor	    "yellow"
		    Gain		    "-1"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction"
		    SID			    828
		    Ports		    [1, 1]
		    Position		    [455, 665, 485, 695]
		    BackgroundColor	    "yellow"
		    Operator		    "magnitude^2"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Math
		    Name		    "Math\nFunction1"
		    SID			    829
		    Ports		    [1, 1]
		    Position		    [455, 780, 485, 810]
		    BackgroundColor	    "yellow"
		    Operator		    "magnitude^2"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory1"
		    SID			    830
		    Position		    [925, 550, 955, 580]
		    BlockMirror		    on
		    BackgroundColor	    "gray"
		    X0			    "[0 0 0 0 0 0]'"
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory2"
		    SID			    831
		    Position		    [925, 425, 955, 455]
		    BlockMirror		    on
		    BackgroundColor	    "gray"
		    X0			    "[0 0 0 0 0 0]'"
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory3"
		    SID			    832
		    Position		    [925, 685, 955, 715]
		    BlockMirror		    on
		    BackgroundColor	    "gray"
		    X0			    "[0 0 0 0 0 0]'"
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Memory
		    Name		    "Memory4"
		    SID			    833
		    Position		    [925, 815, 955, 845]
		    BlockMirror		    on
		    BackgroundColor	    "gray"
		    X0			    "[0 0 0 0 0 0]'"
		    InheritSampleTime	    on
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    834
		    Ports		    [3, 1]
		    Position		    [820, 490, 860, 570]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    835
		    Ports		    [3, 1]
		    Position		    [825, 625, 865, 705]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    836
		    Ports		    [2, 1]
		    Position		    [625, 511, 675, 544]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product4"
		    SID			    837
		    Ports		    [3, 1]
		    Position		    [815, 360, 855, 440]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product5"
		    SID			    838
		    Ports		    [2, 1]
		    Position		    [630, 633, 680, 697]
		    BackgroundColor	    "yellow"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product6"
		    SID			    839
		    Ports		    [3, 1]
		    Position		    [825, 755, 865, 835]
		    BackgroundColor	    "yellow"
		    Inputs		    "3"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product7"
		    SID			    840
		    Ports		    [3, 1]
		    Position		    [635, 763, 685, 827]
		    BackgroundColor	    "yellow"
		    Inputs		    "***"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "RAO tables"
		    SID			    841
		    Ports		    [3, 2]
		    Position		    [400, 176, 515, 294]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Environmental\nLoads/Utilities/RAO tables"
		    SourceType		    "RAO table lookup"
		    ShowPortLabels	    "on"
		    RAO_Freq		    "RAO_Freq"
		    RAO_Dir		    "RAO_Dir"
		    RAO_Vel		    "RAO_Vel"
		    RAO_Amp		    "RAO_Amp"
		    RAO_Phase		    "RAO_Phase"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector2"
		    SID			    842
		    Ports		    [2, 1]
		    Position		    [205, 216, 245, 254]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "omega"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector3"
		    SID			    843
		    Ports		    [2, 1]
		    Position		    [205, 76, 245, 114]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "psi_r"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector4"
		    SID			    844
		    Ports		    [2, 1]
		    Position		    [210, 536, 250, 574]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "zeta_a"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "Selector5"
		    SID			    845
		    Ports		    [2, 1]
		    Position		    [210, 356, 250, 394]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (port)"
		    Indices		    "[1 3]"
		    OutputSizes		    "1"
		    Port {
		    PortNumber		    1
		    Name		    "phase"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum1"
		    SID			    846
		    Ports		    [2, 1]
		    Position		    [895, 520, 915, 540]
		    BlockRotation	    270
		    BackgroundColor	    "gray"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum2"
		    SID			    847
		    Ports		    [2, 1]
		    Position		    [900, 655, 920, 675]
		    BlockRotation	    270
		    BackgroundColor	    "gray"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum3"
		    SID			    848
		    Ports		    [2, 1]
		    Position		    [900, 785, 920, 805]
		    BlockRotation	    270
		    BackgroundColor	    "gray"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum4"
		    SID			    849
		    Ports		    [2, 1]
		    Position		    [890, 390, 910, 410]
		    BlockRotation	    270
		    BackgroundColor	    "gray"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum5"
		    SID			    850
		    Ports		    [2, 1]
		    Position		    [525, 365, 545, 385]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "++|"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "eta_h WF"
		    SID			    851
		    Position		    [1005, 403, 1035, 417]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "nu WF"
		    SID			    852
		    Position		    [1010, 528, 1040, 542]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "nu_dot WF"
		    SID			    853
		    Position		    [1010, 668, 1040, 682]
		    BackgroundColor	    "red"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "nu_dot rate"
		    SID			    854
		    Position		    [1015, 798, 1045, 812]
		    BackgroundColor	    "red"
		    Port		    "4"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Product7"
		    SrcPort		    1
		    DstBlock		    "Product6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "              1"
		    SrcPort		    1
		    DstBlock		    "Product6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction1"
		    SrcPort		    1
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain1"
		    SrcPort		    1
		    DstBlock		    "Product7"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Memory4"
		    SrcPort		    1
		    Points		    [-10, 0]
		    DstBlock		    "Sum3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product6"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Sum3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum3"
		    SrcPort		    1
		    Points		    [0, -5; 65, 0; 0, 30]
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "nu_dot rate"
		    DstPort		    1
		    }
		    }
		    Line {
		    Name		    "psi_r"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector3"
		    SrcPort		    1
		    Points		    [135, 0]
		    DstBlock		    "RAO tables"
		    DstPort		    1
		    }
		    Line {
		    Name		    "omega"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector2"
		    SrcPort		    1
		    Points		    [75, 0]
		    Branch {
		    Points		    [0, 300]
		    Branch {
		    Points		    [0, 145]
		    Branch {
		    Points		    [0, 115]
		    Branch {
		    Points		    [0, 50; 265, 0; 0, -30]
		    DstBlock		    "Product7"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Math\nFunction1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Math\nFunction"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "RAO tables"
		    DstPort		    2
		    }
		    }
		    Line {
		    Name		    "phase"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector5"
		    SrcPort		    1
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product4"
		    SrcPort		    1
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory2"
		    SrcPort		    1
		    Points		    [-20, 0]
		    DstBlock		    "Sum4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum4"
		    SrcPort		    1
		    Points		    [0, -10; 80, 0; 0, 35]
		    Branch {
		    DstBlock		    "eta_h WF"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Memory2"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "number of \niterations"
		    SrcPort		    1
		    DstBlock		    "For Iterator"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Omega"
		    SrcPort		    1
		    DstBlock		    "Selector2"
		    DstPort		    1
		    }
		    Line {
		    Name		    "i=1:N"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "For Iterator"
		    SrcPort		    1
		    Points		    [15, 0; 0, -85]
		    Branch {
		    Points		    [0, -180]
		    Branch {
		    Points		    [0, -140]
		    Branch {
		    Points		    [0, -140]
		    DstBlock		    "Selector3"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "Selector2"
		    DstPort		    2
		    }
		    }
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "Selector5"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Selector4"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "Psi_r"
		    SrcPort		    1
		    DstBlock		    "Selector3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "U"
		    SrcPort		    1
		    DstBlock		    "RAO tables"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "RAO tables"
		    SrcPort		    1
		    Points		    [65, 0; 0, 195]
		    Branch {
		    DstBlock		    "Product4"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 120]
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    Points		    [0, 125]
		    DstBlock		    "Product7"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Product5"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "RAO tables"
		    SrcPort		    2
		    Points		    [15, 0]
		    DstBlock		    "Sum5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Phase_tot"
		    SrcPort		    1
		    DstBlock		    "Selector5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Zeta_a"
		    SrcPort		    1
		    DstBlock		    "Selector4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum5"
		    SrcPort		    1
		    Points		    [170, 0]
		    Branch {
		    DstBlock		    "                "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 130]
		    Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "              1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "                1"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "              "
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "                "
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Product4"
		    DstPort		    1
		    }
		    Line {
		    Name		    "zeta_a"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Selector4"
		    SrcPort		    1
		    Points		    [535, 0]
		    Branch {
		    Points		    [0, 135]
		    Branch {
		    Points		    [0, 130]
		    DstBlock		    "Product6"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    3
		    }
		    }
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -130]
		    DstBlock		    "Product4"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "              "
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory1"
		    SrcPort		    1
		    Points		    [-15, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum1"
		    SrcPort		    1
		    Points		    [0, -10; 70, 0; 0, 30]
		    Branch {
		    DstBlock		    "nu WF"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 30]
		    DstBlock		    "Memory1"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    DstBlock		    "Sum1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Memory3"
		    SrcPort		    1
		    Points		    [-10, 0]
		    DstBlock		    "Sum2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    DstBlock		    "Sum2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum2"
		    SrcPort		    1
		    Points		    [0, -5; 65, 0; 0, 30]
		    Branch {
		    DstBlock		    "nu_dot WF"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 25]
		    DstBlock		    "Memory3"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "                1"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Math\nFunction"
		    SrcPort		    1
		    DstBlock		    "Gain"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Gain"
		    SrcPort		    1
		    DstBlock		    "Product5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product5"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  Width
		  Name			  "Width"
		  SID			  855
		  Position		  [705, 235, 735, 265]
		  BackgroundColor	  "yellow"
		  DataType		  "int32"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Yaw quantizer"
		  SID			  856
		  Ports			  [2, 1]
		  Position		  [160, 49, 275, 111]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/Environmental\nLoads/Utilities/Yaw quantizer"
		  SourceType		  "Yaw quantizer"
		  ShowPortLabels	  "on"
		  quant_flag		  "RAO_yaw_quantization_flag"
		  quant			  "RAO_yaw_quant"
		  back			  "RAO_yaw_back"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  857
		  Ports			  [1, 1]
		  Position		  [325, 298, 445, 332]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Selector
		  Name			  "yaw angle"
		  SID			  858
		  Ports			  [1, 1]
		  Position		  [80, 46, 120, 84]
		  BackgroundColor	  "yellow"
		  InputPortWidth	  "6"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "6"
		  OutputSizes		  "1"
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta WF"
		  SID			  859
		  Position		  [1255, 258, 1285, 272]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu WF"
		  SID			  860
		  Position		  [1130, 408, 1160, 422]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu_dot WF"
		  SID			  861
		  Position		  [1130, 538, 1160, 552]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Output smoothing"
		  SrcPort		  1
		  DstBlock		  "6DOF rotation\nmatrix in yaw"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Wave component loop"
		  SrcPort		  4
		  DstBlock		  "Output smoothing"
		  DstPort		  4
		}
		Line {
		  SrcBlock		  "Wave component loop"
		  SrcPort		  1
		  DstBlock		  "Output smoothing"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Output smoothing"
		  SrcPort		  3
		  DstBlock		  "nu_dot WF"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Output smoothing"
		  SrcPort		  2
		  DstBlock		  "nu WF"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "eta LF"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    DstBlock		    "yaw angle"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 40; 75, 0; 0, 135]
		    DstBlock		    "Position phase"
		    DstPort		    3
		  }
		}
		Line {
		  Name			  "<Wavenum>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  2
		  Points		  [30, 0; 0, -70]
		  DstBlock		  "Position phase"
		  DstPort		  2
		}
		Line {
		  Name			  "<Phase>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  4
		  Points		  [580, 0]
		  DstBlock		  "Sum"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Waves"
		  SrcPort		  1
		  DstBlock		  "Bus\nSelector"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product1"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  Name			  "<Psi>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  1
		  Points		  [65, 0]
		  Branch {
		    DstBlock		    "Position phase"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Yaw quantizer"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Clock"
		  SrcPort		  1
		  DstBlock		  "Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "yaw angle"
		  SrcPort		  1
		  Points		  [5, 0]
		  Branch {
		    Points		    [0, -35; 985, 0; 0, 215]
		    DstBlock		    "6DOF rotation\nmatrix in yaw"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Yaw quantizer"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "<Omega>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  3
		  Points		  [390, 0]
		  Branch {
		    Points		    [220, 0]
		    Branch {
		    DstBlock		    "Wave component loop"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, -130; 0, 0]
		    Branch {
		    DstBlock		    "Width"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -80]
		    DstBlock		    "Omega range error"
		    DstPort		    1
		    }
		    }
		  }
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Product1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "6DOF rotation\nmatrix in yaw"
		  SrcPort		  1
		  DstBlock		  "eta WF"
		  DstPort		  1
		}
		Line {
		  Name			  "Phase_tot"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "Wave component loop"
		  DstPort		  4
		}
		Line {
		  Name			  "<Zeta_a>"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Bus\nSelector"
		  SrcPort		  5
		  Points		  [605, 0; 0, -80]
		  DstBlock		  "Wave component loop"
		  DstPort		  5
		}
		Line {
		  SrcBlock		  "Width"
		  SrcPort		  1
		  DstBlock		  "Wave component loop"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "U"
		  SrcPort		  1
		  Points		  [95, 0]
		  Branch {
		    DstBlock		    "Backlash"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "Switch1"
		    DstPort		    3
		  }
		}
		Line {
		  SrcBlock		  "Wave component loop"
		  SrcPort		  2
		  DstBlock		  "Output smoothing"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Wave component loop"
		  SrcPort		  3
		  DstBlock		  "Output smoothing"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Abs"
		  SrcPort		  1
		  DstBlock		  "Psi_r range error"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Yaw quantizer"
		  SrcPort		  1
		  Points		  [20, 0; 0, 235]
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [230, 0]
		  Branch {
		    DstBlock		    "Wave component loop"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -220]
		    DstBlock		    "Abs"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Speed quantizer flag"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Switch1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Backlash"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Switch1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Switch1"
		  SrcPort		  1
		  DstBlock		  "Speed lookup\ntable"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Speed lookup\ntable"
		  SrcPort		  1
		  Points		  [220, 0; 0, -145]
		  DstBlock		  "Wave component loop"
		  DstPort		  6
		}
		Line {
		  SrcBlock		  "Position phase"
		  SrcPort		  1
		  Points		  [205, 0]
		  DstBlock		  "Sum"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Utilities"
	      SID		      862
	      Ports		      []
	      Position		      [40, 17, 145, 153]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Utilities"
		Location		[202, 92, 1270, 997]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  SubSystem
		  Name			  "Position phase"
		  SID			  863
		  Ports			  [3, 1]
		  Position		  [85, 153, 200, 247]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "Position Phase"
		  MaskDescription	  "Calculate the phase delay due to the vessel LF position."
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Position phase"
		    Location		    [202, 86, 1670, 1030]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "psi wave"
		    SID			    864
		    Position		    [15, 33, 45, 47]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "wavenum"
		    SID			    865
		    Position		    [350, 118, 380, 132]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "eta LF"
		    SID			    866
		    Position		    [35, 173, 65, 187]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    867
		    Ports		    [2, 1]
		    Position		    [240, 28, 285, 77]
		    BackgroundColor	    "yellow"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product6"
		    SID			    868
		    Ports		    [2, 1]
		    Position		    [235, 118, 280, 167]
		    BackgroundColor	    "yellow"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product7"
		    SID			    869
		    Ports		    [2, 1]
		    Position		    [425, 88, 470, 137]
		    BackgroundColor	    "yellow"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum5"
		    SID			    870
		    Ports		    [2, 1]
		    Position		    [295, 90, 315, 110]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "cos"
		    SID			    871
		    Ports		    [1, 1]
		    Position		    [90, 115, 120, 145]
		    BackgroundColor	    "yellow"
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "sin"
		    SID			    872
		    Ports		    [1, 1]
		    Position		    [95, 25, 125, 55]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "x-position"
		    SID			    873
		    Ports		    [1, 1]
		    Position		    [160, 136, 200, 174]
		    BackgroundColor	    "yellow"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "1"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Selector
		    Name		    "y-position"
		    SID			    874
		    Ports		    [1, 1]
		    Position		    [160, 46, 200, 84]
		    BackgroundColor	    "yellow"
		    InputPortWidth	    "6"
		    IndexOptions	    "Index vector (dialog)"
		    Indices		    "2"
		    OutputSizes		    "1"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "pos phase"
		    SID			    875
		    Position		    [585, 108, 615, 122]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "wavenum"
		    SrcPort		    1
		    DstBlock		    "Product7"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product7"
		    SrcPort		    1
		    DstBlock		    "pos phase"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "eta LF"
		    SrcPort		    1
		    Points		    [65, 0; 0, -25]
		    Branch {
		    Points		    [0, -90]
		    DstBlock		    "y-position"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "x-position"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "psi wave"
		    SrcPort		    1
		    Points		    [0, 0; 5, 0]
		    Branch {
		    Points		    [0, 90]
		    DstBlock		    "cos"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "sin"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Product6"
		    SrcPort		    1
		    Points		    [20, 0]
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "y-position"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "x-position"
		    SrcPort		    1
		    DstBlock		    "Product6"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "cos"
		    SrcPort		    1
		    DstBlock		    "Product6"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "sin"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [15, 0]
		    DstBlock		    "Sum5"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum5"
		    SrcPort		    1
		    DstBlock		    "Product7"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "RAO tables"
		  SID			  876
		  Ports			  [3, 2]
		  Position		  [80, 16, 195, 134]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "RAO table lookup"
		  MaskDescription	  "Perform 3D table lookup in 6DOF RAO amplitudes and phases, using the relative wave heading psi_"
		  "r, wave frequency omega and vessel velocity vel as inputs. See documentation of the Motion RAO block or Force RAO "
		  "block for details. A warning is issued if the input is outside the range spanned by the RAOs.\n\nCopyright (C) NTN"
		  "U 2005\n\nAuthor: Oyvind N. Smogeli, 2005-05-03"
		  MaskPromptString	  "Vector of frequencies (rad/s)|Vector of directions (rad)|Vector of velocities (m/s)|6DOF Cell "
		  "array with tables of Amplitudes|6DOF Cell array with tables of Phases (rad)"
		  MaskStyleString	  "edit,edit,edit,edit,edit"
		  MaskTunableValueString  "on,on,on,on,on"
		  MaskCallbackString	  "||||"
		  MaskEnableString	  "on,on,on,on,on"
		  MaskVisibilityString	  "on,on,on,on,on"
		  MaskToolTipString	  "on,on,on,on,on"
		  MaskVariables		  "RAO_Freq=@1;RAO_Dir=@2;RAO_Vel=@3;RAO_Amp=@4;RAO_Phase=@5;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "RAO_Freq|RAO_Dir|RAO_Vel|RAO_Amp|RAO_Phase"
		  System {
		    Name		    "RAO tables"
		    Location		    [202, 82, 1653, 1004]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "psi_r"
		    SID			    877
		    Position		    [15, 108, 45, 122]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "omega"
		    SID			    878
		    Position		    [45, 78, 75, 92]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "U"
		    SID			    879
		    Position		    [30, 153, 60, 167]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    SID			    880
		    Position		    [265, 100, 295, 130]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Amplitude table\nlookup1"
		    SID			    881
		    Ports		    [3, 1]
		    Position		    [450, 77, 515, 133]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Amp{1}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "Warning"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Amplitude table\nlookup2"
		    SID			    882
		    Ports		    [3, 1]
		    Position		    [560, 152, 625, 208]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Amp{2}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Amplitude table\nlookup3"
		    SID			    883
		    Ports		    [3, 1]
		    Position		    [455, 212, 520, 268]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Amp{3}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Amplitude table\nlookup4"
		    SID			    884
		    Ports		    [3, 1]
		    Position		    [565, 287, 630, 343]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Amp{4}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Amplitude table\nlookup5"
		    SID			    885
		    Ports		    [3, 1]
		    Position		    [455, 342, 520, 398]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Amp {5}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Amplitude table\nlookup6"
		    SID			    886
		    Ports		    [3, 1]
		    Position		    [555, 422, 620, 478]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Amp{6}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux1"
		    SID			    887
		    Ports		    [6, 1]
		    Position		    [910, 102, 915, 158]
		    ShowName		    off
		    Inputs		    "6"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux2"
		    SID			    888
		    Ports		    [6, 1]
		    Position		    [915, 507, 920, 563]
		    ShowName		    off
		    Inputs		    "6"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Phase table\nlookup1"
		    SID			    889
		    Ports		    [3, 1]
		    Position		    [455, 482, 515, 538]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Phase{1}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Phase table\nlookup2"
		    SID			    890
		    Ports		    [3, 1]
		    Position		    [530, 557, 590, 613]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Phase{2}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Phase table\nlookup3"
		    SID			    891
		    Ports		    [3, 1]
		    Position		    [455, 637, 515, 693]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Phase{3}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Phase table\nlookup4"
		    SID			    892
		    Ports		    [3, 1]
		    Position		    [540, 727, 600, 783]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Phase{4}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Phase table\nlookup5"
		    SID			    893
		    Ports		    [3, 1]
		    Position		    [450, 787, 510, 843]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Phase{5}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Phase table\nlookup6"
		    SID			    894
		    Ports		    [3, 1]
		    Position		    [535, 867, 595, 923]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Lookup\nTables/Lookup\nTable (n-D)"
		    SourceType		    "LookupNDInterp"
		    numDimsPopupSelect	    "   3   "
		    bp1			    "RAO_Freq"
		    bp2			    "RAO_Dir"
		    bp3			    "RAO_Vel"
		    bp4			    "[1:3]"
		    bpcell		    "{ [1:3], [1:3] }"
		    explicitNumDims	    "2"
		    searchMode		    "Binary Search"
		    cacheBpFlag		    "off"
		    vectorInputFlag	    "off"
		    tableData		    "RAO_Phase{6}"
		    interpMethod	    "Linear"
		    extrapMethod	    "Linear"
		    rangeErrorMode	    "None"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product1"
		    SID			    895
		    Ports		    [2, 1]
		    Position		    [755, 156, 805, 189]
		    BackgroundColor	    "yellow"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product2"
		    SID			    896
		    Ports		    [2, 1]
		    Position		    [765, 291, 815, 324]
		    BackgroundColor	    "yellow"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "Product3"
		    SID			    897
		    Ports		    [2, 1]
		    Position		    [765, 426, 815, 459]
		    BackgroundColor	    "yellow"
		    Inputs		    "**"
		    InputSameDT		    off
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Signum
		    Name		    "Sign"
		    SID			    898
		    Position		    [610, 40, 640, 70]
		    BackgroundColor	    "yellow"
		    NamePlacement	    "alternate"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "[-inf inf] to [-pi pi]"
		    SID			    899
		    Ports		    [1, 1]
		    Position		    [100, 98, 220, 132]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		    SourceType		    "[-inf inf] to [-pi pi]"
		    ShowPortLabels	    "on"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "amp"
		    SID			    900
		    Position		    [940, 123, 970, 137]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "phase"
		    SID			    901
		    Position		    [940, 528, 970, 542]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Amplitude table\nlookup1"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "Mux1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "omega"
		    SrcPort		    1
		    Points		    [320, 0]
		    Branch {
		    DstBlock		    "Amplitude table\nlookup1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Phase table\nlookup1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 90]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Phase table\nlookup5"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Phase table\nlookup6"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Phase table\nlookup4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Phase table\nlookup3"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Phase table\nlookup2"
		    DstPort		    1
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup6"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup5"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup4"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup3"
		    DstPort		    1
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup2"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "[-inf inf] to [-pi pi]"
		    SrcPort		    1
		    Points		    [0, 0; 15, 0]
		    Branch {
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, -60]
		    DstBlock		    "Sign"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Amplitude table\nlookup3"
		    SrcPort		    1
		    Points		    [330, 0; 0, -115]
		    DstBlock		    "Mux1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Amplitude table\nlookup5"
		    SrcPort		    1
		    Points		    [350, 0; 0, -225]
		    DstBlock		    "Mux1"
		    DstPort		    5
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    Points		    [0, 0; 65, 0]
		    Branch {
		    Labels		    [2, 0]
		    Points		    [0, -10]
		    DstBlock		    "Amplitude table\nlookup1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Phase table\nlookup1"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    Points		    [0, 90]
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Phase table\nlookup5"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Phase table\nlookup6"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Phase table\nlookup4"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Phase table\nlookup3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Phase table\nlookup2"
		    DstPort		    2
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup6"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup5"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup4"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup3"
		    DstPort		    2
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup2"
		    DstPort		    2
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Product1"
		    SrcPort		    1
		    Points		    [35, 0; 0, -60]
		    DstBlock		    "Mux1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Amplitude table\nlookup2"
		    SrcPort		    1
		    DstBlock		    "Product1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sign"
		    SrcPort		    1
		    Points		    [85, 0; 0, 110]
		    Branch {
		    DstBlock		    "Product1"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 135]
		    Branch {
		    DstBlock		    "Product2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "Product3"
		    DstPort		    1
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Product2"
		    SrcPort		    1
		    Points		    [45, 0; 0, -175]
		    DstBlock		    "Mux1"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Amplitude table\nlookup4"
		    SrcPort		    1
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Product3"
		    SrcPort		    1
		    Points		    [65, 0; 0, -290]
		    DstBlock		    "Mux1"
		    DstPort		    6
		    }
		    Line {
		    SrcBlock		    "Amplitude table\nlookup6"
		    SrcPort		    1
		    DstBlock		    "Product3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "psi_r"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "[-inf inf] to [-pi pi]"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "U"
		    SrcPort		    1
		    Points		    [0, 0; 265, 0]
		    Branch {
		    Points		    [0, -35]
		    DstBlock		    "Amplitude table\nlookup1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "Amplitude table\nlookup2"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Amplitude table\nlookup3"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Amplitude table\nlookup4"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 55]
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "Amplitude table\nlookup6"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    DstBlock		    "Phase table\nlookup1"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 75]
		    Branch {
		    DstBlock		    "Phase table\nlookup2"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 80]
		    Branch {
		    DstBlock		    "Phase table\nlookup3"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 90]
		    Branch {
		    DstBlock		    "Phase table\nlookup4"
		    DstPort		    3
		    }
		    Branch {
		    Points		    [0, 60]
		    Branch {
		    Points		    [0, 80]
		    DstBlock		    "Phase table\nlookup6"
		    DstPort		    3
		    }
		    Branch {
		    DstBlock		    "Phase table\nlookup5"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    }
		    }
		    }
		    Branch {
		    DstBlock		    "Amplitude table\nlookup5"
		    DstPort		    3
		    }
		    }
		    }
		    }
		    }
		    }
		    Line {
		    SrcBlock		    "Mux2"
		    SrcPort		    1
		    DstBlock		    "phase"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Phase table\nlookup1"
		    SrcPort		    1
		    DstBlock		    "Mux2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Phase table\nlookup2"
		    SrcPort		    1
		    Points		    [115, 0; 0, -65]
		    DstBlock		    "Mux2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Phase table\nlookup3"
		    SrcPort		    1
		    Points		    [200, 0; 0, -135]
		    DstBlock		    "Mux2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Phase table\nlookup4"
		    SrcPort		    1
		    Points		    [125, 0; 0, -215]
		    DstBlock		    "Mux2"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Phase table\nlookup5"
		    SrcPort		    1
		    Points		    [225, 0; 0, -265]
		    DstBlock		    "Mux2"
		    DstPort		    5
		    }
		    Line {
		    SrcBlock		    "Phase table\nlookup6"
		    SrcPort		    1
		    Points		    [150, 0; 0, -335]
		    DstBlock		    "Mux2"
		    DstPort		    6
		    }
		    Line {
		    SrcBlock		    "Mux1"
		    SrcPort		    1
		    DstBlock		    "amp"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Signal smoothing"
		  SID			  902
		  Ports			  [2, 1]
		  Position		  [85, 376, 200, 449]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "Signal smoothing"
		  MaskDescription	  "Rate limit the input signal according to the recorded maximum signal rate.\n\nFor example, in o"
		  "rder to remove switching transients from a velocity signal, input the acceleration signal as signal rate.\n"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "Signal smoothing"
		    Location		    [207, 80, 1618, 1002]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "Signal in"
		    SID			    903
		    Position		    [485, 228, 515, 242]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "Signal rate"
		    SID			    904
		    Position		    [105, 168, 135, 182]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "-1"
		    SID			    905
		    Position		    [480, 270, 510, 300]
		    BackgroundColor	    "yellow"
		    Gain		    "-1"
		    ParameterDataTypeMode   "Inherit via internal rule"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    ParamDataTypeStr	    "Inherit: Inherit via internal rule"
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Abs
		    Name		    "Abs"
		    SID			    906
		    Position		    [180, 160, 210, 190]
		    BackgroundColor	    "yellow"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Constant"
		    SID			    907
		    Position		    [235, 180, 265, 210]
		    BackgroundColor	    "green"
		    Value		    "0"
		    OutDataTypeMode	    "boolean"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "boolean"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "MinMax\nRunning\nResettable"
		    SID			    908
		    Ports		    [2, 1]
		    Position		    [315, 166, 380, 204]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Math\nOperations/MinMax\nRunning\nResettable"
		    SourceType		    "MinMax Running Resettable"
		    ShowPortLabels	    "on"
		    Function		    "max"
		    vinit		    "0.0"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Rate Limiter\nDynamic"
		    SID			    909
		    Ports		    [3, 1]
		    Position		    [555, 158, 650, 312]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "simulink/Discontinuities/Rate Limiter\nDynamic"
		    SourceType		    "Rate Limiter Dynamic"
		    ShowPortLabels	    "on"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "Signal out"
		    SID			    910
		    Position		    [690, 228, 720, 242]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "MinMax\nRunning\nResettable"
		    SrcPort		    1
		    Points		    [70, 0]
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "-1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Rate Limiter\nDynamic"
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Rate Limiter\nDynamic"
		    SrcPort		    1
		    DstBlock		    "Signal out"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "-1"
		    SrcPort		    1
		    DstBlock		    "Rate Limiter\nDynamic"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Signal in"
		    SrcPort		    1
		    DstBlock		    "Rate Limiter\nDynamic"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Constant"
		    SrcPort		    1
		    Points		    [0, 0]
		    DstBlock		    "MinMax\nRunning\nResettable"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Signal rate"
		    SrcPort		    1
		    DstBlock		    "Abs"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Abs"
		    SrcPort		    1
		    DstBlock		    "MinMax\nRunning\nResettable"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Yaw quantizer"
		  SID			  911
		  Ports			  [2, 1]
		  Position		  [85, 277, 200, 348]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskType		  "Yaw quantizer"
		  MaskDescription	  "Apply quantization and backlash to the yaw angle if desired, and calculate the wave direction r"
		  "elative to the vessel. If the quantizer flag is set to zero, the two outputs are equal."
		  MaskPromptString	  "Quantizer flag {0,1}|Quantizer interval [rad]|Backlash width [rad]"
		  MaskStyleString	  "edit,edit,edit"
		  MaskTunableValueString  "on,on,on"
		  MaskCallbackString	  "||"
		  MaskEnableString	  "on,on,on"
		  MaskVisibilityString	  "on,on,on"
		  MaskToolTipString	  "on,on,on"
		  MaskVariables		  "quant_flag=@1;quant=@2;back=@3;"
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  MaskValueString	  "RAO_yaw_quantization_flag|RAO_yaw_quant|RAO_yaw_back"
		  System {
		    Name		    "Yaw quantizer"
		    Location		    [202, 92, 1270, 997]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "A4"
		    PaperUnits		    "centimeters"
		    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "psi LF"
		    SID			    912
		    Position		    [35, 33, 65, 47]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "psi wave"
		    SID			    913
		    Position		    [30, 263, 60, 277]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Backlash
		    Name		    "Backlash"
		    SID			    914
		    Position		    [130, 25, 160, 55]
		    BackgroundColor	    "yellow"
		    BacklashWidth	    "back"
		    }
		    Block {
		    BlockType		    Quantizer
		    Name		    "Quantizer"
		    SID			    915
		    Position		    [200, 25, 230, 55]
		    BackgroundColor	    "yellow"
		    QuantizationInterval    "quant"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "Quantizer flag"
		    SID			    916
		    Position		    [225, 75, 255, 105]
		    BackgroundColor	    "green"
		    Value		    "quant_flag"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    917
		    Ports		    [2, 1]
		    Position		    [425, 80, 445, 100]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Switch
		    Name		    "Switch"
		    SID			    918
		    Position		    [295, 12, 315, 168]
		    BackgroundColor	    "yellow"
		    Threshold		    "0.5"
		    InputSameDT		    off
		    SaturateOnIntegerOverflow off
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "psi_r quantized"
		    SID			    919
		    Position		    [490, 83, 520, 97]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Quantizer flag"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Switch"
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "psi wave"
		    SrcPort		    1
		    Points		    [370, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    DstBlock		    "psi_r quantized"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "psi LF"
		    SrcPort		    1
		    Points		    [15, 0]
		    Branch {
		    DstBlock		    "Backlash"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 100]
		    DstBlock		    "Switch"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "Backlash"
		    SrcPort		    1
		    DstBlock		    "Quantizer"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Quantizer"
		    SrcPort		    1
		    DstBlock		    "Switch"
		    DstPort		    1
		    }
		  }
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Hydromecanics"
	  SID			  920
	  Ports			  []
	  Position		  [320, 129, 367, 180]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Hydromecanics"
	    Location		    [433, 403, 931, 703]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Propulsion"
	  SID			  921
	  Ports			  []
	  Position		  [120, 134, 167, 185]
	  BackgroundColor	  "yellow"
	  DropShadow		  on
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Propulsion"
	    Location		    [202, 81, 1390, 1004]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Actuator Configuration"
	      SID		      922
	      Ports		      []
	      Position		      [40, 23, 123, 98]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      System {
		Name			"Actuator Configuration"
		Location		[202, 92, 1161, 815]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  SubSystem
		  Name			  "2 main propellers and 3 tunnel  thrusters"
		  SID			  923
		  Ports			  [2, 1]
		  Position		  [85, 387, 215, 478]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskDisplay		  "disp('tau = T*K(n)*u')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "2 main propellers and 3 tunnel  thrusters"
		    Location		    [386, 200, 1421, 1009]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "K(n)"
		    SID			    924
		    Position		    [55, 198, 85, 212]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    925
		    Position		    [55, 243, 85, 257]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    926
		    Ports		    [5, 1]
		    Position		    [245, 18, 250, 122]
		    ShowName		    off
		    Inputs		    "5"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Thruster configuration matrix1"
		    SID			    927
		    Ports		    [1, 1]
		    Position		    [385, 30, 515, 110]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Propulsion/Actuator Configuration/Thruster configuration matrix"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData "off"
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    Port {
		    PortNumber		    1
		    Name		    " "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "f=K(n)*u"
		    SID			    928
		    Ports		    [2, 1]
		    Position		    [360, 195, 405, 230]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Thrust"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "main propeller"
		    SID			    929
		    Position		    [15, 93, 85, 127]
		    BackgroundColor	    "green"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "tau=T(alpha)*f"
		    SID			    930
		    Ports		    [2, 1]
		    Position		    [645, 60, 690, 95]
		    BackgroundColor	    "yellow"
		    Multiplication	    "Matrix(*)"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Generalized force"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "tunnel thruster"
		    SID			    931
		    Position		    [15, 13, 85, 47]
		    BackgroundColor	    "green"
		    Value		    "pi/2"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    932
		    Position		    [810, 73, 840, 87]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    Name		    "Thrust"
		    Labels		    [0, 0; 2, 0]
		    SrcBlock		    "f=K(n)*u"
		    SrcPort		    1
		    Points		    [180, 0; 0, -130]
		    DstBlock		    "tau=T(alpha)*f"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    Points		    [220, 0; 0, -30]
		    DstBlock		    "f=K(n)*u"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "K(n)"
		    SrcPort		    1
		    DstBlock		    "f=K(n)*u"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Generalized force"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "tau=T(alpha)*f"
		    SrcPort		    1
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    Name		    " "
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Thruster configuration matrix1"
		    SrcPort		    1
		    DstBlock		    "tau=T(alpha)*f"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "tunnel thruster"
		    SrcPort		    1
		    Points		    [0, 0; 35, 0]
		    Branch {
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    Branch {
		    Points		    [0, 40]
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    }
		    Line {
		    SrcBlock		    "main propeller"
		    SrcPort		    1
		    Points		    [0, 0; 70, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    5
		    }
		    Branch {
		    Points		    [0, -20]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Thruster configuration matrix1"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "2 main propellers, 1 azimuth and 2 tunnel thrusters"
		  SID			  933
		  Ports			  [3, 1]
		  Position		  [80, 516, 210, 604]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskDisplay		  "disp('tau =            \\n\\n')\ndisp('    T(alpha)*K(n)*u')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "2 main propellers, 1 azimuth and 2 tunnel thrusters"
		    Location		    [392, 92, 1404, 777]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "alpha"
		    SID			    934
		    Position		    [130, 88, 160, 102]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "K(n)"
		    SID			    935
		    Position		    [35, 188, 65, 202]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    936
		    Position		    [35, 238, 65, 252]
		    BackgroundColor	    "red"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Mux
		    Name		    "Mux"
		    SID			    937
		    Ports		    [5, 1]
		    Position		    [275, 43, 280, 147]
		    ShowName		    off
		    Inputs		    "5"
		    DisplayOption	    "bar"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Thruster configuration matrix"
		    SID			    938
		    Ports		    [1, 1]
		    Position		    [360, 55, 490, 135]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Propulsion/Actuator Configuration/Thruster configuration matrix"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData "off"
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    Port {
		    PortNumber		    1
		    Name		    " "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "f=K(n)*u"
		    SID			    939
		    Ports		    [2, 1]
		    Position		    [410, 185, 455, 220]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Thrust"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "main propeller"
		    SID			    940
		    Position		    [45, 118, 115, 152]
		    BackgroundColor	    "green"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "tau=T(alpha)*f"
		    SID			    941
		    Ports		    [2, 1]
		    Position		    [620, 85, 665, 120]
		    BackgroundColor	    "yellow"
		    Multiplication	    "Matrix(*)"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Generalized force"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "tunnel thruster"
		    SID			    942
		    Position		    [45, 38, 115, 72]
		    BackgroundColor	    "green"
		    Value		    "pi/2"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    943
		    Position		    [785, 98, 815, 112]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    Name		    "Thrust"
		    Labels		    [0, 0; 2, 0]
		    SrcBlock		    "f=K(n)*u"
		    SrcPort		    1
		    Points		    [65, 0; 0, -95]
		    DstBlock		    "tau=T(alpha)*f"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    Points		    [290, 0; 0, -35]
		    DstBlock		    "f=K(n)*u"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "K(n)"
		    SrcPort		    1
		    DstBlock		    "f=K(n)*u"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Generalized force"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "tau=T(alpha)*f"
		    SrcPort		    1
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    DstBlock		    "Mux"
		    DstPort		    3
		    }
		    Line {
		    Name		    " "
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Thruster configuration matrix"
		    SrcPort		    1
		    DstBlock		    "tau=T(alpha)*f"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "tunnel thruster"
		    SrcPort		    1
		    Points		    [70, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 20]
		    DstBlock		    "Mux"
		    DstPort		    2
		    }
		    }
		    Line {
		    SrcBlock		    "main propeller"
		    SrcPort		    1
		    Points		    [70, 0]
		    Branch {
		    DstBlock		    "Mux"
		    DstPort		    5
		    }
		    Branch {
		    Points		    [0, 0; 0, -20]
		    DstBlock		    "Mux"
		    DstPort		    4
		    }
		    }
		    Line {
		    SrcBlock		    "Mux"
		    SrcPort		    1
		    DstBlock		    "Thruster configuration matrix"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "4 azimuth thrusters"
		  SID			  944
		  Ports			  [3, 1]
		  Position		  [85, 251, 215, 339]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskDisplay		  "disp('tau =            \\n\\n')\ndisp('    T(alpha)*K(n)*u')"
		  MaskIconFrame		  on
		  MaskIconOpaque	  off
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "4 azimuth thrusters"
		    Location		    [202, 92, 1161, 815]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "alpha"
		    SID			    945
		    Position		    [20, 173, 50, 187]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "K(n)"
		    SID			    946
		    Position		    [25, 273, 55, 287]
		    BackgroundColor	    "red"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "u"
		    SID			    947
		    Position		    [25, 318, 55, 332]
		    BackgroundColor	    "red"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Thruster configuration matrix1"
		    SID			    948
		    Ports		    [1, 1]
		    Position		    [90, 140, 220, 220]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Propulsion/Actuator Configuration/Thruster configuration matrix"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData "off"
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    Port {
		    PortNumber		    1
		    Name		    " "
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "f=K(n)*u"
		    SID			    949
		    Ports		    [2, 1]
		    Position		    [140, 270, 185, 305]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Thrust"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Product
		    Name		    "tau=T(alpha)*f"
		    SID			    950
		    Ports		    [2, 1]
		    Position		    [350, 170, 395, 205]
		    BackgroundColor	    "yellow"
		    Multiplication	    "Matrix(*)"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    Port {
		    PortNumber		    1
		    Name		    "Generalized force"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "tau"
		    SID			    951
		    Position		    [515, 183, 545, 197]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    Name		    "Thrust"
		    Labels		    [0, 0; 2, 0]
		    SrcBlock		    "f=K(n)*u"
		    SrcPort		    1
		    Points		    [65, 0; 0, -95]
		    DstBlock		    "tau=T(alpha)*f"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "u"
		    SrcPort		    1
		    Points		    [30, 0; 0, -30]
		    DstBlock		    "f=K(n)*u"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "K(n)"
		    SrcPort		    1
		    DstBlock		    "f=K(n)*u"
		    DstPort		    1
		    }
		    Line {
		    Name		    "Generalized force"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "tau=T(alpha)*f"
		    SrcPort		    1
		    DstBlock		    "tau"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    DstBlock		    "Thruster configuration matrix1"
		    DstPort		    1
		    }
		    Line {
		    Name		    " "
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "Thruster configuration matrix1"
		    SrcPort		    1
		    DstBlock		    "tau=T(alpha)*f"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Column vector t"
		  SID			  952
		  Ports			  [3, 1]
		  Position		  [85, 27, 150, 103]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Column vector t"
		    Location		    [396, 82, 1011, 452]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "alpha"
		    SID			    953
		    Position		    [15, 33, 45, 47]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "lx"
		    SID			    954
		    Position		    [110, 253, 140, 267]
		    BackgroundColor	    "green"
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Inport
		    Name		    "ly"
		    SID			    955
		    Position		    [180, 168, 210, 182]
		    BackgroundColor	    "green"
		    Port		    "3"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "  "
		    SID			    956
		    Ports		    [1, 1]
		    Position		    [105, 25, 135, 55]
		    BackgroundColor	    "yellow"
		    Operator		    "cos"
		    }
		    Block {
		    BlockType		    Trigonometry
		    Name		    "   "
		    SID			    957
		    Ports		    [1, 1]
		    Position		    [105, 95, 135, 125]
		    BackgroundColor	    "yellow"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "    "
		    SID			    958
		    Ports		    [2, 1]
		    Position		    [245, 236, 290, 269]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Product
		    Name		    "       "
		    SID			    959
		    Ports		    [2, 1]
		    Position		    [240, 151, 285, 184]
		    BackgroundColor	    "yellow"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    RndMeth		    "Floor"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum"
		    SID			    960
		    Ports		    [2, 1]
		    Position		    [325, 160, 345, 180]
		    BackgroundColor	    "yellow"
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|-+"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Concatenate
		    Name		    "Thruster\ncolumn\nvector"
		    SID			    961
		    Ports		    [3, 1]
		    Position		    [410, 30, 475, 80]
		    BackgroundColor	    "yellow"
		    NumInputs		    "3"
		    Mode		    "Multidimensional array"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "t"
		    SID			    962
		    Position		    [530, 48, 560, 62]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "  "
		    SrcPort		    1
		    Points		    [60, 0]
		    Branch {
		    DstBlock		    "Thruster\ncolumn\nvector"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 120]
		    DstBlock		    "       "
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "   "
		    SrcPort		    1
		    Points		    [25, 0]
		    Branch {
		    Points		    [185, 0; 0, -55]
		    DstBlock		    "Thruster\ncolumn\nvector"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, 135]
		    DstBlock		    "    "
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    Points		    [20, 0]
		    Branch {
		    DstBlock		    "  "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 70]
		    DstBlock		    "   "
		    DstPort		    1
		    }
		    }
		    Line {
		    SrcBlock		    "Thruster\ncolumn\nvector"
		    SrcPort		    1
		    DstBlock		    "t"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "       "
		    SrcPort		    1
		    DstBlock		    "Sum"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lx"
		    SrcPort		    1
		    DstBlock		    "    "
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "    "
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Sum"
		    SrcPort		    1
		    Points		    [20, 0; 0, -100]
		    DstBlock		    "Thruster\ncolumn\nvector"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "ly"
		    SrcPort		    1
		    DstBlock		    "       "
		    DstPort		    2
		    }
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "Thruster configuration matrix"
		  SID			  963
		  Ports			  [1, 1]
		  Position		  [85, 135, 215, 215]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "Thruster configuration matrix"
		    Location		    [202, 81, 1390, 1004]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "alpha"
		    SID			    964
		    Position		    [15, 238, 45, 252]
		    BackgroundColor	    "green"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Column vector t1"
		    SID			    965
		    Ports		    [3, 1]
		    Position		    [315, 167, 380, 243]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Propulsion/Actuator Configuration/Column vector t"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData "off"
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Column vector t2"
		    SID			    966
		    Ports		    [3, 1]
		    Position		    [320, 297, 385, 373]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Propulsion/Actuator Configuration/Column vector t"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData "off"
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Column vector t3"
		    SID			    967
		    Ports		    [3, 1]
		    Position		    [320, 427, 385, 503]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Propulsion/Actuator Configuration/Column vector t"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData "off"
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    }
		    Block {
		    BlockType		    Reference
		    Name		    "Column vector t4"
		    SID			    968
		    Ports		    [3, 1]
		    Position		    [310, 37, 375, 113]
		    BackgroundColor	    "yellow"
		    SourceBlock		    "marine_gnc/Models/Propulsion/Actuator Configuration/Column vector t"
		    SourceType		    "SubSystem"
		    ShowPortLabels	    "on"
		    SystemSampleTime	    "-1"
		    FunctionWithSeparateData "off"
		    RTWMemSecFuncInitTerm   "Inherit from model"
		    RTWMemSecFuncExecute    "Inherit from model"
		    RTWMemSecDataConstants  "Inherit from model"
		    RTWMemSecDataInternal   "Inherit from model"
		    RTWMemSecDataParameters "Inherit from model"
		    }
		    Block {
		    BlockType		    Demux
		    Name		    "Demux"
		    SID			    969
		    Ports		    [1, 4]
		    Position		    [70, 211, 75, 274]
		    BackgroundColor	    "black"
		    ShowName		    off
		    }
		    Block {
		    BlockType		    Concatenate
		    Name		    "Thruster \nConfiguration \nMatrix"
		    SID			    970
		    Ports		    [4, 1]
		    Position		    [535, 220, 610, 285]
		    BackgroundColor	    "yellow"
		    NumInputs		    "4"
		    Mode		    "Multidimensional array"
		    ConcatenateDimension    "2"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "lx1"
		    SID			    971
		    Position		    [180, 60, 210, 90]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "lx2"
		    SID			    972
		    Position		    [180, 190, 210, 220]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "lx3"
		    SID			    973
		    Position		    [180, 320, 210, 350]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "lx4"
		    SID			    974
		    Position		    [180, 445, 210, 475]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "ly1"
		    SID			    975
		    Position		    [225, 90, 255, 120]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "ly2"
		    SID			    976
		    Position		    [225, 220, 255, 250]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "ly3"
		    SID			    977
		    Position		    [225, 350, 255, 380]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "ly4"
		    SID			    978
		    Position		    [225, 475, 255, 505]
		    BackgroundColor	    "cyan"
		    Value		    "0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "T(alpha)"
		    SID			    979
		    Position		    [655, 248, 685, 262]
		    BackgroundColor	    "red"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Column vector t4"
		    SrcPort		    1
		    Points		    [75, 0; 0, 155]
		    DstBlock		    "Thruster \nConfiguration \nMatrix"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Column vector t1"
		    SrcPort		    1
		    Points		    [50, 0; 0, 40]
		    DstBlock		    "Thruster \nConfiguration \nMatrix"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "Column vector t2"
		    SrcPort		    1
		    Points		    [45, 0; 0, -75]
		    DstBlock		    "Thruster \nConfiguration \nMatrix"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "Column vector t3"
		    SrcPort		    1
		    Points		    [65, 0; 0, -190]
		    DstBlock		    "Thruster \nConfiguration \nMatrix"
		    DstPort		    4
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    1
		    Points		    [45, 0; 0, -170]
		    DstBlock		    "Column vector t4"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    2
		    Points		    [70, 0; 0, -55]
		    DstBlock		    "Column vector t1"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    3
		    Points		    [70, 0; 0, 60]
		    DstBlock		    "Column vector t2"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Demux"
		    SrcPort		    4
		    Points		    [40, 0; 0, 175]
		    DstBlock		    "Column vector t3"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "alpha"
		    SrcPort		    1
		    DstBlock		    "Demux"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Thruster \nConfiguration \nMatrix"
		    SrcPort		    1
		    DstBlock		    "T(alpha)"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "lx1"
		    SrcPort		    1
		    DstBlock		    "Column vector t4"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ly1"
		    SrcPort		    1
		    Points		    [35, 0]
		    DstBlock		    "Column vector t4"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "lx2"
		    SrcPort		    1
		    DstBlock		    "Column vector t1"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ly2"
		    SrcPort		    1
		    Points		    [40, 0]
		    DstBlock		    "Column vector t1"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "lx3"
		    SrcPort		    1
		    DstBlock		    "Column vector t2"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ly3"
		    SrcPort		    1
		    Points		    [45, 0]
		    DstBlock		    "Column vector t2"
		    DstPort		    3
		    }
		    Line {
		    SrcBlock		    "lx4"
		    SrcPort		    1
		    Points		    [90, 0]
		    DstBlock		    "Column vector t3"
		    DstPort		    2
		    }
		    Line {
		    SrcBlock		    "ly4"
		    SrcPort		    1
		    DstBlock		    "Column vector t3"
		    DstPort		    3
		    }
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Open-water propeller\ncharacteristics"
	      SID		      980
	      Ports		      [2, 2]
	      Position		      [45, 230, 135, 330]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Open-water propeller characteristics"
	      MaskDescription	      "Calculate the thrust and torque of a fixed pitch propeller, based on a polynomial repres"
	      "entation of thrust and torque coefficients Kt and Kq from the open-water characteristics. Kt and Kq are defined"
	      " as polynomials Ktp and Kqp in the advance number J=Va/(nD):\n\nKt = Ktp(1)*J^2 + Kqp(2)*J + Kqp(3)\nKq = Kqp(1"
	      ")*J^2 + Kqp(2)*J + Kqp(3)\n\nwhere n is the shaft speed, D the propelelr diameter and Va the advance velocity o"
	      "f the propeller. The relationship between the thrust T and torque Q and the coefficients Kt and Kq is:\n\nT = K"
	      "t*rho*D^4\nQ = Kq*rho*D^5\n\nwhere rho is the density of water. See help for details.\n\nCopyright (C) 2005 NTN"
	      "U\n\nAuthor: Oyvind Notland Smogeli"
	      MaskHelp		      "<p>\n<b>Part of the Marine Systems Simulator: MSS</b></p>\n<p>Calculate the thrust and torque "
	      "of a fixed pitch propeller, based on a polynomial \nrepresentation of thrust and torque coefficients from the o"
	      "pen-water \ncharacteristics.</p>\n<p><b>Inputs: </b> </p>\n<p>n: [1/s] Propeller shaft speed<br>\nVa: [m/s] Pro"
	      "peller advance speed</p>\n<p><b>Outputs: </b> </p>\n<p>T: [N] Propeller thrust<br>\nQ: [Nm] Propeller torque<p>"
	      "<b>Model validity:</b><p>The model gives the thrust and torque from a polynomial of the form:<p>T = sign(n)*[T_"
	      "nn*n^2 + T_Vn*Va*n + T_VV*Va^2]<br>Q = sign(n)*[Q_nn*n^2 + Q_Vn*Va*n + Q_VV*Va^2]<p>If the expression in bracke"
	      "ts becomes negative, it is set to zero. \nPropeller windmilling is therefore not accounted for.\nThe thrust is "
	      "modified by a reduction factor when the thruster is\nreversed (n &lt; 0), and the torque kept unmodified. Negat"
	      "ive advance velocities \nare treated as zero.<p>The coefficients are:<p>T_nn = Ktp(3)*rhow*D^4<br>T_Vn = Ktp(2)"
	      "*rhow*D^3<br>T_VV = Ktp(1)*rhow*D^2<br>Q_nn = Kqp(3)*rhow*D^5<br>Q_Vn = Kqp(2)*rhow*D^4<br>Q_VV = Kqp(1)*rhow*D"
	      "^3<p>\nwhere rhow is the density of seawater, D the propeller diameter, and\nKtp and Kqp are the polynomials de"
	      "fined in the mask:<p>Kt = Ktp(1)*J^2 + Kqp(2)*J + Kqp(3)<br>Kq = Kqp(1)*J^2 + Kqp(2)*J + Kqp(3)<p>where J is th"
	      "e advance number, J = Va/(n*D). \nThe relationship between the thrust and torque and the coefficients Kt and Kq"
	      " \nis:<p>T = Kt*rhow*D^4<br>Q = Kq*rhow*D^5<p>Example input data for a\nWageningen B-series propeller with pitc"
	      "h ratio P/D = 1, number of blades Z = 4 and \nexpanded blade area ratio EAR = 0.7:<p>Ktp = [-0.1060 -0.3246 0.4"
	      "594]<br>Kqp = [-0.0186 -0.0399 0.0680]<br>\nreverse_reduction = 0.8<p>\n<b>Copyright NTNU 2005</b></p>\n<p><b>A"
	      "uthor:</b> Oyvind N. Smogeli, 2005-05-03</p>\n"
	      MaskPromptString	      "Thruster diameter [m]|Kt polynomial Ktp|Kq polynomial Kqp|Reverse direction thrust redu"
	      "ction factor [-]|Density of seawater [kg/m^3]"
	      MaskStyleString	      "edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on"
	      MaskCallbackString      "||||"
	      MaskEnableString	      "on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on"
	      MaskVariables	      "Par_Thruster_D=@1;Par_Thruster_Ktp=@2;Par_Thruster_Kqp=@3;Par_Thruster_reverse_reduction=@"
	      "4;Glob_rhow=@5;"
	      MaskDisplay	      "image(imread('figs/propeller.jpg'))\nport_label('input', 1, 'n [1/s]')\nport_label('input', "
	      "2, 'Va [m/s]')\nport_label('output', 1, 'T [N]')\nport_label('output', 2, 'Q [Nm]')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "1|[-0.1060 -0.3246 0.4594]|[-0.0186 -0.0399 0.0680]|0.8|1025"
	      System {
		Name			"Open-water propeller\ncharacteristics"
		Location		[202, 82, 1670, 1004]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "n"
		  SID			  981
		  Position		  [30, 213, 60, 227]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "Va"
		  SID			  982
		  Position		  [25, 103, 55, 117]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Dot Product1"
		  SID			  983
		  Ports			  [2, 1]
		  Position		  [450, 141, 480, 174]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "simulink/Math\nOperations/Dot Product"
		  SourceType		  "Dot Product"
		  InputSameDT		  "on"
		  OutputDataTypeScalingMode "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^-10"
		  LockScale		  "off"
		  RndMeth		  "Floor"
		  DoSatur		  "off"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Dot Product2"
		  SID			  984
		  Ports			  [2, 1]
		  Position		  [430, 266, 460, 299]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "simulink/Math\nOperations/Dot Product"
		  SourceType		  "Dot Product"
		  InputSameDT		  "on"
		  OutputDataTypeScalingMode "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^-10"
		  LockScale		  "off"
		  RndMeth		  "Floor"
		  DoSatur		  "off"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Kq poly"
		  SID			  985
		  Position		  [285, 245, 315, 275]
		  BackgroundColor	  "green"
		  Value			  "Par_Thruster_Kqp"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Kt poly"
		  SID			  986
		  Position		  [285, 50, 315, 80]
		  BackgroundColor	  "green"
		  Value			  "Par_Thruster_Ktp"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction3"
		  SID			  987
		  Ports			  [1, 1]
		  Position		  [165, 95, 195, 125]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  Operator		  "magnitude^2"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction4"
		  SID			  988
		  Ports			  [1, 1]
		  Position		  [165, 205, 195, 235]
		  BackgroundColor	  "yellow"
		  Operator		  "magnitude^2"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  989
		  Ports			  [3, 1]
		  Position		  [220, 82, 225, 248]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product10"
		  SID			  990
		  Ports			  [2, 1]
		  Position		  [155, 146, 200, 179]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product2"
		  SID			  991
		  Ports			  [2, 1]
		  Position		  [605, 151, 650, 184]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product3"
		  SID			  992
		  Ports			  [2, 1]
		  Position		  [600, 276, 645, 309]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product6"
		  SID			  993
		  Ports			  [2, 1]
		  Position		  [350, 76, 395, 109]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product9"
		  SID			  994
		  Ports			  [2, 1]
		  Position		  [350, 271, 395, 304]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  SID			  995
		  Position		  [340, 380, 370, 410]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Switch
		  Name			  "Switch"
		  SID			  996
		  Position		  [735, 165, 765, 195]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Zero limit"
		  SID			  997
		  Position		  [505, 145, 535, 175]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Zero limit1"
		  SID			  998
		  Position		  [500, 270, 530, 300]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Zero limit2"
		  SID			  999
		  Position		  [80, 95, 110, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "inf"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "reverse\nreduction"
		  SID			  1000
		  Position		  [675, 100, 705, 130]
		  BackgroundColor	  "yellow"
		  Gain			  "Par_Thruster_reverse_reduction"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "rhow[D^2 D^3 D^4]"
		  SID			  1001
		  Position		  [285, 105, 315, 135]
		  BackgroundColor	  "green"
		  Value			  "Glob_rhow*[Par_Thruster_D^2 Par_Thruster_D^3 Par_Thruster_D^4]"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "rhow[D^3 D^4 D^5] "
		  SID			  1002
		  Position		  [285, 295, 315, 325]
		  BackgroundColor	  "green"
		  Value			  "Glob_rhow*[Par_Thruster_D^3 Par_Thruster_D^4 Par_Thruster_D^5]"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "T_a"
		  SID			  1003
		  Position		  [805, 173, 835, 187]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Q_a"
		  SID			  1004
		  Position		  [680, 288, 710, 302]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Product10"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Math\nFunction4"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Math\nFunction3"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "n"
		  SrcPort		  1
		  Points		  [70, 0]
		  Branch {
		    Points		    [0, 175]
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, -50]
		    DstBlock		    "Product10"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "Math\nFunction4"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Product9"
		  SrcPort		  1
		  DstBlock		  "Dot Product2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "rhow[D^3 D^4 D^5] "
		  SrcPort		  1
		  Points		  [0, -15]
		  DstBlock		  "Product9"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Kq poly"
		  SrcPort		  1
		  Points		  [0, 20]
		  DstBlock		  "Product9"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product6"
		  SrcPort		  1
		  Points		  [15, 0; 0, 55]
		  DstBlock		  "Dot Product1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rhow[D^2 D^3 D^4]"
		  SrcPort		  1
		  Points		  [0, -20]
		  DstBlock		  "Product6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Kt poly"
		  SrcPort		  1
		  Points		  [0, 20]
		  DstBlock		  "Product6"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  Points		  [195, 0; 0, -95]
		  Branch {
		    DstBlock		    "Product3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, -100]
		    Branch {
		    Points		    [115, 0; 0, -20]
		    DstBlock		    "Switch"
		    DstPort		    2
		    }
		    Branch {
		    Points		    [0, -25]
		    DstBlock		    "Product2"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Va"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Zero limit2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Zero limit1"
		  SrcPort		  1
		  DstBlock		  "Product3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Zero limit"
		  SrcPort		  1
		  DstBlock		  "Product2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Dot Product2"
		  SrcPort		  1
		  DstBlock		  "Zero limit1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Dot Product1"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Zero limit"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product3"
		  SrcPort		  1
		  DstBlock		  "Q_a"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Product2"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    DstBlock		    "Switch"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "reverse\nreduction"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Switch"
		  SrcPort		  1
		  DstBlock		  "T_a"
		  DstPort		  1
		}
		Line {
		  Labels		  [2, 0]
		  SrcBlock		  "reverse\nreduction"
		  SrcPort		  1
		  Points		  [5, 0; 0, 75]
		  DstBlock		  "Switch"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "Dot Product1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Zero limit2"
		  SrcPort		  1
		  Points		  [0, 0; 20, 0]
		  Branch {
		    DstBlock		    "Math\nFunction3"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 45]
		    DstBlock		    "Product10"
		    DstPort		    1
		  }
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Propeller shaft dynamics"
	      SID		      1005
	      Ports		      [1, 1]
	      Position		      [40, 129, 115, 201]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Propeller"
	      MaskDescription	      "Integrator in a feedback loop with rate and magnitude saturation. When the system does n"
	      "ot saturate, it behaves as a first order system with  the time constant entered in the mask\nCopyright (C) 2005"
	      " NTNU\nAuthor: T.I. Fossen "
	      MaskPromptString	      "Max RPM:|Max RPM Rate:|Time Constant (sec):"
	      MaskStyleString	      "edit,edit,edit"
	      MaskTunableValueString  "on,on,on"
	      MaskCallbackString      "||"
	      MaskEnableString	      "on,on,on"
	      MaskVisibilityString    "on,on,on"
	      MaskToolTipString	      "on,on,on"
	      MaskVariables	      "rpm_max=@1;rpm_rate=@2;tc=@3;"
	      MaskInitialization      "\n"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      ".5|.5|1"
	      System {
		Name			"Propeller shaft dynamics"
		Location		[202, 82, 1161, 805]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "RPM_c"
		  SID			  1006
		  Position		  [145, 103, 175, 117]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  1007
		  Position		  [330, 93, 360, 127]
		  BackgroundColor	  "yellow"
		  Gain			  "1/tc"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  1008
		  Ports			  [1, 1]
		  Position		  [435, 95, 465, 125]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  1009
		  Position		  [380, 95, 410, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "rpm_rate"
		  LowerLimit		  "-rpm_rate"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  SID			  1010
		  Position		  [220, 95, 250, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "rpm_max"
		  LowerLimit		  "-rpm_max"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  1011
		  Ports			  [2, 1]
		  Position		  [285, 100, 305, 120]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "RPM"
		  SID			  1012
		  Position		  [550, 103, 580, 117]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "RPM_c"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    Points		    [0, 55; -190, 0]
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    DstBlock		    "RPM"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Annotation {
		  Name			  "\n"
		  Position		  [423, 68]
		}
	      }
	    }
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Navigation"
      SID		      1013
      Ports		      []
      Position		      [665, 279, 712, 330]
      BackgroundColor	      "yellow"
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"Navigation"
	Location		[740, 515, 1174, 704]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Filters"
	  SID			  1014
	  Ports			  []
	  Position		  [190, 74, 237, 125]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Filters"
	    Location		    [433, 403, 931, 703]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Observers"
	  SID			  1015
	  Ports			  []
	  Position		  [285, 74, 332, 125]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Observers"
	    Location		    [202, 92, 1161, 815]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Kalman filter based\nautopilot wave filter"
	      SID		      1016
	      Ports		      [2, 3]
	      Position		      [285, 131, 440, 209]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Relative damping ratio of wave spectrum: lambda|Peak frequency of wave spectrum: w_o (r"
	      "ad/s)|Bias time constant: T_b (s)|Nomoto gain constant: K (1/s)|Nomoto time constant: T (s)|Compass variance: r"
	      "|Wave model variance: q1|Ship model variance: q2|Bias model variance: q3|Initial covariance matrix"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on,on,on"
	      MaskCallbackString      "|||||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on,on,on"
	      MaskVariables	      "lambda=@1;w_o=@2;T_b=@3;K=@4;T=@5;r=@6;q1=@7;q2=@8;q3=@9;P0=@10;"
	      MaskDisplay	      "disp('Only\\n Compass')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "0.1|1.0|1000|0.1|100|1|100|0.01|0.01|1*eye(5)"
	      System {
		Name			"Kalman filter based\nautopilot wave filter"
		Location		[339, 227, 1085, 959]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "compass"
		  SID			  1017
		  Position		  [915, 75, 945, 90]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "rudder\nangle"
		  SID			  1018
		  Position		  [180, 567, 210, 583]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Math
		  Name			  "  "
		  SID			  1019
		  Ports			  [1, 1]
		  Position		  [370, 58, 395, 82]
		  BackgroundColor	  "yellow"
		  Operator		  "transpose"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "H"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "    "
		  SID			  1020
		  Position		  [500, 45, 530, 75]
		  BackgroundColor	  "yellow"
		  Gain			  "1/r"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "     "
		  SID			  1021
		  Position		  [645, 100, 675, 130]
		  BackgroundColor	  "yellow"
		  Gain			  "1/r"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "P*H'*inv(r)"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "0.5*(P+P')"
		  SID			  1022
		  Ports			  [1, 1]
		  Position		  [260, 87, 310, 123]
		  BackgroundColor	  "yellow"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  MaskIconFrame		  on
		  MaskIconOpaque	  on
		  MaskIconRotate	  "none"
		  MaskPortRotate	  "default"
		  MaskIconUnits		  "autoscale"
		  System {
		    Name		    "0.5*(P+P')"
		    Location		    [137, 93, 521, 224]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Inport
		    Name		    "P"
		    SID			    1023
		    Position		    [15, 63, 45, 77]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "P"
		    PropagatedSignals	    "P"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Math
		    Name		    "    "
		    SID			    1024
		    Ports		    [1, 1]
		    Position		    [95, 28, 120, 52]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    Operator		    "transpose"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    Port {
		    PortNumber		    1
		    Name		    "P'"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		    }
		    }
		    Block {
		    BlockType		    Gain
		    Name		    "Gain6"
		    SID			    1025
		    Position		    [215, 22, 255, 58]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    Gain		    "0.5"
		    ParameterDataType	    "sfix(16)"
		    ParameterScaling	    "2^0"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Sum
		    Name		    "Sum12"
		    SID			    1026
		    Ports		    [2, 1]
		    Position		    [165, 30, 185, 50]
		    BackgroundColor	    "yellow"
		    DropShadow		    on
		    ShowName		    off
		    IconShape		    "round"
		    Inputs		    "|++"
		    InputSameDT		    off
		    OutDataTypeMode	    "Inherit via internal rule"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    OutDataTypeStr	    "Inherit: Inherit via internal rule"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "P=P'"
		    SID			    1027
		    Position		    [285, 33, 315, 47]
		    BackgroundColor	    "red"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "Gain6"
		    SrcPort		    1
		    DstBlock		    "P=P'"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "Sum12"
		    SrcPort		    1
		    DstBlock		    "Gain6"
		    DstPort		    1
		    }
		    Line {
		    Name		    "P'"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "    "
		    SrcPort		    1
		    DstBlock		    "Sum12"
		    DstPort		    1
		    }
		    Line {
		    Name		    "P"
		    Labels		    [0, 0; 0, 0]
		    SrcBlock		    "P"
		    SrcPort		    1
		    Points		    [10, 0; 15, 0]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "    "
		    DstPort		    1
		    }
		    Branch {
		    Points		    [100, 0]
		    DstBlock		    "Sum12"
		    DstPort		    2
		    }
		    }
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "AP"
		  SID			  1028
		  Ports			  [2, 1]
		  Position		  [355, 155, 410, 190]
		  BackgroundColor	  "yellow"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  1029
		  Ports			  [1, 5]
		  Position		  [835, 193, 845, 257]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "5"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  1030
		  Position		  [610, 439, 720, 491]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "2*lambda*w_o"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  SID			  1031
		  Position		  [620, 497, 710, 543]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "w_o^2"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  SID			  1032
		  Position		  [280, 430, 320, 475]
		  BlockRotation		  270
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/T_b"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain4"
		  SID			  1033
		  Position		  [370, 554, 400, 596]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/T"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain5"
		  SID			  1034
		  Position		  [280, 554, 305, 596]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "K"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "H'"
		  SID			  1035
		  Position		  [185, 35, 260, 55]
		  BackgroundColor	  "green"
		  Value			  "[0 1 1 0 0]"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "H'"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "H'*H"
		  SID			  1036
		  Ports			  [2, 1]
		  Position		  [430, 33, 475, 82]
		  BackgroundColor	  "yellow"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  1037
		  Ports			  [1, 1]
		  Position		  [590, 560, 620, 590]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  1038
		  Ports			  [1, 1]
		  Position		  [645, 385, 675, 415]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "psi_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  SID			  1039
		  Ports			  [1, 1]
		  Position		  [800, 385, 830, 415]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "xi_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator3"
		  SID			  1040
		  Ports			  [1, 1]
		  Position		  [230, 440, 260, 470]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "rudder\nbias"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator4"
		  SID			  1041
		  Ports			  [1, 1]
		  Position		  [460, 560, 490, 590]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator5"
		  SID			  1042
		  Ports			  [1, 1]
		  Position		  [200, 90, 230, 120]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  InitialCondition	  "P0"
		  Port {
		    PortNumber		    1
		    Name		    "P"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Product
		  Name			  "P*H'"
		  SID			  1043
		  Ports			  [2, 1]
		  Position		  [580, 94, 620, 136]
		  BackgroundColor	  "yellow"
		  Inputs		  "**"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "P*H'*(1/r)*H*P"
		  SID			  1044
		  Ports			  [3, 1]
		  Position		  [730, 36, 780, 84]
		  BackgroundColor	  "yellow"
		  Inputs		  "***"
		  Multiplication	  "Matrix(*)"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		}
		Block {
		  BlockType		  Product
		  Name			  "Product"
		  SID			  1045
		  Ports			  [2, 1]
		  Position		  [750, 205, 785, 240]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  RndMeth		  "Floor"
		  Port {
		    PortNumber		    1
		    Name		    "K*eps"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  1046
		  Ports			  [2, 1]
		  Position		  [545, 165, 565, 185]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  1047
		  Ports			  [2, 1]
		  Position		  [235, 565, 255, 585]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum10"
		  SID			  1048
		  Ports			  [2, 1]
		  Position		  [145, 95, 165, 115]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|-+"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum11"
		  SID			  1049
		  Ports			  [2, 1]
		  Position		  [145, 225, 165, 245]
		  BlockRotation		  270
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  1050
		  Ports			  [2, 1]
		  Position		  [920, 150, 940, 170]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+|-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  1051
		  Ports			  [2, 1]
		  Position		  [530, 565, 550, 585]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  SID			  1052
		  Ports			  [2, 1]
		  Position		  [850, 565, 870, 585]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  SID			  1053
		  Ports			  [2, 1]
		  Position		  [750, 390, 770, 410]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "psi_WF"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  SID			  1054
		  Ports			  [3, 1]
		  Position		  [595, 390, 615, 410]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+--"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  SID			  1055
		  Ports			  [2, 1]
		  Position		  [235, 390, 255, 410]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum8"
		  SID			  1056
		  Ports			  [2, 1]
		  Position		  [325, 565, 345, 585]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum9"
		  SID			  1057
		  Ports			  [2, 1]
		  Position		  [420, 565, 440, 585]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Math
		  Name			  "Transpose"
		  SID			  1058
		  Ports			  [1, 1]
		  Position		  [460, 205, 490, 235]
		  BackgroundColor	  "yellow"
		  Operator		  "transpose"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "PA'"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  1059
		  Ports			  [1, 1]
		  Position		  [740, 136, 840, 184]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]1"
		  SID			  1060
		  Ports			  [1, 1]
		  Position		  [665, 551, 765, 599]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  SubSystem
		  Name			  "matrices"
		  SID			  1061
		  Ports			  [0, 2]
		  Position		  [205, 153, 260, 197]
		  BackgroundColor	  "green"
		  MinAlgLoopOccurrences	  off
		  PropExecContextOutsideSubsystem off
		  RTWSystemCode		  "Auto"
		  FunctionWithSeparateData off
		  Opaque		  off
		  RequestExecContextInheritance	off
		  MaskHideContents	  off
		  System {
		    Name		    "matrices"
		    Location		    [105, 89, 812, 493]
		    Open		    off
		    ModelBrowserVisibility  on
		    ModelBrowserWidth	    200
		    ScreenColor		    "white"
		    PaperOrientation	    "landscape"
		    PaperPositionMode	    "auto"
		    PaperType		    "usletter"
		    PaperUnits		    "inches"
		    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
		    TiledPageScale	    1
		    ShowPageBoundaries	    off
		    ZoomFactor		    "100"
		    Block {
		    BlockType		    Constant
		    Name		    "A-matrix"
		    SID			    1062
		    Position		    [25, 27, 455, 163]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    Value		    "[0 1 0 0 0;  -w_o^2  -2*w_o*lambda 0 0 0; 0 0 0 1 0; 0 0 0 -1/T -K/T; 0 0 0 0 -1/T_b]"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Constant
		    Name		    "EQE'-matrix"
		    SID			    1063
		    Position		    [40, 250, 220, 350]
		    BackgroundColor	    "green"
		    DropShadow		    on
		    Value		    "[0 0 0 0 0; 0 q1 0 0 0; 0 0 0 0 0; 0 0 0 q2 0; 0 0 0 0 q3]"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "A"
		    SID			    1064
		    Position		    [645, 88, 675, 102]
		    BackgroundColor	    "red"
		    DropShadow		    on
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Block {
		    BlockType		    Outport
		    Name		    "EQE'"
		    SID			    1065
		    Position		    [640, 293, 670, 307]
		    BackgroundColor	    "red"
		    DropShadow		    on
		    Port		    "2"
		    IconDisplay		    "Port number"
		    OutDataType		    "sfix(16)"
		    OutScaling		    "2^0"
		    }
		    Line {
		    SrcBlock		    "EQE'-matrix"
		    SrcPort		    1
		    DstBlock		    "EQE'"
		    DstPort		    1
		    }
		    Line {
		    SrcBlock		    "A-matrix"
		    SrcPort		    1
		    DstBlock		    "A"
		    DstPort		    1
		    }
		  }
		}
		Block {
		  BlockType		  Outport
		  Name			  "psi_w"
		  SID			  1066
		  Position		  [880, 353, 910, 367]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "psi"
		  SID			  1067
		  Position		  [855, 603, 885, 617]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "r"
		  SID			  1068
		  Position		  [595, 608, 625, 622]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "0.5*(P+P')"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [220, 0]
		    Branch {
		    Points		    [0, -30]
		    Branch {
		    Points		    [0, -30]
		    DstBlock		    "P*H'*(1/r)*H*P"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "P*H'*(1/r)*H*P"
		    DstPort		    3
		    }
		    }
		    Branch {
		    DstBlock		    "P*H'"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [5, 0; 0, 75]
		    DstBlock		    "AP"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "P"
		  Labels		  [0, 0]
		  SrcBlock		  "Integrator5"
		  SrcPort		  1
		  DstBlock		  "0.5*(P+P')"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "P*H'*(1/r)*H*P"
		  SrcPort		  1
		  Points		  [20, 0; 0, -35; -700, 0; 0, 80]
		  DstBlock		  "Sum10"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  4
		  Points		  [35, 0; 0, 70; -455, 0]
		  DstBlock		  "Sum9"
		  DstPort		  1
		}
		Line {
		  Labels		  [4, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  3
		  Points		  [45, 0; 0, 90; -355, 0]
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  Points		  [65, 0; 0, 125; -310, 0]
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  Labels		  [3, 0]
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  Points		  [55, 0; 0, 130; -145, 0]
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  Name			  "K*eps"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Product"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [-20, 0; 0, 70]
		  DstBlock		  "Product"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  Points		  [15, 0; 0, 90; -430, 0]
		  DstBlock		  "Sum11"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "matrices"
		  SrcPort		  2
		  Points		  [15, 0; 0, 50]
		  DstBlock		  "Sum11"
		  DstPort		  2
		}
		Line {
		  Name			  "P*H'*inv(r)"
		  Labels		  [0, 0]
		  SrcBlock		  "     "
		  SrcPort		  1
		  Points		  [0, 100]
		  DstBlock		  "Product"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum11"
		  SrcPort		  1
		  DstBlock		  "Sum10"
		  DstPort		  2
		}
		Line {
		  Name			  "PA'"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Transpose"
		  SrcPort		  1
		  Points		  [60, 0]
		  DstBlock		  "Sum"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum10"
		  SrcPort		  1
		  DstBlock		  "Integrator5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "AP"
		  SrcPort		  1
		  Points		  [-5, 0; 20, 0]
		  Branch {
		    Points		    [0, 45]
		    DstBlock		    "Transpose"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum9"
		  SrcPort		  1
		  DstBlock		  "Integrator4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain4"
		  SrcPort		  1
		  DstBlock		  "Sum9"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain5"
		  SrcPort		  1
		  DstBlock		  "Sum8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  Points		  [0, -25]
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  Name			  "rudder\nbias"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator3"
		  SrcPort		  1
		  Points		  [0, 0; 0, 40]
		  Branch {
		    Points		    [55, 0]
		    DstBlock		    "Gain3"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Integrator3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  5
		  Points		  [25, 0; 0, 50; -630, 0]
		  DstBlock		  "Sum7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator4"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 40]
		    Branch {
		    DstBlock		    "r"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-170, 0]
		    DstBlock		    "Sum8"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum8"
		  SrcPort		  1
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rudder\nangle"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "compass"
		  SrcPort		  1
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain5"
		  DstPort		  1
		}
		Line {
		  Name			  "psi_w"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [15, 0; 10, 0]
		  Branch {
		    Labels		    [2, 1]
		    Points		    [0, -40; 155, 0; 0, 0]
		    Branch {
		    Points		    [0, 0]
		    DstBlock		    "psi_w"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		  }
		}
		Line {
		  Name			  "psi_WF"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "xi_w"
		  Labels		  [0, 0; 3, 0]
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [10, 0; 0, 120]
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  Points		  [-45, 0; 0, -120]
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [55, 0]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "[-inf inf] to [-pi pi]1"
		  SrcPort		  1
		  Points		  [35, 0]
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "psi"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		  }
		}
		Line {
		  Name			  "psi"
		  Labels		  [0, 0; 1, 0]
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  Name			  "H'"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "H'"
		  SrcPort		  1
		  Points		  [0, 0; 80, 0]
		  Branch {
		    Points		    [10, 0]
		    Branch {
		    DstBlock		    "  "
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "H'*H"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 80]
		    DstBlock		    "P*H'"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "H'*H"
		  SrcPort		  1
		  DstBlock		  "    "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "P*H'"
		  SrcPort		  1
		  DstBlock		  "     "
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "    "
		  SrcPort		  1
		  DstBlock		  "P*H'*(1/r)*H*P"
		  DstPort		  2
		}
		Line {
		  Name			  "H"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "  "
		  SrcPort		  1
		  DstBlock		  "H'*H"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "matrices"
		  SrcPort		  1
		  DstBlock		  "AP"
		  DstPort		  1
		}
		Annotation {
		  Name			  "r"
		  Position		  [513, 564]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Passive DP wave filter"
	      SID		      1069
	      Ports		      [2, 3]
	      Position		      [25, 128, 160, 212]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskPromptString	      "Relative damping ratio of wave spectrum: lambda|Peak frequency of wave spectrum: w_o (r"
	      "ad/s)|Velocity observer gain: K4|Bias observer gain: K3|Filter cut-off frequency: w_c (rad/s)|Bias time constan"
	      "ts: T_b (s)|system inertia matrix: M|linear damping matrix: D"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on"
	      MaskCallbackString      "|||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on"
	      MaskVariables	      "lambda=@1;w_o=@2;K4=@3;K3=@4;w_c=@5;T_b=@6;M=@7;D=@8;"
	      MaskDisplay	      "disp('GPS and\\n Gyro')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "0.1*diag([1 1 1])|diag([0.8 0.8 0.8])|0.1*diag([1 1 0.1])|0.1*diag([1 1 0.1])|1.3*diag(["
	      "0.8 0.8 0.8])|diag([100 100 100])|diag([1 1 1])|diag([1 1 1])"
	      System {
		Name			"Passive DP wave filter"
		Location		[482, 153, 1689, 957]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "y"
		  SID			  1070
		  Position		  [950, 13, 980, 27]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "tau"
		  SID			  1071
		  Position		  [20, 452, 50, 468]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux"
		  SID			  1072
		  Ports			  [1, 3]
		  Position		  [715, 431, 720, 469]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "3"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  1073
		  Ports			  [1, 3]
		  Position		  [945, 105, 955, 145]
		  BlockMirror		  on
		  BackgroundColor	  "black"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Outputs		  "3"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  1074
		  Position		  [665, 304, 775, 356]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "2*lambda*w_o"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  SID			  1075
		  Position		  [675, 362, 765, 408]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "w_o*w_o"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  SID			  1076
		  Position		  [200, 431, 275, 489]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "inv(M)"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain6"
		  SID			  1077
		  Position		  [215, 505, 260, 555]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Gain			  "D"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  1078
		  Ports			  [1, 1]
		  Position		  [650, 435, 680, 465]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "eta"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  1079
		  Ports			  [1, 1]
		  Position		  [715, 250, 745, 280]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "eta_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  SID			  1080
		  Ports			  [1, 1]
		  Position		  [855, 250, 885, 280]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "xi_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator3"
		  SID			  1081
		  Ports			  [1, 1]
		  Position		  [95, 255, 125, 285]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "bias"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator4"
		  SID			  1082
		  Ports			  [1, 1]
		  Position		  [300, 445, 330, 475]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "nu"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "K11"
		  SID			  1083
		  Position		  [810, 190, 840, 220]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "-2*(eye(3)-lambda)*diag([w_c(1,1)/w_o(1,1) w_c(2,2)/w_o(2,2) w_c(3,3)/w_o(3,3)])"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K12"
		  SID			  1084
		  Position		  [645, 190, 675, 220]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "2*w_o*(eye(3)-lambda)"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K2"
		  SID			  1085
		  Position		  [593, 185, 627, 215]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "w_c"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K3"
		  SID			  1086
		  Position		  [92, 145, 128, 175]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "K3"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K4"
		  SID			  1087
		  Position		  [368, 175, 402, 205]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "K4"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  1088
		  Ports			  [3, 1]
		  Position		  [875, 431, 880, 469]
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  1089
		  Ports			  [3, 1]
		  Position		  [725, 105, 735, 145]
		  BlockMirror		  on
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Inputs		  "3"
		  DisplayOption		  "bar"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Rotation matrix\nin yaw 1"
		  SID			  1090
		  Ports			  [2, 1]
		  Position		  [455, 420, 545, 480]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Rotation matrix\nin yaw "
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Selector
		  Name			  "Selector"
		  SID			  1091
		  Ports			  [1, 1]
		  Position		  [630, 30, 670, 70]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  InputPortWidth	  "3"
		  IndexOptions		  "Index vector (dialog)"
		  Indices		  "[3]"
		  OutputSizes		  "1"
		  Port {
		    PortNumber		    1
		    Name		    "y_3=psi+psi_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  1092
		  Ports			  [2, 1]
		  Position		  [85, 450, 105, 470]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  1093
		  Ports			  [2, 1]
		  Position		  [975, 110, 1005, 140]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+|-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  1094
		  Ports			  [2, 1]
		  Position		  [600, 440, 620, 460]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  SID			  1095
		  Ports			  [2, 1]
		  Position		  [905, 440, 925, 460]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  SID			  1096
		  Ports			  [2, 1]
		  Position		  [815, 255, 835, 275]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "psi_WF"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  SID			  1097
		  Ports			  [3, 1]
		  Position		  [650, 255, 670, 275]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+--"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  SID			  1098
		  Ports			  [2, 1]
		  Position		  [100, 205, 120, 225]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum8"
		  SID			  1099
		  Ports			  [3, 1]
		  Position		  [155, 450, 175, 470]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Transposed rotation\n matrix in yaw"
		  SID			  1100
		  Ports			  [2, 1]
		  Position		  [341, 225, 399, 310]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Transposed rotation\n matrix in yaw"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Transposed rotation\n matrix in yaw1"
		  SID			  1101
		  Ports			  [2, 1]
		  Position		  [66, 345, 124, 430]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  SourceBlock		  "marine_gnc/Models/ Kinematics/Transposed rotation\n matrix in yaw"
		  SourceType		  "Unknown"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  1102
		  Ports			  [1, 1]
		  Position		  [745, 461, 845, 509]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]1"
		  SID			  1103
		  Ports			  [1, 1]
		  Position		  [810, 116, 910, 164]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Gain
		  Name			  "inv(T_b)"
		  SID			  1104
		  Position		  [137, 245, 183, 285]
		  BlockRotation		  270
		  BackgroundColor	  "lightBlue"
		  Gain			  "diag([1/T_b(1,1) 1/T_b(2,2) 1/T_b(3,3)])"
		  Multiplication	  "Matrix(K*u)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta_w"
		  SID			  1105
		  Position		  [940, 228, 970, 242]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "eta"
		  SID			  1106
		  Position		  [910, 478, 940, 492]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "nu"
		  SID			  1107
		  Position		  [455, 523, 485, 537]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  Points		  [0, 0; -20, 0]
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "K11"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-40, 0]
		    Branch {
		    DstBlock		    "K12"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-50, 0]
		    Branch {
		    DstBlock		    "K2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-325, 0]
		    Branch {
		    Points		    [-175, 0]
		    DstBlock		    "K3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 35]
		    DstBlock		    "K4"
		    DstPort		    1
		    }
		    }
		    }
		  }
		}
		Line {
		  Labels		  [2, 0]
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [60, 0]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "K2"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  Points		  [-45, 0; 0, -120]
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  Name			  "xi_w"
		  Labels		  [0, 0; 3, 0]
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [10, 0; 0, 120]
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "K11"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "K12"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  Name			  "psi_WF"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "eta_w"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 65]
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, -30; 155, 0]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "eta_w"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "y"
		  SrcPort		  1
		  Points		  [5, 0; 0, 30]
		  Branch {
		    DstBlock		    "Sum2"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Selector"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "tau"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Integrator3"
		  DstPort		  1
		}
		Line {
		  Name			  "bias"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator3"
		  SrcPort		  1
		  Points		  [0, 0; 0, 30]
		  Branch {
		    Points		    [50, 0]
		    DstBlock		    "inv(T_b)"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Transposed rotation\n matrix in yaw1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "inv(T_b)"
		  SrcPort		  1
		  Points		  [0, -25]
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  Name			  "eta"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "Demux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [10, 0]
		  DstBlock		  "Mux"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  Points		  [-10, 0; 15, 0]
		  Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "eta"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  2
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]1"
		  SrcPort		  1
		  DstBlock		  "Mux1"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [-20, 0; 0, -15; -115, 0; 0, 15]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  3
		  DstBlock		  "[-inf inf] to [-pi pi]1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [-10, 0; 0, -15; -145, 0; 0, 15]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  Name			  "y_3=psi+psi_w"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Selector"
		  SrcPort		  1
		  Points		  [0, 0; -190, 0]
		  Branch {
		    Labels		    [1, 0]
		    Points		    [-180, 0]
		    Branch {
		    Points		    [0, 165; 100, 0]
		    DstBlock		    "Transposed rotation\n matrix in yaw"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [-175, 0]
		    DstBlock		    "Transposed rotation\n matrix in yaw1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [0, 385]
		    DstBlock		    "Rotation matrix\nin yaw 1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "K4"
		  SrcPort		  1
		  DstBlock		  "Transposed rotation\n matrix in yaw"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Transposed rotation\n matrix in yaw"
		  SrcPort		  1
		  Points		  [0, 105; -205, 0]
		  DstBlock		  "Sum8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Transposed rotation\n matrix in yaw1"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "K3"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  1
		}
		Line {
		  Name			  "nu"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator4"
		  SrcPort		  1
		  Points		  [15, 0]
		  Branch {
		    Points		    [0, 70]
		    Branch {
		    DstBlock		    "Gain6"
		    DstPort		    1
		    }
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "nu"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Points		    [95, 0; 0, 5]
		    DstBlock		    "Rotation matrix\nin yaw 1"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Rotation matrix\nin yaw 1"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  DstBlock		  "Integrator4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Sum8"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum8"
		  SrcPort		  1
		  DstBlock		  "Gain3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain6"
		  SrcPort		  1
		  Points		  [-45, 0]
		  DstBlock		  "Sum8"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Demux"
		  SrcPort		  3
		  Points		  [0, 25]
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Annotation {
		  Name			  "nu"
		  Position		  [568, 439]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Passive autopilot wave filter 1"
	      SID		      1108
	      Ports		      [2, 3]
	      Position		      [25, 17, 155, 93]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "wave spectrum damping ratio"
	      MaskPromptString	      "Relative damping ratio of wave spectrum: lambda|Peak frequency of wave spectrum: w_o (r"
	      "ad/s)|Yaw rate observer gain: K4|Bias observer gain: K5|Filter cut-off frequency: w_c (rad/s)|Nomoto time const"
	      "ant: T (s)|Nomoto gain: K (1/s)|Rudder bias time constant: T_b (s)"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on,on,on"
	      MaskCallbackString      "|||||||"
	      MaskEnableString	      "on,on,on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on,on,on"
	      MaskVariables	      "lambda=@1;w_o=@2;K4=@3;K5=@4;w_c=@5;T=@6;K=@7;T_b=@8;"
	      MaskDisplay	      "disp('Only\\n Compass')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "0.1|1.2|0.1|0.01|1.3|100|1|100"
	      System {
		Name			"Passive autopilot wave filter 1"
		Location		[485, 214, 1774, 871]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "compass"
		  SID			  1109
		  Position		  [880, 13, 910, 27]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "rudder\nangle"
		  SID			  1110
		  Position		  [20, 347, 50, 363]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  1111
		  Position		  [450, 209, 560, 261]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "2*lambda*w_o"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  SID			  1112
		  Position		  [470, 272, 560, 318]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "w_o^2"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  SID			  1113
		  Position		  [120, 200, 160, 245]
		  BlockRotation		  270
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/T_b"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain4"
		  SID			  1114
		  Position		  [210, 334, 240, 376]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/T"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain5"
		  SID			  1115
		  Position		  [120, 334, 145, 376]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "K"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  1116
		  Ports			  [1, 1]
		  Position		  [430, 340, 460, 370]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  1117
		  Ports			  [1, 1]
		  Position		  [500, 155, 530, 185]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "psi_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  SID			  1118
		  Ports			  [1, 1]
		  Position		  [730, 155, 760, 185]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "xi_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator3"
		  SID			  1119
		  Ports			  [1, 1]
		  Position		  [70, 210, 100, 240]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "rudder\nbias"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator4"
		  SID			  1120
		  Ports			  [1, 1]
		  Position		  [300, 340, 330, 370]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		}
		Block {
		  BlockType		  Gain
		  Name			  "K1"
		  SID			  1121
		  Position		  [595, 90, 625, 120]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "-2*w_c*(1.0-lambda)/w_o"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K2"
		  SID			  1122
		  Position		  [430, 95, 460, 125]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "2*w_o*(1.0-lambda)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K3"
		  SID			  1123
		  Position		  [363, 95, 397, 125]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "w_c"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K4"
		  SID			  1124
		  Position		  [253, 95, 287, 125]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "K4"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K5"
		  SID			  1125
		  Position		  [67, 95, 103, 125]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "K5"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  1126
		  Ports			  [2, 1]
		  Position		  [75, 345, 95, 365]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "-+|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  1127
		  Ports			  [2, 1]
		  Position		  [920, 45, 950, 75]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+|-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  1128
		  Ports			  [2, 1]
		  Position		  [370, 345, 390, 365]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  SID			  1129
		  Ports			  [2, 1]
		  Position		  [780, 345, 800, 365]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  SID			  1130
		  Ports			  [2, 1]
		  Position		  [600, 160, 620, 180]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "psi_WF"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  SID			  1131
		  Ports			  [3, 1]
		  Position		  [435, 160, 455, 180]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+--"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  SID			  1132
		  Ports			  [2, 1]
		  Position		  [75, 160, 95, 180]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum8"
		  SID			  1133
		  Ports			  [2, 1]
		  Position		  [165, 345, 185, 365]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum9"
		  SID			  1134
		  Ports			  [2, 1]
		  Position		  [260, 345, 280, 365]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  1135
		  Ports			  [1, 1]
		  Position		  [570, 331, 670, 379]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]1"
		  SID			  1136
		  Ports			  [1, 1]
		  Position		  [725, 36, 825, 84]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Outport
		  Name			  "psi_w"
		  SID			  1137
		  Position		  [845, 133, 875, 147]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "psi"
		  SID			  1138
		  Position		  [785, 383, 815, 397]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "r"
		  SID			  1139
		  Position		  [435, 413, 465, 427]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]1"
		  SrcPort		  1
		  Points		  [0, -5; -110, 0]
		  Branch {
		    DstBlock		    "K1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-75, 0; -90, 0]
		    Branch {
		    DstBlock		    "K2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [0, 5; 0, -5; -65, 0]
		    Branch {
		    DstBlock		    "K3"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-110, 0]
		    Branch {
		    DstBlock		    "K4"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-185, 0]
		    DstBlock		    "K5"
		    DstPort		    1
		    }
		    }
		    }
		  }
		}
		Line {
		  Name			  "psi"
		  Labels		  [0, 0; 1, 0]
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [60, 0]
		  Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "psi"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [130, 0]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "K3"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  Points		  [-55, 0; 0, -125]
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  Name			  "xi_w"
		  Labels		  [0, 0; 3, 0]
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [10, 0; 0, 125]
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "K1"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "K2"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  Name			  "psi_WF"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "psi_w"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [35, 0]
		    Branch {
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [1, 0]
		    Points		    [0, 65]
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, -30; 245, 0]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "psi_w"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Gain5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "compass"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rudder\nangle"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum8"
		  SrcPort		  1
		  DstBlock		  "Gain4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Integrator4"
		  SrcPort		  1
		  Points		  [10, 0]
		  Branch {
		    Points		    [0, 65]
		    Branch {
		    Points		    [-170, 0]
		    DstBlock		    "Sum8"
		    DstPort		    2
		    }
		    Branch {
		    DstBlock		    "r"
		    DstPort		    1
		    }
		  }
		  Branch {
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "K5"
		  SrcPort		  1
		  DstBlock		  "Sum7"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Integrator3"
		  DstPort		  1
		}
		Line {
		  Name			  "rudder\nbias"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator3"
		  SrcPort		  1
		  Points		  [0, 40]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [55, 0]
		    DstBlock		    "Gain3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  Points		  [0, -25]
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Gain5"
		  SrcPort		  1
		  DstBlock		  "Sum8"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain4"
		  SrcPort		  1
		  DstBlock		  "Sum9"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum9"
		  SrcPort		  1
		  DstBlock		  "Integrator4"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "K4"
		  SrcPort		  1
		  DstBlock		  "Sum9"
		  DstPort		  1
		}
		Annotation {
		  Name			  "r"
		  Position		  [353, 344]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Passive autopilot wave filter 2"
	      SID		      1140
	      Ports		      [2, 3]
	      Position		      [285, 19, 435, 101]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "wave spectrum damping ratio"
	      MaskPromptString	      "Relative damping ratio of wave spectrum: lambda|Peak frequency of wave spectrum: w_o (r"
	      "ad/s)|Bias observer gain: K4|Relative damping ratio in gyro notch filter: zeta_n|Filter cut-off frequency: w_c "
	      "(rad/s)|Bias time constant: T_b (s)"
	      MaskStyleString	      "edit,edit,edit,edit,edit,edit"
	      MaskTunableValueString  "on,on,on,on,on,on"
	      MaskCallbackString      "|||||"
	      MaskEnableString	      "on,on,on,on,on,on"
	      MaskVisibilityString    "on,on,on,on,on,on"
	      MaskToolTipString	      "on,on,on,on,on,on"
	      MaskVariables	      "lambda=@1;w_o=@2;K4=@3;zeta_n=@4;w_c=@5;T_b=@6;"
	      MaskDisplay	      "disp('Compass\\n and Gyro')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      off
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "0.1|1.2|0.1|0.01|2|100"
	      System {
		Name			"Passive autopilot wave filter 2"
		Location		[204, 92, 1472, 684]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "compass"
		  SID			  1141
		  Position		  [840, 15, 870, 25]
		  BlockMirror		  on
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "rate gyro"
		  SID			  1142
		  Position		  [25, 348, 55, 362]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain1"
		  SID			  1143
		  Position		  [450, 209, 560, 261]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "2*lambda*w_o"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain2"
		  SID			  1144
		  Position		  [460, 267, 550, 313]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Gain			  "w_o^2"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain3"
		  SID			  1145
		  Position		  [235, 91, 295, 129]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  Gain			  "1/T_b"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator"
		  SID			  1146
		  Ports			  [1, 1]
		  Position		  [430, 340, 460, 370]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "psi"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator1"
		  SID			  1147
		  Ports			  [1, 1]
		  Position		  [500, 155, 530, 185]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "psi_w"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator2"
		  SID			  1148
		  Ports			  [1, 1]
		  Position		  [635, 155, 665, 185]
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "xi_W"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Integrator
		  Name			  "Integrator3"
		  SID			  1149
		  Ports			  [1, 1]
		  Position		  [245, 45, 275, 75]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  Port {
		    PortNumber		    1
		    Name		    "bias"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Gain
		  Name			  "K1"
		  SID			  1150
		  Position		  [590, 95, 620, 125]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "-2*w_c*(1.0-lambda)/w_o"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K2"
		  SID			  1151
		  Position		  [430, 95, 460, 125]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "2*w_o*(1.0-lambda)"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K3"
		  SID			  1152
		  Position		  [363, 95, 397, 125]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "w_c"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "K4"
		  SID			  1153
		  Position		  [68, 100, 112, 135]
		  BlockRotation		  270
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  Gain			  "K4"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  TransferFcn
		  Name			  "LP filter"
		  SID			  1154
		  Position		  [275, 333, 340, 377]
		  BackgroundColor	  "yellow"
		  Numerator		  "[w_c]"
		  Denominator		  "[1 w_c]"
		}
		Block {
		  BlockType		  TransferFcn
		  Name			  "Notch filter"
		  SID			  1155
		  Position		  [120, 331, 260, 379]
		  BackgroundColor	  "yellow"
		  Numerator		  "[1 2*zeta_n*w_o w_o*w_o]"
		  Denominator		  "[1 2*w_o w_o^2]"
		  Port {
		    PortNumber		    1
		    Name		    "r_LF"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  1156
		  Ports			  [2, 1]
		  Position		  [80, 345, 100, 365]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum2"
		  SID			  1157
		  Ports			  [2, 1]
		  Position		  [795, 45, 825, 75]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+|-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum3"
		  SID			  1158
		  Ports			  [2, 1]
		  Position		  [370, 345, 390, 365]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum4"
		  SID			  1159
		  Ports			  [2, 1]
		  Position		  [690, 345, 710, 365]
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum5"
		  SID			  1160
		  Ports			  [2, 1]
		  Position		  [595, 160, 615, 180]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "++|"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  Port {
		    PortNumber		    1
		    Name		    "psi_WF"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum6"
		  SID			  1161
		  Ports			  [3, 1]
		  Position		  [435, 160, 455, 180]
		  BackgroundColor	  "lightBlue"
		  NamePlacement		  "alternate"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "+--"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum7"
		  SID			  1162
		  Ports			  [2, 1]
		  Position		  [310, 50, 330, 70]
		  BlockMirror		  on
		  BackgroundColor	  "lightBlue"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]"
		  SID			  1163
		  Ports			  [1, 1]
		  Position		  [520, 331, 620, 379]
		  BackgroundColor	  "yellow"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Reference
		  Name			  "[-inf inf] to [-pi pi]1"
		  SID			  1164
		  Ports			  [1, 1]
		  Position		  [650, 36, 750, 84]
		  BlockMirror		  on
		  BackgroundColor	  "yellow"
		  NamePlacement		  "alternate"
		  SourceBlock		  "marine_gnc/Utilities/Math Operations/[-inf inf] to [-pi pi]"
		  SourceType		  "[-inf inf] to [-pi pi]"
		  ShowPortLabels	  "on"
		}
		Block {
		  BlockType		  Outport
		  Name			  "psi_w"
		  SID			  1165
		  Position		  [760, 133, 790, 147]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "psi"
		  SID			  1166
		  Position		  [780, 383, 810, 397]
		  BackgroundColor	  "red"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "r"
		  SID			  1167
		  Position		  [780, 418, 810, 432]
		  BackgroundColor	  "red"
		  Port			  "3"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "K4"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum3"
		  SrcPort		  1
		  DstBlock		  "Integrator"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum2"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "[-inf inf] to [-pi pi]1"
		  SrcPort		  1
		  Points		  [-40, 0]
		  Branch {
		    DstBlock		    "K1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [-160, 0]
		    Branch {
		    DstBlock		    "K2"
		    DstPort		    1
		    }
		    Branch {
		    Points		    [-65, 0]
		    Branch {
		    DstBlock		    "K3"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "Sum7"
		    DstPort		    1
		    }
		    }
		  }
		}
		Line {
		  Name			  "psi"
		  Labels		  [0, 0; 1, 0]
		  SrcBlock		  "Integrator"
		  SrcPort		  1
		  DstBlock		  "[-inf inf] to [-pi pi]"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 1]
		  SrcBlock		  "[-inf inf] to [-pi pi]"
		  SrcPort		  1
		  Points		  [20, 0]
		  Branch {
		    DstBlock		    "Sum4"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 35]
		    DstBlock		    "psi"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum4"
		  SrcPort		  1
		  Points		  [95, 0]
		  DstBlock		  "Sum2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "K3"
		  SrcPort		  1
		  DstBlock		  "Sum3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum6"
		  SrcPort		  1
		  DstBlock		  "Integrator1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain1"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  3
		}
		Line {
		  SrcBlock		  "Gain2"
		  SrcPort		  1
		  Points		  [-45, 0; 0, -120]
		  DstBlock		  "Sum6"
		  DstPort		  2
		}
		Line {
		  Name			  "xi_W"
		  Labels		  [0, 0; 3, 0]
		  SrcBlock		  "Integrator2"
		  SrcPort		  1
		  Points		  [15, 0; 0, 120]
		  DstBlock		  "Gain2"
		  DstPort		  1
		}
		Line {
		  Labels		  [0, 0]
		  SrcBlock		  "K1"
		  SrcPort		  1
		  DstBlock		  "Sum5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "K2"
		  SrcPort		  1
		  DstBlock		  "Sum6"
		  DstPort		  1
		}
		Line {
		  Name			  "psi_WF"
		  Labels		  [0, 0]
		  SrcBlock		  "Sum5"
		  SrcPort		  1
		  DstBlock		  "Integrator2"
		  DstPort		  1
		}
		Line {
		  Name			  "psi_w"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator1"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [30, 0]
		    Branch {
		    DstBlock		    "Sum5"
		    DstPort		    2
		    }
		    Branch {
		    Labels		    [1, 0]
		    DstBlock		    "Gain1"
		    DstPort		    1
		    }
		  }
		  Branch {
		    Labels		    [2, 0]
		    Points		    [0, -30; 155, 0]
		    Branch {
		    DstBlock		    "Sum4"
		    DstPort		    1
		    }
		    Branch {
		    DstBlock		    "psi_w"
		    DstPort		    1
		    }
		  }
		}
		Line {
		  Name			  "bias"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Integrator3"
		  SrcPort		  1
		  Points		  [0, 0; -45, 0]
		  Branch {
		    Points		    [0, 50]
		    DstBlock		    "Gain3"
		    DstPort		    1
		  }
		  Branch {
		    Labels		    [1, 0]
		    Points		    [-105, 0]
		    DstBlock		    "K4"
		    DstPort		    1
		  }
		}
		Line {
		  Name			  "r_LF"
		  Labels		  [0, 0]
		  SrcBlock		  "Notch filter"
		  SrcPort		  1
		  DstBlock		  "LP filter"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Notch filter"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "LP filter"
		  SrcPort		  1
		  Points		  [0, 0; 5, 0]
		  Branch {
		    Labels		    [-1, 1]
		    DstBlock		    "Sum3"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [0, 70]
		    DstBlock		    "r"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum7"
		  SrcPort		  1
		  DstBlock		  "Integrator3"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain3"
		  SrcPort		  1
		  Points		  [20, 0]
		  DstBlock		  "Sum7"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "compass"
		  SrcPort		  1
		  Points		  [-25, 0]
		  DstBlock		  "Sum2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "rate gyro"
		  SrcPort		  1
		  DstBlock		  "Sum1"
		  DstPort		  2
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Sensors "
	  SID			  1168
	  Ports			  []
	  Position		  [90, 74, 137, 125]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Sensors "
	    Location		    [433, 403, 931, 703]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	  }
	}
      }
    }
    Block {
      BlockType		      SubSystem
      Name		      "Utilities"
      SID		      1169
      Ports		      []
      Position		      [635, 74, 682, 125]
      BackgroundColor	      "yellow"
      MinAlgLoopOccurrences   off
      PropExecContextOutsideSubsystem off
      RTWSystemCode	      "Auto"
      FunctionWithSeparateData off
      Opaque		      off
      RequestExecContextInheritance off
      MaskHideContents	      off
      System {
	Name			"Utilities"
	Location		[401, 152, 1360, 875]
	Open			off
	ModelBrowserVisibility	on
	ModelBrowserWidth	200
	ScreenColor		"white"
	PaperOrientation	"landscape"
	PaperPositionMode	"auto"
	PaperType		"usletter"
	PaperUnits		"inches"
	TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
	TiledPageScale		1
	ShowPageBoundaries	off
	ZoomFactor		"100"
	Block {
	  BlockType		  SubSystem
	  Name			  "Dynamics"
	  SID			  1170
	  Ports			  []
	  Position		  [30, 99, 77, 150]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Dynamics"
	    Location		    [202, 86, 1270, 982]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "2nd order time constant"
	      SID		      1171
	      Ports		      [1, 1]
	      Position		      [45, 28, 150, 82]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "2nd order time constant"
	      MaskDescription	      "Approximate 2nd order time constnant, implemented as a second order system with damping "
	      "ratio 1 and eigenfrequency w = 1.5/T, where T is the time constant."
	      MaskPromptString	      "Time constant [s]"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "T=@1;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "3"
	      System {
		Name			"2nd order time constant"
		Location		[877, 283, 1457, 576]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  SID			  1172
		  Position		  [20, 58, 50, 72]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  TransferFcn
		  Name			  "Transfer Fcn1"
		  SID			  1173
		  Position		  [130, 27, 360, 103]
		  BackgroundColor	  "yellow"
		  Denominator		  "[1/(1.5/T)^2 2/(1.5/T) 1]"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  SID			  1174
		  Position		  [400, 58, 430, 72]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Transfer Fcn1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Transfer Fcn1"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Math Operations"
	  SID			  1175
	  Ports			  []
	  Position		  [145, 14, 192, 65]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Math Operations"
	    Location		    [202, 86, 1270, 982]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    233
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "Unit Conversion"
	      SID		      1176
	      Ports		      [1, 1]
	      Position		      [470, 40, 530, 90]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Unit Conversion"
	      MaskDescription	      "Block to convert units. If the input in is a vector, \nall the components are converted "
	      "using the same conversion factor. \n\nCopyright (C) 2005 NTNU\nAuthor:  Tristan Perez \n"
	      MaskPromptString	      "Convert"
	      MaskStyleString	      "popup(deg2rad|rad2deg|kt2m/sec|m/sec2 kt)"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "in=@1;"
	      MaskInitialization      "if  in==1,\nk=pi/180;\nelseif  in==2,\nk=180/pi;\nelseif in==3,\nk = .5145;\nelseif in"
	      " ==4,\nk = 1/.5145;\n\nend"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "deg2rad"
	      System {
		Name			"Unit Conversion"
		Location		[404, 184, 604, 266]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In"
		  SID			  1177
		  Position		  [25, 33, 55, 47]
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  1178
		  Position		  [80, 25, 110, 55]
		  Gain			  "k"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Outport
		  Name			  "Out"
		  SID			  1179
		  Position		  [145, 33, 175, 47]
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "In"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  DstBlock		  "Out"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "[-inf inf] to [-pi pi]"
	      SID		      1180
	      Ports		      [1, 1]
	      Position		      [65, 41, 165, 89]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "[-inf inf] to [-pi pi]"
	      MaskDescription	      "Converts an angle in rad to (-pi pi)"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"[-inf inf] to [-pi pi]"
		Location		[259, 331, 1005, 1077]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "x [-inf inf]"
		  SID			  1181
		  Position		  [45, 23, 75, 37]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  1182
		  Position		  [310, 60, 340, 90]
		  BackgroundColor	  "green"
		  Value			  "2*pi"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  1183
		  Position		  [245, 105, 275, 135]
		  BackgroundColor	  "yellow"
		  Gain			  "pi"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  SID			  1184
		  Ports			  [2, 1]
		  Position		  [375, 22, 405, 53]
		  BackgroundColor	  "yellow"
		  Operator		  "rem"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  1185
		  Position		  [105, 15, 135, 45]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "1e10"
		  LowerLimit		  "-1e10"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  SID			  1186
		  Position		  [190, 105, 220, 135]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  1187
		  Ports			  [2, 1]
		  Position		  [455, 30, 475, 50]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  1188
		  Ports			  [2, 1]
		  Position		  [280, 20, 300, 40]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Outport
		  Name			  "y [-pi pi]"
		  SID			  1189
		  Position		  [515, 33, 545, 47]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "y [-pi pi]"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [5, 0; 0, -30]
		  DstBlock		  "Math\nFunction"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [175, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "x [-inf inf]"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Annotation {
		  Name			  "r"
		  Position		  [416, 26]
		}
		Annotation {
		  Name			  "x"
		  Position		  [181, 16]
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "[-pi pi] to [-inf inf]"
	      SID		      1190
	      Ports		      [1, 1]
	      Position		      [200, 39, 295, 91]
	      BackgroundColor	      "yellow"
	      AncestorBlock	      "Marine_GNC/Utilities/Math operations/[-pi pi] to [-inf inf]"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "[-pi pi] to [-inf inf]"
	      MaskDescription	      "Maps an angle in the range [-pi pi] to the range [-inf inf]."
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"[-pi pi] to [-inf inf]"
		Location		[480, 93, 1060, 386]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		SIDHighWatermark	3
		Block {
		  BlockType		  Inport
		  Name			  "x [-pi pi]"
		  SID			  1
		  Position		  [25, 138, 55, 152]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  "S-Function"
		  Name			  "S-Function"
		  SID			  2
		  Ports			  [1, 1]
		  Position		  [150, 130, 210, 160]
		  BackgroundColor	  "yellow"
		  FunctionName		  "pipi2inf"
		  EnableBusSupport	  off
		}
		Block {
		  BlockType		  Outport
		  Name			  "y [-inf inf]"
		  SID			  3
		  Position		  [275, 138, 305, 152]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "S-Function"
		  SrcPort		  1
		  DstBlock		  "y [-inf inf]"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "x [-pi pi]"
		  SrcPort		  1
		  DstBlock		  "S-Function"
		  DstPort		  1
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "deg to 180/180"
	      SID		      1191
	      Ports		      [1, 1]
	      Position		      [335, 39, 445, 91]
	      BackgroundColor	      "yellow"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "deg to 180/180"
	      MaskDescription	      "Converts an angle in deg to +- 180 deg"
	      MaskDisplay	      "disp('[0 360] to [-180 180]')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"deg to 180/180"
		Location		[806, 226, 1552, 972]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"usletter"
		PaperUnits		"inches"
		TiledPaperMargins	[0.196850, 0.196850, 0.196850, 0.196850]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "x (deg)"
		  SID			  1192
		  Position		  [15, 23, 45, 37]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  1193
		  Position		  [275, 61, 310, 89]
		  BackgroundColor	  "green"
		  Value			  "2*180"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Gain
		  Name			  "Gain"
		  SID			  1194
		  Position		  [190, 105, 235, 135]
		  BackgroundColor	  "yellow"
		  Gain			  "180"
		  ParameterDataType	  "sfix(16)"
		  ParameterScaling	  "2^0"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Math
		  Name			  "Math\nFunction"
		  SID			  1195
		  Ports			  [2, 1]
		  Position		  [340, 22, 370, 53]
		  BackgroundColor	  "yellow"
		  Operator		  "rem"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  1196
		  Position		  [70, 15, 100, 45]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "1e10"
		  LowerLimit		  "-1e10"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  SID			  1197
		  Position		  [140, 105, 170, 135]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum"
		  SID			  1198
		  Ports			  [2, 1]
		  Position		  [420, 30, 440, 50]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Sum1"
		  SID			  1199
		  Ports			  [2, 1]
		  Position		  [245, 20, 265, 40]
		  BackgroundColor	  "yellow"
		  ShowName		  off
		  IconShape		  "round"
		  Inputs		  "|++"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		}
		Block {
		  BlockType		  Outport
		  Name			  "-180<y<180"
		  SID			  1200
		  Position		  [480, 33, 510, 47]
		  BackgroundColor	  "red"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Line {
		  SrcBlock		  "Sum"
		  SrcPort		  1
		  DstBlock		  "-180<y<180"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Math\nFunction"
		  SrcPort		  1
		  DstBlock		  "Sum"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [0, -30]
		  DstBlock		  "Math\nFunction"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Sum1"
		  SrcPort		  1
		  DstBlock		  "Math\nFunction"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Gain"
		  SrcPort		  1
		  Points		  [0, 0; 15, 0]
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    2
		  }
		  Branch {
		    Points		    [175, 0]
		    DstBlock		    "Sum"
		    DstPort		    2
		  }
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  DstBlock		  "Gain"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "x (deg)"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [0, 0; 10, 0]
		  Branch {
		    Points		    [0, 90]
		    DstBlock		    "Sign"
		    DstPort		    1
		  }
		  Branch {
		    DstBlock		    "Sum1"
		    DstPort		    1
		  }
		}
		Annotation {
		  Name			  "r"
		  Position		  [381, 26]
		}
		Annotation {
		  Name			  "x"
		  Position		  [121, 16]
		}
	      }
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Simulation tools"
	  SID			  1201
	  Ports			  []
	  Position		  [255, 14, 302, 65]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Simulation tools"
	    Location		    [202, 86, 1270, 982]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "A4"
	    PaperUnits		    "centimeters"
	    TiledPaperMargins	    [0.500000, 0.500000, 0.500000, 0.500000]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	    Block {
	      BlockType		      SubSystem
	      Name		      "6DOF comparison"
	      SID		      1202
	      Ports		      [2]
	      Position		      [70, 162, 135, 218]
	      BackgroundColor	      "red"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "6DOF comparison"
	      MaskDescription	      "Compare two 6DOF signals (i.e. motion or force). To view the signals, open the scope ins"
	      "ide the block."
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      System {
		Name			"6DOF comparison"
		Location		[515, 89, 955, 919]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "In 1"
		  SID			  1203
		  Position		  [25, 213, 55, 227]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Inport
		  Name			  "In 2"
		  SID			  1204
		  Position		  [25, 608, 55, 622]
		  BackgroundColor	  "green"
		  Port			  "2"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Scope
		  Name			  "6DOF comparison"
		  SID			  1205
		  Ports			  [6]
		  Position		  [320, 30, 415, 425]
		  BackgroundColor	  "red"
		  Floating		  off
		  Location		  [766, 70, 1670, 1016]
		  Open			  off
		  NumInputPorts		  "6"
		  List {
		    ListType		    AxesTitles
		    axes1		    "%<SignalLabel>"
		    axes2		    "%<SignalLabel>"
		    axes3		    "%<SignalLabel>"
		    axes4		    "%<SignalLabel>"
		    axes5		    "%<SignalLabel>"
		    axes6		    "%<SignalLabel>"
		  }
		  TimeRange		  "200"
		  YMin			  "-0.2~-0.15~-0.5~-0.2~-0.02~-0.015"
		  YMax			  "0.3~0.175~0.5~0.2~0.02~0.0175"
		  DataFormat		  "StructureWithTime"
		  MaxDataPoints		  "20000"
		  SampleTime		  "0"
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux1"
		  SID			  1206
		  Ports			  [1, 6]
		  Position		  [120, 421, 125, 804]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "6"
		  Port {
		    PortNumber		    1
		    Name		    "surge"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Demux
		  Name			  "Demux2"
		  SID			  1207
		  Ports			  [1, 6]
		  Position		  [120, 26, 125, 409]
		  BackgroundColor	  "black"
		  ShowName		  off
		  Outputs		  "6"
		  Port {
		    PortNumber		    1
		    Name		    "surge"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    2
		    Name		    "sway"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    3
		    Name		    "heave"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    4
		    Name		    "roll"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    5
		    Name		    "pitch"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		  Port {
		    PortNumber		    6
		    Name		    "yaw"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux"
		  SID			  1208
		  Ports			  [2, 1]
		  Position		  [240, 46, 245, 84]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "surge"
		    PropagatedSignals	    "surge, surge"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux1"
		  SID			  1209
		  Ports			  [2, 1]
		  Position		  [240, 111, 245, 149]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "sway"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux2"
		  SID			  1210
		  Ports			  [2, 1]
		  Position		  [240, 176, 245, 214]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "heave"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux3"
		  SID			  1211
		  Ports			  [2, 1]
		  Position		  [245, 241, 250, 279]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "roll"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux4"
		  SID			  1212
		  Ports			  [2, 1]
		  Position		  [245, 306, 250, 344]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "pitch"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Block {
		  BlockType		  Mux
		  Name			  "Mux5"
		  SID			  1213
		  Ports			  [2, 1]
		  Position		  [245, 371, 250, 409]
		  ShowName		  off
		  Inputs		  "2"
		  DisplayOption		  "bar"
		  Port {
		    PortNumber		    1
		    Name		    "yaw"
		    RTWStorageClass	    "Auto"
		    DataLoggingNameMode	    "SignalName"
		  }
		}
		Line {
		  Name			  "surge"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Demux2"
		  SrcPort		  1
		  DstBlock		  "Mux"
		  DstPort		  1
		}
		Line {
		  Name			  "surge"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Demux1"
		  SrcPort		  1
		  Points		  [30, 0; 0, -375]
		  DstBlock		  "Mux"
		  DstPort		  2
		}
		Line {
		  Name			  "sway"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Demux2"
		  SrcPort		  2
		  Points		  [0, 0]
		  DstBlock		  "Mux1"
		  DstPort		  1
		}
		Line {
		  Name			  "heave"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Demux2"
		  SrcPort		  3
		  Points		  [0, 0]
		  DstBlock		  "Mux2"
		  DstPort		  1
		}
		Line {
		  Name			  "roll"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Demux2"
		  SrcPort		  4
		  Points		  [0, 0]
		  DstBlock		  "Mux3"
		  DstPort		  1
		}
		Line {
		  Name			  "pitch"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Demux2"
		  SrcPort		  5
		  Points		  [0, 0]
		  DstBlock		  "Mux4"
		  DstPort		  1
		}
		Line {
		  Name			  "yaw"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Demux2"
		  SrcPort		  6
		  Points		  [0, 0]
		  DstBlock		  "Mux5"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  2
		  Points		  [40, 0; 0, -375]
		  DstBlock		  "Mux1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  3
		  Points		  [50, 0; 0, -375]
		  DstBlock		  "Mux2"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  4
		  Points		  [60, 0; 0, -375]
		  DstBlock		  "Mux3"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  5
		  Points		  [70, 0; 0, -375]
		  DstBlock		  "Mux4"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Demux1"
		  SrcPort		  6
		  Points		  [80, 0; 0, -375]
		  DstBlock		  "Mux5"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "In 1"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Demux2"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "In 2"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Demux1"
		  DstPort		  1
		}
		Line {
		  Name			  "surge"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux"
		  SrcPort		  1
		  DstBlock		  "6DOF comparison"
		  DstPort		  1
		}
		Line {
		  Name			  "sway"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux1"
		  SrcPort		  1
		  DstBlock		  "6DOF comparison"
		  DstPort		  2
		}
		Line {
		  Name			  "heave"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux2"
		  SrcPort		  1
		  DstBlock		  "6DOF comparison"
		  DstPort		  3
		}
		Line {
		  Name			  "roll"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux3"
		  SrcPort		  1
		  DstBlock		  "6DOF comparison"
		  DstPort		  4
		}
		Line {
		  Name			  "pitch"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux4"
		  SrcPort		  1
		  DstBlock		  "6DOF comparison"
		  DstPort		  5
		}
		Line {
		  Name			  "yaw"
		  Labels		  [0, 0; 0, 0]
		  SrcBlock		  "Mux5"
		  SrcPort		  1
		  DstBlock		  "6DOF comparison"
		  DstPort		  6
		}
	      }
	    }
	    Block {
	      BlockType		      SubSystem
	      Name		      "Signal range error"
	      SID		      1214
	      Ports		      [1]
	      Position		      [70, 84, 175, 136]
	      BackgroundColor	      "red"
	      MinAlgLoopOccurrences   off
	      PropExecContextOutsideSubsystem off
	      RTWSystemCode	      "Auto"
	      FunctionWithSeparateData off
	      Opaque		      off
	      RequestExecContextInheritance off
	      MaskHideContents	      off
	      MaskType		      "Signal range error"
	      MaskDescription	      "Stop the simulation and return a user specified error message if any of the values in th"
	      "e input signal is outside the range spanned by the vector specified in the mask. The sizes of the input vector "
	      "and mask vector are arbitrary, the allowed signal range is taken as the max and min values of the vector in the"
	      " mask.\n\nAuthor: yvind Notland Smogeli, 2005-05-15"
	      MaskPromptString	      "Vector spanning the allowed input signal range|Error message"
	      MaskStyleString	      "edit,edit"
	      MaskTunableValueString  "on,on"
	      MaskCallbackString      "|"
	      MaskEnableString	      "on,on"
	      MaskVisibilityString    "on,on"
	      MaskToolTipString	      "on,on"
	      MaskVariables	      "Values=@1;message=&2;"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "[-3 -1]|Test message"
	      System {
		Name			"Signal range error"
		Location		[293, 82, 1374, 599]
		Open			off
		ModelBrowserVisibility	on
		ModelBrowserWidth	200
		ScreenColor		"white"
		PaperOrientation	"landscape"
		PaperPositionMode	"auto"
		PaperType		"A4"
		PaperUnits		"centimeters"
		TiledPaperMargins	[0.500000, 0.500000, 0.500000, 0.500000]
		TiledPageScale		1
		ShowPageBoundaries	off
		ZoomFactor		"100"
		Block {
		  BlockType		  Inport
		  Name			  "Signal"
		  SID			  1215
		  Position		  [40, 33, 70, 47]
		  BackgroundColor	  "green"
		  IconDisplay		  "Port number"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Add"
		  SID			  1216
		  Ports			  [2, 1]
		  Position		  [635, 87, 665, 118]
		  BackgroundColor	  "yellow"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^-10"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Constant
		  Name			  "Constant"
		  SID			  1217
		  Position		  [25, 140, 55, 170]
		  BackgroundColor	  "green"
		  Value			  "Values"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax"
		  SID			  1218
		  Ports			  [1, 1]
		  Position		  [140, 25, 170, 55]
		  BackgroundColor	  "yellow"
		  Function		  "max"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax1"
		  SID			  1219
		  Ports			  [1, 1]
		  Position		  [140, 140, 170, 170]
		  BackgroundColor	  "yellow"
		  Function		  "max"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax2"
		  SID			  1220
		  Ports			  [1, 1]
		  Position		  [140, 85, 170, 115]
		  BackgroundColor	  "yellow"
		  Function		  "min"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  MinMax
		  Name			  "MinMax3"
		  SID			  1221
		  Ports			  [1, 1]
		  Position		  [140, 195, 170, 225]
		  BackgroundColor	  "yellow"
		  Function		  "min"
		  InputSameDT		  off
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^0"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation"
		  SID			  1222
		  Position		  [475, 35, 505, 65]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "1"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Saturate
		  Name			  "Saturation1"
		  SID			  1223
		  Position		  [475, 95, 505, 125]
		  BackgroundColor	  "yellow"
		  UpperLimit		  "1"
		  LowerLimit		  "0"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign"
		  SID			  1224
		  Position		  [395, 35, 425, 65]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Signum
		  Name			  "Sign1"
		  SID			  1225
		  Position		  [395, 95, 425, 125]
		  BackgroundColor	  "yellow"
		}
		Block {
		  BlockType		  Reference
		  Name			  "Stop simulation"
		  SID			  1226
		  Ports			  [1]
		  Position		  [735, 85, 820, 125]
		  BackgroundColor	  "red"
		  SourceBlock		  "marine_gnc/Utilities/Simulation tools/Stop simulation"
		  SourceType		  "Stop simulation"
		  message		  "message"
		}
		Block {
		  BlockType		  Sum
		  Name			  "Subtract"
		  SID			  1227
		  Ports			  [2, 1]
		  Position		  [280, 32, 310, 63]
		  BackgroundColor	  "yellow"
		  Inputs		  "+-"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^-10"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Block {
		  BlockType		  Sum
		  Name			  "Subtract1"
		  SID			  1228
		  Ports			  [2, 1]
		  Position		  [280, 92, 310, 123]
		  BackgroundColor	  "yellow"
		  Inputs		  "-+"
		  InputSameDT		  off
		  OutDataTypeMode	  "Inherit via internal rule"
		  OutDataType		  "sfix(16)"
		  OutScaling		  "2^-10"
		  OutDataTypeStr	  "Inherit: Inherit via internal rule"
		  SaturateOnIntegerOverflow off
		}
		Line {
		  SrcBlock		  "Sign"
		  SrcPort		  1
		  DstBlock		  "Saturation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Signal"
		  SrcPort		  1
		  Points		  [0, 0; 25, 0]
		  Branch {
		    DstBlock		    "MinMax"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 60]
		    DstBlock		    "MinMax2"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "Constant"
		  SrcPort		  1
		  Points		  [0, 0; 45, 0]
		  Branch {
		    DstBlock		    "MinMax1"
		    DstPort		    1
		  }
		  Branch {
		    Points		    [0, 55]
		    DstBlock		    "MinMax3"
		    DstPort		    1
		  }
		}
		Line {
		  SrcBlock		  "MinMax"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Subtract"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax1"
		  SrcPort		  1
		  Points		  [25, 0; 0, -100]
		  DstBlock		  "Subtract"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Subtract"
		  SrcPort		  1
		  DstBlock		  "Sign"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Saturation"
		  SrcPort		  1
		  Points		  [55, 0; 0, 45]
		  DstBlock		  "Add"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Add"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Stop simulation"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Sign1"
		  SrcPort		  1
		  DstBlock		  "Saturation1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "Subtract1"
		  SrcPort		  1
		  DstBlock		  "Sign1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax2"
		  SrcPort		  1
		  Points		  [0, 0]
		  DstBlock		  "Subtract1"
		  DstPort		  1
		}
		Line {
		  SrcBlock		  "MinMax3"
		  SrcPort		  1
		  Points		  [45, 0; 0, -95]
		  DstBlock		  "Subtract1"
		  DstPort		  2
		}
		Line {
		  SrcBlock		  "Saturation1"
		  SrcPort		  1
		  DstBlock		  "Add"
		  DstPort		  2
		}
	      }
	    }
	    Block {
	      BlockType		      "S-Function"
	      Name		      "Stop simulation"
	      SID		      1229
	      Ports		      [1]
	      Position		      [70, 20, 155, 60]
	      BackgroundColor	      "red"
	      FunctionName	      "stopSimulation"
	      Parameters	      "message"
	      EnableBusSupport	      off
	      MaskType		      "Stop simulation"
	      MaskDescription	      "Stop the simulation and return a user specified error message if the input signal is out"
	      "side the range [0, 1>\n\nAuthor: yvind Notland Smogeli, 2005-05-13"
	      MaskPromptString	      "Error message (string)"
	      MaskStyleString	      "edit"
	      MaskTunableValueString  "on"
	      MaskEnableString	      "on"
	      MaskVisibilityString    "on"
	      MaskToolTipString	      "on"
	      MaskVariables	      "message=@1;"
	      MaskDisplay	      "port_label('input', 1, '')"
	      MaskIconFrame	      on
	      MaskIconOpaque	      on
	      MaskIconRotate	      "none"
	      MaskPortRotate	      "default"
	      MaskIconUnits	      "autoscale"
	      MaskValueString	      "'Error message test'"
	    }
	  }
	}
	Block {
	  BlockType		  SubSystem
	  Name			  "Visualization"
	  SID			  1230
	  Ports			  []
	  Position		  [35, 14, 82, 65]
	  BackgroundColor	  "yellow"
	  MinAlgLoopOccurrences	  off
	  PropExecContextOutsideSubsystem off
	  RTWSystemCode		  "Auto"
	  FunctionWithSeparateData off
	  Opaque		  off
	  RequestExecContextInheritance	off
	  MaskHideContents	  off
	  System {
	    Name		    "Visualization"
	    Location		    [433, 403, 931, 703]
	    Open		    off
	    ModelBrowserVisibility  on
	    ModelBrowserWidth	    200
	    ScreenColor		    "white"
	    PaperOrientation	    "landscape"
	    PaperPositionMode	    "auto"
	    PaperType		    "usletter"
	    PaperUnits		    "inches"
	    TiledPaperMargins	    [0.196850, 0.196850, 0.196850, 0.196850]
	    TiledPageScale	    1
	    ShowPageBoundaries	    off
	    ZoomFactor		    "100"
	  }
	}
      }
    }
    Annotation {
      Name		      "Marine GNC (Guidance Navigation and Control) Version 3.3 "
      Position		      [409, 27]
      FontName		      "Arial"
      FontSize		      16
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "\n              Reference\n                     Way Point Gen.\n\n\n_______________________\nGuidan"
      "ce"
      Position		      [134, 126]
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "\n\n                     Control Surfaces\n                             Environmental Loads\n      "
      "               Hydromechanics\n          Kinematics\n     Kinetics\n           Propulsion\n_____________________"
      "____________\nModels"
      Position		      [454, 321]
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "\n     Autopilot\n                         Dynamic Positioning\n    Thruster\n             Roll Dam"
      "ping\n___________________________\nControl"
      Position		      [139, 311]
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "\n                      Waves\n                   Wind\n                       Current\n\n_________"
      "_________\nEnvironment"
      Position		      [439, 126]
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "|\n|\n|"
      Position		      [442, 215]
    }
    Annotation {
      Name		      "_ _ _"
      Position		      [295, 308]
    }
    Annotation {
      Name		      "_ _ _"
      Position		      [615, 318]
    }
    Annotation {
      Name		      "|\n|\n|\n|"
      Position		      [137, 220]
    }
    Annotation {
      Name		      "|\n|\n|\n|"
      Position		      [727, 415]
    }
    Annotation {
      Name		      "|\n|\n|\n|"
      Position		      [132, 405]
    }
    Annotation {
      Name		      "_ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _  _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ _ "
      "_ _ _ _ _  _ _ _ _ _ _ _ _ _ _ _ "
      Position		      [430, 433]
    }
    Annotation {
      Name		      "                      \n                      Sensors\n                   Filters\n                "
      "          Estimators\n\n____________________\nNavigation"
      Position		      [729, 321]
      DropShadow	      on
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "This library is part of the Marine Systems Simulator (MSS) \nThis program comes with ABSOLUTELY NO "
      "WARRANTY. This is free software,\nand you are welcome to redistribute it under certain conditions; for details\n"
      ">>type license.txt\n \n http:\\\\www.marinecontrol.org\n\nMSS GNC  Copyright (C) 2004-2009 Thor I. Fossen and Tr"
      "istan Perez\n MSS Version 3.3 for Matlab 2007, 2008, 2009\n2009-09-08"
      Position		      [409, 521]
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
    Annotation {
      Name		      "                       \n\n\n\n____________________\nUtilities"
      Position		      [699, 116]
      FontName		      "Arial"
      FontSize		      14
      FontWeight	      "bold"
    }
  }
}
